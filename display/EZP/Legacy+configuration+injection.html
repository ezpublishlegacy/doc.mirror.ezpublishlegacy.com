<!DOCTYPE html>
<html>

<!-- Mirrored from doc.ez.no/display/EZP/Legacy+configuration+injection by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 08:54:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <title>Legacy configuration injection - eZ Publish Platform 5.x - eZ Documentation</title>

        

                        
    
                        
    
                        
    

    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="../../index.html">

<meta id="atlassian-token" name="atlassian-token" content="494111f00e28ced96046bfb6fbe8f75e18d44b71">

<meta id="confluence-space-key" name="confluence-space-key" content="EZP">
<script type="text/javascript">
        var contextPath = '';
</script>

    

<!-- include system css resources -->


    <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/6e55d36b98fe54865e616dc7ce47dca4/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/6e55d36b98fe54865e616dc7ce47dca4/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,atl.general/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/47016f6b93087cd2003bf867318254ee/_/download/contextbatch/css/theme.doc/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.6.10/_/download/batch/org.randombits.confluence.toc_toc-plugin-styles/org.randombits.confluence.toc_toc-plugin-styles.117.d" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.0.22/_/download/batch/confluence.extra.information_information-plugin/confluence.extra.information_information-plugin-adg-s" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.1.4/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_synt" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.1.4/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_sh-t" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/5.3.3-m6/_/download/batch/confluence.extra.jira_web-resources-adg/confluence.extra.jira_web-resources-adg.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/51/_/styles/colorsb538.css?spaceKey=EZP" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/51/_/styles/customb538.css?spaceKey=EZP" media="all">

<!-- end system css resources -->

    <meta name="confluence-request-time" content="1413877104513">
        
    
        
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-keyboardshortcut-hash" content="ec556f85a7b4fc86b37ab7a78ce3d8b0">
            <meta id="team-calendars-has-jira-link" content="true">
            <meta name="ajs-team-calendars-display-time-format" content="displayTimeFormat12">
            <meta id="team-calendars-user-timezone" content="UTC">
            <script type="text/x-template" id="team-calendars-messages" title="team-calendars-messages">
    <fieldset class="i18n hidden">
                    <input type="hidden" name="calendar3.month.short.april" value="Apr">
                    <input type="hidden" name="calendar3.month.short.november" value="Nov">
                    <input type="hidden" name="calendar3.month.long.november" value="November">
                    <input type="hidden" name="calendar3.day.short.friday" value="Fri">
                    <input type="hidden" name="calendar3.month.long.february" value="February">
                    <input type="hidden" name="calendar3.month.short.february" value="Feb">
                    <input type="hidden" name="calendar3.day.long.wednesday" value="Wednesday">
                    <input type="hidden" name="calendar3.month.long.december" value="December">
                    <input type="hidden" name="calendar3.day.short.sunday" value="Sun">
                    <input type="hidden" name="calendar3.month.long.april" value="April">
                    <input type="hidden" name="calendar3.month.long.july" value="July">
                    <input type="hidden" name="calendar3.month.long.september" value="September">
                    <input type="hidden" name="calendar3.month.short.august" value="Aug">
                    <input type="hidden" name="calendar3.month.short.june" value="Jun">
                    <input type="hidden" name="calendar3.month.short.may" value="May">
                    <input type="hidden" name="calendar3.day.short.tuesday" value="Tue">
                    <input type="hidden" name="calendar3.day.short.wednesday" value="Wed">
                    <input type="hidden" name="calendar3.day.long.thursday" value="Thursday">
                    <input type="hidden" name="calendar3.month.long.march" value="March">
                    <input type="hidden" name="calendar3.month.long.october" value="October">
                    <input type="hidden" name="calendar3.day.short.saturday" value="Sat">
                    <input type="hidden" name="calendar3.month.short.january" value="Jan">
                    <input type="hidden" name="calendar3.month.long.may" value="May">
                    <input type="hidden" name="calendar3.month.long.january" value="January">
                    <input type="hidden" name="calendar3.month.short.october" value="Oct">
                    <input type="hidden" name="calendar3.day.short.thursday" value="Thu">
                    <input type="hidden" name="calendar3.day.long.friday" value="Friday">
                    <input type="hidden" name="calendar3.day.long.sunday" value="Sunday">
                    <input type="hidden" name="calendar3.month.long.june" value="June">
                    <input type="hidden" name="calendar3.month.long.august" value="August">
                    <input type="hidden" name="calendar3.day.long.tuesday" value="Tuesday">
                    <input type="hidden" name="calendar3.day.long.saturday" value="Saturday">
                    <input type="hidden" name="calendar3.month.short.september" value="Sep">
                    <input type="hidden" name="calendar3.day.long.monday" value="Monday">
                    <input type="hidden" name="calendar3.month.short.july" value="Jul">
                    <input type="hidden" name="calendar3.month.short.march" value="Mar">
                    <input type="hidden" name="calendar3.day.short.monday" value="Mon">
                    <input type="hidden" name="calendar3.month.short.december" value="Dec">
            </fieldset>
</script>

            

    
            
    
    
            <meta name="ajs-page-id" content="8323268">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="Legacy configuration injection">
            <meta name="ajs-parent-page-title" content="Configuration">
            <meta name="ajs-parent-page-id" content="2720538">
            <meta name="ajs-space-key" content="EZP">
            <meta name="ajs-space-name" content="eZ Publish Platform 5.x">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-editor.loader.comment.resources" content="&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/9f01679814e63f4c0513d02c90477002/_/download/contextbatch/css/comment-editor/batch.html media=&quot;all&quot;&gt;
">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://doc.ez.no">
            <meta name="ajs-version-number" content="5.4.4">
            <meta name="ajs-build-number" content="4733">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="sync.event">
            <meta name="ajs-atl-token" content="494111f00e28ced96046bfb6fbe8f75e18d44b71">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-editor.loader.resources" content="&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullpage-edi/batch.702.delaye media=&quot;all&quot;&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullpage/batch.703a781.delaye?media=%28max-width%3A+1450px%29%22 media=&quot;(max-width: 1450px)&quot;&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullpage/batch.70423d0.delaye?media=print%22 media=&quot;print&quot;&gt;
&lt;!--[if lt IE 9]&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullpage/batch.705d0b5.delaye?conditionalComment=lt+IE+9%22 media=&quot;all&quot;&gt;
&lt;![endif]--&gt;
&lt;!--[if IE]&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullpage/batch.706be23.delaye?ieonly=true%22 media=&quot;all&quot;&gt;
&lt;![endif]--&gt;
&lt;script type=&quot;text/javascript&quot; src=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/js/editor%2cmacro-browser%2cfullpage-edit/batch.707.delaye &gt;&lt;/script&gt;
">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../favicon.html">
    <link rel="icon" type="image/x-icon" href="../../favicon.html">

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch/osd.action" title="eZ Documentation"/>

    <!-- include system javascript resources -->
    <script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/js/batch.js" ></script>
<!--[if lte IE 8]>
<script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/js/batch.js?conditionalComment=lte+IE+8" ></script>
<![endif]-->
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/6e55d36b98fe54865e616dc7ce47dca4/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batch.js" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/js/page/batch.js" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/84fc2bb4cbbfc06481d75335376bb250/_/download/contextbatch/js/atl.comments/batch.js" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.1.4/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext-2.newcode-macro-plugin_synt" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.1.4/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext-3.newcode-macro-plugin_synt" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins-2.confluence-highlight-ac" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.mywork.mywork-confluence-host-plu/com.atlassian.mywork.mywork-confluence-host-plugin_mw-he" ></script>

    

        
    <!-- end system javascript resources -->

        
        

    
                <link rel="canonical" href="Legacy%2bconfiguration%2binjection.html">
        <link rel="shortlink" href="../../x/xAB-/index.html">
    <meta name="wikilink" content="[EZP:Legacy configuration injection]">
    <meta name="page-version" content="25">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout">

        
    <div id="full-height-container">
    <div id="header-precursor">
        
                    </div>






<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class="aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-haspopup="true" tabindex="0"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="../../index.html"><img src="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/_/images/logo/atl.site.logo" alt="eZ Documentation" /></a></h1><ul class="aui-nav">
                            <li>
            
        
        
<a  id="space-directory-link" href="../../spacedirectory/view.html"  class=" aui-nav-imagelink"   title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                            <li id="browseMenu" role="menu">
            
    
        <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse">
        <span class="browse">Browse</span>
    </a>
    <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                <ul  id="browse-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a  id="space-pages-link" href="../../pages/listpages-dirview4915.html?key=EZP" class="    "      title="Browse pages in the eZ Publish Platform 5.x space" >
        Pages
</a>
</li>
                                            <li>
    
            
<a  id="space-blogposts-link" href="../../pages/viewrecentblogposts4915.html?key=EZP" class="    "      title="Browse blogs in the eZ Publish Platform 5.x space" >
        Blog
</a>
</li>
                                            <li>
    
            
<a  id="space-labels-link" href="../../labels/listlabels-heatmap4915.html?key=EZP" class="    "      title="Browse labels in the eZ Publish Platform 5.x space" >
        Labels
</a>
</li>
                                            <li>
    
            
<a  id="space-advanced-link" href="../../spaces/viewspacesummary4915.html?key=EZP" class="    "      title="Browse additional space functions in the eZ Publish Platform 5.x space" >
        Space Operations
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
        </li>
        </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav">
                <li>
        
    
            
<a  id="doctheme-anchor" href="#"  class=" aui-nav-imagelink"   title="">
            <span></span>
    </a>
    </li>
        <li>
<form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="https://doc.ez.no/dosearchsite.action" method="get">
    <fieldset>
                    <input type='hidden' name='where' value='EZP'/>
                            <input type="hidden" name="spaceSearch" value="true"/>
                <label for="quick-search-query" class="assistive">Quick Search</label>
        <input id="quick-search-query" class="text app-search search quick-search-query" type="text"
               accessKey="q" autocomplete="off" name="queryString" title="Quick Search"  placeholder="Search space" />
        <input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search"/>

        <div class="aui-dd-parent quick-nav-drop-down"></div>
    </fieldset>
    <div class="hidden parameters">
                    <!-- putMetadata failed to add value for key "quick-nav-enabled" so rendering metadata inline - see server debug log for details -->
        <meta name="ajs-quick-nav-enabled" content="true">
                </div>
</form>
</li>
    <li>    
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help">
        <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                <ul  id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a  id="confluence-help-link" href="http://docs.atlassian.com/confluence/docs-54/Getting+Help+And+Support" class="    "      title="Visit the Confluence documentation home"  target="_blank"
>
        Online Help
</a>
</li>
                                            <li>
    
                
<a  id="keyboard-shortcuts-link" href="#" class="    "      title="View available keyboard shortcuts" >
        Keyboard Shortcuts
</a>
</li>
                                            <li>
    
            
<a  id="feed-builder-link" href="../../dashboard/configurerssfeed.html" class="    "      title="Create your custom RSS feed." >
        Feed Builder
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="http://docs.atlassian.com/confluence/docs-54/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
                
<a  id="gadget-directory-link" href="#" class="   user-item administration-link "      title="Browse gadgets provided by Confluence" >
        Available Gadgets
</a>
</li>
                                            <li>
    
            
<a  id="confluence-about-link" href="../../aboutconfluencepage.html" class="    "      title="Get more information about Confluence" >
        About Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    </li>
    <li>    
    </li>
                <li>                                    <li>
    
            
<a  id="login-link" href="../../login5a31.html?os_destination=%2Fdisplay%2FEZP%2FLegacy%2Bconfiguration%2Binjection" class="   user-item login-link "      title="" >
        Log in
</a>
</li>
                        </li>
</ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    <div id="splitter">
    <div id="splitter-sidebar"  class="padding-div" >
        
        <p>&nbsp;<br/>
<strong>Navigation</strong><br/>
&bull; <a href="https://confluence.ez.no/display/MAIN" class="external-link" rel="nofollow">eZ Documentation Center</a><br/>
&nbsp;</p>
    

                    
    


<div class="plugin_pagetree">

        
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false">
        <input type="hidden" name="treePageId" value="8323268">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="1114149">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="EZP" >

        <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page.">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
        <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fpages%2Fviewpage.action%3Ftitle%3DLegacy%2Bconfiguration%2Binjection%26spaceKey%3DEZP">
        <input type="hidden" name="mobile" value="false">

                <fieldset class="hidden">
                                                <input type="hidden" name="ancestorId" value="2720538">
                                    <input type="hidden" name="ancestorId" value="2719826">
                                    <input type="hidden" name="ancestorId" value="2720528">
                                    <input type="hidden" name="ancestorId" value="6291674">
                                    <input type="hidden" name="ancestorId" value="1114149">
                                    </fieldset>
    </fieldset>
</div>



            </div>
    <div id="splitter-content">

                    <script type="text/javascript" src="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/5.4.4/_/download/resources/com.atlassian.confluence.plugins.doctheme_resources/doc-theme.js"></script>
    
                        
        <div id="theme-header">
            <div class="sectionColumnWrapper"><div class="sectionMacro">
<div class="sectionMacroRow"><div class="columnMacro"></div>
<div class="columnMacro">
<div class="panel" style="background-color: #ecf0f1;border-style: solid;border-width: 1px;"><div class="panelContent" style="background-color: #ecf0f1;">
<p>This documentation is for <strong>eZ Publish Platform 5.x</strong> "Platform stack". For documentation on "legacy" <a href="../../eZ-Publish/index.html" class="external-link" rel="nofollow">go here</a>, for explanation on difference see <a href="../../pages/viewpage0139.html?pageId=11403666" class="external-link" rel="nofollow">5.x Architecture overview</a></p>
</div></div></div>
<div class="columnMacro"></div></div></div></div>
        </div>
    
            
<div id="main"  class="aui-page-panel" >
    <div id="main-header">
        
        
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                    
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation"><span><span>Tools</span></span></a>         <div id="action-menu" class="aui-dropdown2 aui-style-default">
                            <ul  id="action-menu-primary"                     class="section-primary first aui-dropdown2-section">
                                            <li>

    
        
                            
    
    
    <a  id="view-attachments-link" href="../../pages/viewpageattachmentscff3.html?pageId=8323268" rel="nofollow"  class="action-view-attachments"  accessKey="t"  title="View Attachments">
                <span>A<u>t</u>tachments (0)</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-view-history-link" href="../../pages/viewpreviousversionscff3.html?pageId=8323268" rel="nofollow"  class="action-view-history"   title="">
                <span>Page History</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-page-permissions-link" href="../../pages/viewinfocff3.html?pageId=8323268" rel="nofollow"  class="action-page-permissions"   title="Edit restrictions">
                <span>Restrictions</span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-secondary"                     class="section-secondary aui-dropdown2-section">
                                            <li>

    
        
                            
    
    
    <a  id="view-page-info-link" href="../../pages/viewinfocff3.html?pageId=8323268" rel="nofollow"  class="action-view-info"   title="">
                <span>Page Information</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="link-to-page-link" href="../../pages/viewinfocff3.html?pageId=8323268" rel="nofollow"  class=""   title="Link to this Page">
                <span>Link to this Page…</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="view-in-hierarchy-link" href="../../pages/listpages-dirview6ee2.html?key=EZP&amp;openId=8323268#selectedPageInHierarchy" rel="nofollow"  class=""   title="">
                <span>View in Hierarchy</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-view-source-link" href="../../plugins/viewsource/viewpagesrccff3.html?pageId=8323268" rel="nofollow"  class="action-view-source popup-link"   title="">
                <span>View Source</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-export-pdf-link" href="../../download/temp/pdfexport-20141021-211014-0854-331/EZP-Legacyconfigurationinjection-211014-0854-332f1f7.pdf?pageId=8323268" rel="nofollow"  class=""   title="">
                <span>Export to PDF</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-export-word-link" href="../../exportwordcff3?pageId=8323268" rel="nofollow"  class="action-export-word"   title="">
                <span>Export to Word</span>    </a>
</li>
                                </ul>
                    </div>
    </li>
            </ul>
    </div>

        
                <div id="title-heading" class="pagetitle with-breadcrumbs">
        
                            <div class="space-logo " data-key="EZP" data-name="eZ Publish Platform 5.x" data-entity-type="confluence.space">
            <a><img class="logo space custom" src="../../download/attachments/1736738/EZP9600?version=4&amp;modificationDate=1405688262000&amp;api=v2" alt=""></a>
        </div>            
                            <div id="breadcrumb-section">
                    
    
    
    <ol id="breadcrumbs">
                    
                
        <li class="first" >
                

                    <span class=""><a href="eZ%2bPublish%2bPlatform%2bDocumentation.html">eZ Publish Platform 5.x</a></span>
                                                <li id="ellipsis" title="Show all breadcrumbs"><span><strong>&#8230;</strong></span></li>
                                    
                
        <li class="hidden-crumb" >
                

                    <span class=""><a href="eZ%2bPublish%2bPlatform%2bDocumentation.html">eZ Publish Platform Documentation</a></span>
                                        
                
        <li class="hidden-crumb" >
                

                    <span class=""><a href="../../pages/viewpage6ff2.html?pageId=6291674">Development &amp; Administration Guides</a></span>
                                        
                
        <li class="hidden-crumb" >
                

                    <span class=""><a href="Developing%2bwith%2beZ%2bPublish%2b5.html">Developing with eZ Publish 5</a></span>
                                        
                
        <li class="hidden-crumb" >
                

                    <span class=""><a href="MVC%2band%2bApplication.html">MVC and Application</a></span>
                            
                
        <li>
                

                    <span class=""><a href="Configuration.html">Configuration</a></span>
                </ol>


                </div>
            
            <h1 id="title-text" class="with-breadcrumbs">
                                        <a href="Legacy%2bconfiguration%2binjection.html">Legacy configuration injection</a>
                            </h1>
        </div>
    </div>

    

    
    
    
    
    

        




        




    

    

    







    
    
        
    
    
                    
    

    


<div id="content" class="page view">
    

<div id="action-messages">
                        </div>



        <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="2720538">
        </fieldset>

                            
    

                    

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">

    
            
                            
    
    
    <a  id="content-metadata-page-restrictions" href="#" rel="nofollow"  class="hidden"   title="Restrictions apply">
                    <img alt="" src="../../download/resources/com.atlassian.confluence.plugins.confluence-page-banner_page-banner-resources/images/red_padlock.png" height="16" width="16" title="">
                <span></span>    </a>
</li>
                        <li class="page-metadata-modification-info">
                
        
    
        
    
        
        
            Created by <span class='author'>     <a href="../../loginc848.html"
                       class="url fn"
                            >André Rømcke</a></span>, last modified by <span class='editor'>     <a href="../../loginccb5.html"
                       class="url fn"
                            >Sarah Haïm-Lubczanski</a></span> on <a class='last-modified' title='Jul 17, 2014 13:09' href='../../pages/diffpagesbyversion43cf.html?pageId=8323268&amp;selectedPageVersions=24&amp;selectedPageVersions=25'>Jul 17, 2014</a>
                </li>
        </ul>
    </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div class="wiki-content">
                           
        <p> </p><p>For better integration between 5.x (symfony based) kernel and legacy (4.x) kernel, injection is used to inject settings, <a href="Legacy%2bsession%2binjection.html">session</a> and <a href="Legacy%2bsiteaccess%2binjection.html">current siteaccess</a> from 5.x into legacy using an event: <span class="nv" style="color: rgb(0,128,128);"><a href="Legacy%2bkernel%2bevent.html">kernel.event_subscriber</a></span></p><p><span class="nv" style="color: rgb(0,128,128);"><style type='text/css'>/*<![CDATA[*/
div.rbtoc1413877104548 {padding: 0px;}
div.rbtoc1413877104548 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1413877104548 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1413877104548'>
<ul class='toc-indentation'>
<li><a href='#Legacyconfigurationinjection-Injectedsettings'>Injected settings</a>
<ul class='toc-indentation'>
<li><a href='#Legacyconfigurationinjection-Databasesettings'>Database settings</a></li>
<li><a href='#Legacyconfigurationinjection-Storagesettings'>Storage settings</a></li>
<li><a href='#Legacyconfigurationinjection-Imagesettings'>Image settings</a></li>
<li><a href='#Legacyconfigurationinjection-UsingImageMagickfilters'>Using ImageMagick filters</a></li>
<li><a href='#Legacyconfigurationinjection-Extendinginjectedsettings'>Extending injected settings</a></li>
</ul>
</li>
<li><a href='#Legacyconfigurationinjection-InjectedBehavior'>Injected Behavior</a>
<ul class='toc-indentation'>
<li><a href='#Legacyconfigurationinjection-eZFormToken(CSRF)integration'>eZFormToken (CSRF) integration</a></li>
<li><a href='#Legacyconfigurationinjection-ezpEvent(Cacheclear)integration'>ezpEvent (Cache clear) integration</a></li>
</ul>
</li>
</ul>
</div><br /></span></p><h2 id="Legacyconfigurationinjection-Injectedsettings">Injected settings</h2><p>Several settings are injected to avoid having to duplicate settings across new and old kernel, this is done in eZ\Bundle\EzPublishLegacyBundle\LegacyMapper\Configuration.<br />For mappings below, yml settings prefixed with ezpublish are system settings, while the rest are settings you can define per siteaccess.</p>    <div class="aui-message warning shadowed information-macro">
                    <p class="title">For versions 5.1, 5.2 and 5.3</p>
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>When viewing <em>ini</em> settings in the Administration Interface, settings for other siteaccess may be incorrectly displayed if the configuration has been modified in Symfony configuration.</p>
                    </div>
    </div>
<p> </p><h3 id="Legacyconfigurationinjection-Databasesettings">Database settings</h3><p>The settings for &quot;Server&quot;, &quot;Port&quot;, &quot;User&quot;, &quot;Password&quot;, &quot;Database&quot; and &quot;DatabaseImplementation&quot; are set based on the current settings in your yml files, either from the explicit settings defined below, or the &quot;dsn&quot;</p><p><strong>Mapping</strong>:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">yml</th><th class="confluenceTh">site.ini <span>[</span><span>DatabaseSettings]</span></th></tr><tr><td class="confluenceTd">server</td><td class="confluenceTd">Server</td></tr><tr><td class="confluenceTd">port</td><td class="confluenceTd">Port</td></tr><tr><td class="confluenceTd">user</td><td class="confluenceTd">User</td></tr><tr><td colspan="1" class="confluenceTd">password</td><td colspan="1" class="confluenceTd">Password</td></tr><tr><td colspan="1" class="confluenceTd">database_name</td><td colspan="1" class="confluenceTd">Database</td></tr><tr><td colspan="1" class="confluenceTd">type</td><td colspan="1" class="confluenceTd">DatabaseImplementation</td></tr></tbody></table></div><p> </p><h3 id="Legacyconfigurationinjection-Storagesettings">Storage settings</h3><p>The settings for &quot;VarDir&quot; and &quot;StorageDir&quot; are set based on current settings in your yml files as shown below.</p><p><strong>Mapping:</strong></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">yml</th><th class="confluenceTh">site.ini [FileSettings]</th></tr><tr><td class="confluenceTd">var_dir</td><td class="confluenceTd">VarDir</td></tr><tr><td class="confluenceTd">storage_dir</td><td class="confluenceTd">StorageDir</td></tr></tbody></table></div><p> </p><h3 id="Legacyconfigurationinjection-Imagesettings">Image settings</h3><p>Some of the settings for image sub system are set based on your yml files as shown below.</p><p><strong>Mapping:</strong></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">yml</th><th class="confluenceTh">image.ini</th></tr><tr><td class="confluenceTd">ezpublish.image.temporary_dir</td><td class="confluenceTd">[FileSettings]\TemporaryDir</td></tr><tr><td class="confluenceTd">ezpublish.image.published_images_dir</td><td class="confluenceTd"><span>[FileSettings]\PublishedImages</span></td></tr><tr><td colspan="1" class="confluenceTd">ezpublish.image.versioned_images_dir</td><td colspan="1" class="confluenceTd"><span>[FileSettings]\VersionedImages</span></td></tr><tr><td colspan="1" class="confluenceTd">image_variations</td><td colspan="1" class="confluenceTd"><span>[FileSettings]\AliasList</span></td></tr><tr><td colspan="1" class="confluenceTd">ezpublish.image.imagemagick.enabled</td><td colspan="1" class="confluenceTd"><span>[ImageMagick]\IsEnabled</span></td></tr><tr><td colspan="1" class="confluenceTd">ezpublish.image.imagemagick.executable_path</td><td colspan="1" class="confluenceTd"><span>[ImageMagick]\ExecutablePath</span></td></tr><tr><td colspan="1" class="confluenceTd">ezpublish.image.imagemagick.executable</td><td colspan="1" class="confluenceTd"><span>[ImageMagick]\Executable</span></td></tr><tr><td colspan="1" class="confluenceTd">imagemagick.pre_parameters</td><td colspan="1" class="confluenceTd"><span>[</span><span>ImageMagick</span><span>]\PreParameters</span></td></tr><tr><td colspan="1" class="confluenceTd">imagemagick.post_parameters</td><td colspan="1" class="confluenceTd"><span>[</span><span>ImageMagick</span><span>]\PostParameters</span></td></tr><tr><td colspan="1" class="confluenceTd">ezpublish.image.imagemagick.filters</td><td colspan="1" class="confluenceTd"><span>[</span><span>ImageMagick</span><span>]\Filters</span></td></tr></tbody></table></div>    <div class="aui-message warning shadowed information-macro">
                    <p class="title">Image aliases : image_variations</p>
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>Note : for image_variations the <em>small</em> value is referenced in ezoe configuration and this configuration needs to be changed if the small variation is removed.</p>
                    </div>
    </div>
<p> </p><h3 id="Legacyconfigurationinjection-UsingImageMagickfilters">Using ImageMagick filters</h3><p>The following block shows a valid ImageMagick filter usage example for <code>ezpublish.yml</code>:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>ImageMagick filters usage example</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[ezpublish:
    imagemagick:
        filters:
            geometry/scale: &quot;-geometry {1}x{2}&quot;]]></script>
</div></div><p>Since ImageMagick filter usage changed from eZ Publish 4.x versions you can find the list of filters existing by default to use eZ Publish 5.x:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">ImageMagick filters list for yml</th></tr><tr><td class="confluenceTd"><code>sharpen: &quot;-sharpen 0.5&quot;</code></td></tr><tr><td class="confluenceTd"><code>geometry/scale: &quot;-geometry {1}x{2}&quot;</code></td></tr><tr><td class="confluenceTd"><code>geometry/scalewidth: &quot;-geometry {1}&quot;</code></td></tr><tr><td class="confluenceTd"><code>geometry/scaleheight: &quot;-geometry x{1}&quot;</code></td></tr><tr><td class="confluenceTd"><code>geometry/scaledownonly: &quot;-geometry {1}x{2}&gt;&quot;</code></td></tr><tr><td class="confluenceTd"><code>geometry/scalewidthdownonly: &quot;-geometry {1}&gt;&quot;</code></td></tr><tr><td class="confluenceTd"><code>geometry/scaleheightdownonly: &quot;-geometry x{1}&gt;&quot;</code></td></tr><tr><td class="confluenceTd"><code>geometry/scaleexact: &quot;-geometry {1}x{2}!&quot;</code></td></tr><tr><td class="confluenceTd"><code>geometry/scalepercent: &quot;-geometry {1}x{2}&quot;</code></td></tr><tr><td class="confluenceTd"><code>geometry/crop: &quot;-crop {1}x{2}+{3}+{4}&quot;</code></td></tr><tr><td class="confluenceTd"><code>filter/noise: &quot;-noise {1}&quot;</code></td></tr><tr><td class="confluenceTd"><code>filter/swirl: &quot;-swirl {1}&quot;</code></td></tr><tr><td class="confluenceTd"><code>colorspace/gray: &quot;-colorspace GRAY&quot;</code></td></tr><tr><td class="confluenceTd"><code>colorspace/transparent: &quot;-colorspace Transparent&quot;</code></td></tr><tr><td class="confluenceTd"><code>colorspace: &quot;-colorspace {1}&quot;</code></td></tr><tr><td class="confluenceTd"><code>border: &quot;-border {1}x{2}&quot;</code></td></tr><tr><td class="confluenceTd"><code>border/color: &quot;-bordercolor rgb({1},{2},{3})&quot;</code></td></tr><tr><td class="confluenceTd"><code>border/width: &quot;-borderwidth {1}&quot;</code></td></tr><tr><td colspan="1" class="confluenceTd"><code>flatten: &quot;-flatten&quot;</code></td></tr><tr><td colspan="1" class="confluenceTd"><p><code>resize: &quot;-resize {1}&quot;</code></p></td></tr></tbody></table></div><p>For more details on setting ImageMagick filters on image.ini please refer to the <a href="../../eZ-Publish/Technical-manual/4.x/Reference/Configuration-files/image.ini/ImageMagick/Filters.html" class="external-link" rel="nofollow">[imagemagick] / filters</a> documentation.</p><h3 id="Legacyconfigurationinjection-Extendinginjectedsettings">Extending injected settings</h3><p>It's possible to add your own kernel event subscriber and also inject your own settings by following how it is done in LegacyMapper\Configuration, and then at the end merge it with existing injected settings, like so:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>injected-settings</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[        $event-&gt;getParameters()-&gt;set(
            &quot;injected-settings&quot;,
            $settings + (array)$event-&gt;getParameters()-&gt;get( &quot;injected-settings&quot; )
        );]]></script>
</div></div><h2 id="Legacyconfigurationinjection-InjectedBehavior">Injected Behavior</h2><p>In addition to injected settings, some injection of behavior is also performed.</p><h3 id="Legacyconfigurationinjection-eZFormToken(CSRF)integration">eZFormToken (CSRF) integration</h3>    <div class="aui-message hint shadowed information-macro">
                            <span class="aui-icon icon-hint">Icon</span>
                <div class="message-content">
                            <p>This feature is only available as of eZ Publish 5.1 (2013.01)</p>
                    </div>
    </div>
<p>If your config.yml setting have <em>framework.csrf_protection.enabled</em> set to <em>true</em>, then both <em>kernel.secret</em> and <em>framework.csrf_protection.field_name</em> will be sent to ezxFormToken class so csrf protection in legacy uses the same token and form field name.</p><p>By making sure all your Symfony forms uses the provided <a href="http://symfony.com/doc/current/book/forms.html#forms-csrf" class="external-link" rel="nofollow">csrf</a> <a href="http://symfony.com/doc/current/reference/forms/types/csrf.html" class="external-link" rel="nofollow">protection</a>, forms with <em>intention=legacy</em> can be set up to send data to legacy kernel:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$formOptions = array( &#39;intention&#39; =&gt; &#39;legacy&#39; );
$form = $this-&gt;createFormBuilder( null, $formOptions )
    -&gt;...
    -&gt;getForm();]]></script>
</div></div>    <div class="aui-message problem shadowed information-macro">
                            <span class="aui-icon icon-problem">Icon</span>
                <div class="message-content">
                            <p><code>framework.csrf_protection.field_name</code> shouldn't be changed as that would prevent eZFormToken from working with most AJAX custom code</p>
                    </div>
    </div>
<h3 id="Legacyconfigurationinjection-ezpEvent(Cacheclear)integration">ezpEvent (Cache clear) integration</h3><p>A listener is set up for both content/cache and content/cache/all to make sure Symfony (Internal proxy or Varnish with custom vcl) HTTP cache is cleared when cache is cleared in eZ Publish admin interface. </p><p> </p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/EZP/Legacy+configuration+injection"
    dc:identifier="https://doc.ez.no/display/EZP/Legacy+configuration+injection"
    dc:title="Legacy configuration injection"
    trackback:ping="https://doc.ez.no/rpc/trackback/8323268"/>
</rdf:RDF>
-->

            
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="8323268" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            

<li class="aui-label " data-label-id="20381712">
    <a class="aui-label-split-main" href="../../label/EZP/legacy.html">legacy</a>
    </li><li class="aui-label " data-label-id="15630343">
    <a class="aui-label-split-main" href="../../label/EZP/configuration.html">configuration</a>
    </li>             </ul>

    </div>
</div></div>

            
            




            
    








                    
    
<div id="comments-section" class="pageSection group">
    
    
    
    
            <div class="bottom-comment-panels comment-panels">
                                    
    


    
            </div>
    
    </div>


            
</div>


    




    
    

    
    
    








</div>
  
        <div id="theme-footer">
            <div class="sectionColumnWrapper"><div class="sectionMacro">
<div class="sectionMacroRow"><div class="columnMacro"></div>
<div class="columnMacro">
<div class="panel" style="background-color: #ecf0f1;border-style: solid;border-width: 1px;"><div class="panelContent" style="background-color: #ecf0f1;">
<p>Where Content Means Business</p>
</div></div></div>
<div class="columnMacro"></div></div></div></div>
        </div>
    
    </div>
</div>


        
            <div id="footer">

    <section class="footer-body">

                                                <p class="license license-opensource">
                  Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to eZ Publish. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                        
    

    <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id='footer-build-information'>5.4.4</span>, <a href="http://www.atlassian.com/software/confluence/overview/team-collaboration-software?utm_source=confluence-footer" class="hover-footer-link">Team Collaboration Software</a></li>
        <li class="print-only">Printed by Atlassian Confluence 5.4.4, Team Collaboration Software.</li>
        <li class="noprint"><a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="hover-footer-link">Report a bug</a></li>
        <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
    </ul>

    

            <script>
AJS.toInit(function(){
 if(AJS.params.spaceKey &&
    AJS.params.spaceKey === 'MAIN' ||
    AJS.params.spaceKey === 'EZMA' ||
    AJS.params.spaceKey === 'ODC' ||
    AJS.params.spaceKey === 'EZP50' ||
    AJS.params.spaceKey === 'EZP51' ||
    AJS.params.spaceKey === 'EZP52' ||
    AJS.params.spaceKey === 'EZPCLOUD' ||
    AJS.params.spaceKey === 'EZP' ||
    AJS.params.spaceKey === 'EZRECO'
){

(function()
{var isSecure=('https:'==document.location.protocol);var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src=(isSecure?'https':'http')+'://'+(isSecure?'secure.':'lb.')+'liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'ez.no');
  ga('send', 'pageview');
}}
);
</script>
    
    </section>

</div>

            
    </div>
</body>

<!-- Mirrored from doc.ez.no/display/EZP/Legacy+configuration+injection by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 08:54:19 GMT -->
</html>
