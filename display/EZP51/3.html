<!DOCTYPE html>
<html>

<!-- Mirrored from doc.ez.no/display/EZP51/3.+Managing+Content by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 11:59:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <title>3. Managing Content - eZ Publish 5.1 - eZ Documentation</title>

        

                        
    
                        
    
                        
    

    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="../../index.html">

<meta id="atlassian-token" name="atlassian-token" content="494111f00e28ced96046bfb6fbe8f75e18d44b71">

<meta id="confluence-space-key" name="confluence-space-key" content="EZP51">
<script type="text/javascript">
        var contextPath = '';
</script>

    

<!-- include system css resources -->


    <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/6e55d36b98fe54865e616dc7ce47dca4/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/6e55d36b98fe54865e616dc7ce47dca4/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,atl.general/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/47016f6b93087cd2003bf867318254ee/_/download/contextbatch/css/theme.doc/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.6.10/_/download/batch/org.randombits.confluence.toc_toc-plugin-styles/org.randombits.confluence.toc_toc-plugin-styles.117.d" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.1.4/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_synt" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.1.4/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_sh-t" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.0.22/_/download/batch/confluence.extra.information_information-plugin/confluence.extra.information_information-plugin-adg-s" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/5.3.3-m6/_/download/batch/confluence.extra.jira_web-resources-adg/confluence.extra.jira_web-resources-adg.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/16/_/styles/colors556c.css?spaceKey=EZP51" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/16/_/styles/custom556c.css?spaceKey=EZP51" media="all">

<!-- end system css resources -->

    <meta name="confluence-request-time" content="1413891575199">
        
    
        
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-keyboardshortcut-hash" content="ec556f85a7b4fc86b37ab7a78ce3d8b0">
            <meta id="team-calendars-has-jira-link" content="true">
            <meta name="ajs-team-calendars-display-time-format" content="displayTimeFormat12">
            <meta id="team-calendars-user-timezone" content="UTC">
            <script type="text/x-template" id="team-calendars-messages" title="team-calendars-messages">
    <fieldset class="i18n hidden">
                    <input type="hidden" name="calendar3.month.short.april" value="Apr">
                    <input type="hidden" name="calendar3.month.short.november" value="Nov">
                    <input type="hidden" name="calendar3.month.long.november" value="November">
                    <input type="hidden" name="calendar3.day.short.friday" value="Fri">
                    <input type="hidden" name="calendar3.month.long.february" value="February">
                    <input type="hidden" name="calendar3.month.short.february" value="Feb">
                    <input type="hidden" name="calendar3.day.long.wednesday" value="Wednesday">
                    <input type="hidden" name="calendar3.month.long.december" value="December">
                    <input type="hidden" name="calendar3.day.short.sunday" value="Sun">
                    <input type="hidden" name="calendar3.month.long.april" value="April">
                    <input type="hidden" name="calendar3.month.long.july" value="July">
                    <input type="hidden" name="calendar3.month.long.september" value="September">
                    <input type="hidden" name="calendar3.month.short.august" value="Aug">
                    <input type="hidden" name="calendar3.month.short.june" value="Jun">
                    <input type="hidden" name="calendar3.month.short.may" value="May">
                    <input type="hidden" name="calendar3.day.short.tuesday" value="Tue">
                    <input type="hidden" name="calendar3.day.short.wednesday" value="Wed">
                    <input type="hidden" name="calendar3.day.long.thursday" value="Thursday">
                    <input type="hidden" name="calendar3.month.long.march" value="March">
                    <input type="hidden" name="calendar3.month.long.october" value="October">
                    <input type="hidden" name="calendar3.day.short.saturday" value="Sat">
                    <input type="hidden" name="calendar3.month.short.january" value="Jan">
                    <input type="hidden" name="calendar3.month.long.may" value="May">
                    <input type="hidden" name="calendar3.month.long.january" value="January">
                    <input type="hidden" name="calendar3.month.short.october" value="Oct">
                    <input type="hidden" name="calendar3.day.short.thursday" value="Thu">
                    <input type="hidden" name="calendar3.day.long.friday" value="Friday">
                    <input type="hidden" name="calendar3.day.long.sunday" value="Sunday">
                    <input type="hidden" name="calendar3.month.long.june" value="June">
                    <input type="hidden" name="calendar3.month.long.august" value="August">
                    <input type="hidden" name="calendar3.day.long.tuesday" value="Tuesday">
                    <input type="hidden" name="calendar3.day.long.saturday" value="Saturday">
                    <input type="hidden" name="calendar3.month.short.september" value="Sep">
                    <input type="hidden" name="calendar3.day.long.monday" value="Monday">
                    <input type="hidden" name="calendar3.month.short.july" value="Jul">
                    <input type="hidden" name="calendar3.month.short.march" value="Mar">
                    <input type="hidden" name="calendar3.day.short.monday" value="Mon">
                    <input type="hidden" name="calendar3.month.short.december" value="Dec">
            </fieldset>
</script>

            

    
            
    
    
            <meta name="ajs-page-id" content="12125358">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="3. Managing Content">
            <meta name="ajs-parent-page-title" content="Public API Cookbook">
            <meta name="ajs-parent-page-id" content="12125355">
            <meta name="ajs-space-key" content="EZP51">
            <meta name="ajs-space-name" content="eZ Publish 5.1">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-editor.loader.comment.resources" content="&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/9f01679814e63f4c0513d02c90477002/_/download/contextbatch/css/comment-editor/batch.html media=&quot;all&quot;&gt;
">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://doc.ez.no">
            <meta name="ajs-version-number" content="5.4.4">
            <meta name="ajs-build-number" content="4733">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="sync.event">
            <meta name="ajs-atl-token" content="494111f00e28ced96046bfb6fbe8f75e18d44b71">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-editor.loader.resources" content="&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullpage-/batch.644d.delaye media=&quot;all&quot;&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullp/batch.644ea781.delaye?media=%28max-width%3A+1450px%29%22 media=&quot;(max-width: 1450px)&quot;&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullp/batch.644f23d0.delaye?media=print%22 media=&quot;print&quot;&gt;
&lt;!--[if lt IE 9]&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullp/batch.6450d0b5.delaye?conditionalComment=lt+IE+9%22 media=&quot;all&quot;&gt;
&lt;![endif]--&gt;
&lt;!--[if IE]&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/css/editor%2cmacro-browser%2cfullp/batch.6451be23.delaye?ieonly=true%22 media=&quot;all&quot;&gt;
&lt;![endif]--&gt;
&lt;script type=&quot;text/javascript&quot; src=_/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/eb8de6aa7acc3a4b2e8aee165b9628ad/_/download/contextbatch/js/editor%2cmacro-browser%2cfullpage-e/batch.6452.delaye &gt;&lt;/script&gt;
">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../favicon.html">
    <link rel="icon" type="image/x-icon" href="../../favicon.html">

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch/osd.action" title="eZ Documentation"/>

    <!-- include system javascript resources -->
    <script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/js/batch.js" ></script>
<!--[if lte IE 8]>
<script type="text/javascript" src="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/js/batch.js?conditionalComment=lte+IE+8" ></script>
<![endif]-->
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/6e55d36b98fe54865e616dc7ce47dca4/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batch.js" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/js/page/batch.js" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/84fc2bb4cbbfc06481d75335376bb250/_/download/contextbatch/js/atl.comments/batch.js" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.1.4/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext-2.newcode-macro-plugin_synt" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/2.1.4/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext-3.newcode-macro-plugin_synt" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins-2.confluence-highlight-ac" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.mywork.mywork-confluence-host-plu/com.atlassian.mywork.mywork-confluence-host-plugin_mw-he" ></script>

    

        
    <!-- end system javascript resources -->

        
        

    
                <link rel="canonical" href="3.html">
        <link rel="shortlink" href="../../x/rgS5.html">
    <meta name="wikilink" content="[EZP51:3. Managing Content]">
    <meta name="page-version" content="4">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout">

        
    <div id="full-height-container">
    <div id="header-precursor">
        
                    </div>






<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class="aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-haspopup="true" tabindex="0"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="../../index.html"><img src="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/_/images/logo/atl.site.logo" alt="eZ Documentation" /></a></h1><ul class="aui-nav">
                            <li>
            
        
        
<a  id="space-directory-link" href="../../spacedirectory/view.html"  class=" aui-nav-imagelink"   title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                            <li id="browseMenu" role="menu">
            
    
        <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse">
        <span class="browse">Browse</span>
    </a>
    <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                <ul  id="browse-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a  id="space-pages-link" href="../../pages/listpages-dirview2fd6.html?key=EZP51" class="    "      title="Browse pages in the eZ Publish 5.1 space" >
        Pages
</a>
</li>
                                            <li>
    
            
<a  id="space-blogposts-link" href="../../pages/viewrecentblogposts2fd6.html?key=EZP51" class="    "      title="Browse blogs in the eZ Publish 5.1 space" >
        Blog
</a>
</li>
                                            <li>
    
            
<a  id="space-labels-link" href="../../labels/listlabels-heatmap2fd6.html?key=EZP51" class="    "      title="Browse labels in the eZ Publish 5.1 space" >
        Labels
</a>
</li>
                                            <li>
    
            
<a  id="space-advanced-link" href="../../spaces/viewspacesummary2fd6.html?key=EZP51" class="    "      title="Browse additional space functions in the eZ Publish 5.1 space" >
        Space Operations
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
        </li>
        </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav">
                <li>
        
    
            
<a  id="doctheme-anchor" href="#"  class=" aui-nav-imagelink"   title="">
            <span></span>
    </a>
    </li>
        <li>
<form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="https://doc.ez.no/dosearchsite.action" method="get">
    <fieldset>
                    <input type='hidden' name='where' value='EZP51'/>
                            <input type="hidden" name="spaceSearch" value="true"/>
                <label for="quick-search-query" class="assistive">Quick Search</label>
        <input id="quick-search-query" class="text app-search search quick-search-query" type="text"
               accessKey="q" autocomplete="off" name="queryString" title="Quick Search"  placeholder="Search space" />
        <input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search"/>

        <div class="aui-dd-parent quick-nav-drop-down"></div>
    </fieldset>
    <div class="hidden parameters">
                    <!-- putMetadata failed to add value for key "quick-nav-enabled" so rendering metadata inline - see server debug log for details -->
        <meta name="ajs-quick-nav-enabled" content="true">
                </div>
</form>
</li>
    <li>    
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help">
        <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                <ul  id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a  id="confluence-help-link" href="http://docs.atlassian.com/confluence/docs-54/Getting+Help+And+Support" class="    "      title="Visit the Confluence documentation home"  target="_blank"
>
        Online Help
</a>
</li>
                                            <li>
    
                
<a  id="keyboard-shortcuts-link" href="#" class="    "      title="View available keyboard shortcuts" >
        Keyboard Shortcuts
</a>
</li>
                                            <li>
    
            
<a  id="feed-builder-link" href="../../dashboard/configurerssfeed.html" class="    "      title="Create your custom RSS feed." >
        Feed Builder
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="http://docs.atlassian.com/confluence/docs-54/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
                
<a  id="gadget-directory-link" href="#" class="   user-item administration-link "      title="Browse gadgets provided by Confluence" >
        Available Gadgets
</a>
</li>
                                            <li>
    
            
<a  id="confluence-about-link" href="../../aboutconfluencepage.html" class="    "      title="Get more information about Confluence" >
        About Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    </li>
    <li>    
    </li>
                <li>                                    <li>
    
            
<a  id="login-link" href="../../loginc475.html?os_destination=%2Fdisplay%2FEZP51%2F3.%2BManaging%2BContent" class="   user-item login-link "      title="" >
        Log in
</a>
</li>
                        </li>
</ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    <div id="splitter">
    <div id="splitter-sidebar"  class="padding-div" >
        
        <p>&nbsp;<br/>
<strong>Navigation</strong><br/>
&bull; <a href="https://confluence.ez.no/display/MAIN" class="external-link" rel="nofollow">eZ Documentation Center</a><br/>
&nbsp;</p>
    

                    
    


<div class="plugin_pagetree">

        
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false">
        <input type="hidden" name="treePageId" value="12125358">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="12125259">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="EZP51" >

        <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page.">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
        <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fpages%2Fviewpage.action%3Ftitle%3D3.%2BManaging%2BContent%26spaceKey%3DEZP51">
        <input type="hidden" name="mobile" value="false">

                <fieldset class="hidden">
                                                <input type="hidden" name="ancestorId" value="12125355">
                                    <input type="hidden" name="ancestorId" value="12125353">
                                    <input type="hidden" name="ancestorId" value="12125294">
                                    <input type="hidden" name="ancestorId" value="12125259">
                                    </fieldset>
    </fieldset>
</div>



            </div>
    <div id="splitter-content">

                    <script type="text/javascript" src="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/5.4.4/_/download/resources/com.atlassian.confluence.plugins.doctheme_resources/doc-theme.js"></script>
    
                        
        <div id="theme-header">
            <div class="sectionColumnWrapper"><div class="sectionMacro">
<div class="sectionMacroRow"><div class="columnMacro" style="width:1%;min-width:1%;max-width:1%;"></div>
<div class="columnMacro"><div class="panel" style="background-color: whitesmoke;border-style: solid;border-width: 1px;"><div class="panelContent" style="background-color: whitesmoke;">
<p>This is the documentation for <strong>eZ Publish Platform 5.1</strong>. It is scheduled to be moved into the <a href="../EZP/eZ%2bPublish%2bPlatform%2bDocumentation.html">5.x documentation</a>, so please go there for most up-to-date documentation.</p>
</div></div></div>
<div class="columnMacro" style="width:1%;min-width:1%;max-width:1%;"></div></div></div></div>
        </div>
    
            
<div id="main"  class="aui-page-panel" >
    <div id="main-header">
        
        
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                    
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation"><span><span>Tools</span></span></a>         <div id="action-menu" class="aui-dropdown2 aui-style-default">
                            <ul  id="action-menu-primary"                     class="section-primary first aui-dropdown2-section">
                                            <li>

    
        
                            
    
    
    <a  id="view-attachments-link" href="../../pages/viewpageattachments41b3.html?pageId=12125358" rel="nofollow"  class="action-view-attachments"  accessKey="t"  title="View Attachments">
                <span>A<u>t</u>tachments (0)</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-view-history-link" href="../../pages/viewpreviousversions41b3.html?pageId=12125358" rel="nofollow"  class="action-view-history"   title="">
                <span>Page History</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-page-permissions-link" href="../../pages/viewinfo41b3.html?pageId=12125358" rel="nofollow"  class="action-page-permissions"   title="Edit restrictions">
                <span>Restrictions</span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-secondary"                     class="section-secondary aui-dropdown2-section">
                                            <li>

    
        
                            
    
    
    <a  id="view-page-info-link" href="../../pages/viewinfo41b3.html?pageId=12125358" rel="nofollow"  class="action-view-info"   title="">
                <span>Page Information</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="link-to-page-link" href="../../pages/viewinfo41b3.html?pageId=12125358" rel="nofollow"  class=""   title="Link to this Page">
                <span>Link to this Page…</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="view-in-hierarchy-link" href="../../pages/listpages-dirview2534.html?key=EZP51&amp;openId=12125358#selectedPageInHierarchy" rel="nofollow"  class=""   title="">
                <span>View in Hierarchy</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-view-source-link" href="../../plugins/viewsource/viewpagesrc41b3.html?pageId=12125358" rel="nofollow"  class="action-view-source popup-link"   title="">
                <span>View Source</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-export-pdf-link" href="../../download/temp/pdfexport-20141021-211014-1159-1165/EZP51-3.ManagingContent-211014-1159-1166f1f7.pdf?pageId=12125358" rel="nofollow"  class=""   title="">
                <span>Export to PDF</span>    </a>
</li>
                                        <li>

    
        
                            
    
    
    <a  id="action-export-word-link" href="../../exportword41b3?pageId=12125358" rel="nofollow"  class="action-export-word"   title="">
                <span>Export to Word</span>    </a>
</li>
                                </ul>
                    </div>
    </li>
            </ul>
    </div>

        
                <div id="title-heading" class="pagetitle with-breadcrumbs">
        
                            <div class="space-logo " data-key="EZP51" data-name="eZ Publish 5.1" data-entity-type="confluence.space">
            <a><img class="logo space custom" src="../../download/attachments/12125253/EZP51ccaa?version=2&amp;modificationDate=1370705476000&amp;api=v2" alt=""></a>
        </div>            
                            <div id="breadcrumb-section">
                    
    
    
    <ol id="breadcrumbs">
                    
                
        <li class="first" >
                

                    <span class=""><a href="eZ%2bPublish%2bDocumentation.html">eZ Publish 5.1</a></span>
                                                <li id="ellipsis" title="Show all breadcrumbs"><span><strong>&#8230;</strong></span></li>
                                    
                
        <li class="hidden-crumb" >
                

                    <span class=""><a href="eZ%2bPublish%2bDocumentation.html">eZ Publish Documentation</a></span>
                                        
                
        <li class="hidden-crumb" >
                

                    <span class=""><a href="Developer%2bGuide.html">Developer Guide</a></span>
                                        
                
        <li class="hidden-crumb" >
                

                    <span class=""><a href="eZ%2bPublish%2bPublic%2bAPI.html">eZ Publish Public API</a></span>
                            
                
        <li>
                

                    <span class=""><a href="Public%2bAPI%2bCookbook.html">Public API Cookbook</a></span>
                </ol>


                </div>
            
            <h1 id="title-text" class="with-breadcrumbs">
                                        <a href="3.html">3. Managing Content</a>
                            </h1>
        </div>
    </div>

    

    
    
    
    
    

        




        




    

    

    







    
    
        
    
    
                    
    

    


<div id="content" class="page view">
    

<div id="action-messages">
                        </div>



        <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="12125355">
        </fieldset>

                            
    

                    

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">

    
            
                            
    
    
    <a  id="content-metadata-page-restrictions" href="#" rel="nofollow"  class="hidden"   title="Restrictions apply">
                    <img alt="" src="../../download/resources/com.atlassian.confluence.plugins.confluence-page-banner_page-banner-resources/images/red_padlock.png" height="16" width="16" title="">
                <span></span>    </a>
</li>
                        <li class="page-metadata-modification-info">
                
        
    
        
    
        
        
            Created and last modified by <span class='author'>     <a href="../../logine6fa.html"
                       class="url fn"
                            >Ricardo Correia</a></span> on <a class='last-modified' title='Aug 02, 2013 09:22' href='../../pages/diffpagesbyversiond38b.html?pageId=12125358&amp;selectedPageVersions=3&amp;selectedPageVersions=4'>Aug 02, 2013</a>
                </li>
        </ul>
    </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div class="wiki-content">
                           
        <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1413891575267 {padding: 0px;}
div.rbtoc1413891575267 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1413891575267 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1413891575267'>
<ul class='toc-indentation'>
<li><a href='#id-3.ManagingContent-Identifyingtotherepositorywithaloginandapassword'>Identifying to the repository with a login and a password</a></li>
<li><a href='#id-3.ManagingContent-Creatingcontent'>Creating content</a>
<ul class='toc-indentation'>
<li><a href='#id-3.ManagingContent-TheContentCreateStruct'>The ContentCreateStruct</a></li>
<li><a href='#id-3.ManagingContent-Settingthefieldsvalues'>Setting the fields values</a></li>
<li><a href='#id-3.ManagingContent-SettingtheLocation'>Setting the Location</a></li>
<li><a href='#id-3.ManagingContent-Creatingandpublishing'>Creating and publishing</a></li>
</ul>
</li>
<li><a href='#id-3.ManagingContent-UpdatingContent'>Updating Content</a></li>
<li><a href='#id-3.ManagingContent-Handlingtranslations'>Handling translations</a></li>
<li><a href='#id-3.ManagingContent-CreatingContentcontaininganimage'>Creating Content containing an image</a></li>
<li><a href='#id-3.ManagingContent-CreateContentwithXMLText'>Create Content with XML Text</a></li>
<li><a href='#id-3.ManagingContent-DeletingContent'>Deleting Content</a></li>
</ul>
</div></p><p>In the following recipes, you will see how to create Content, including complex fields like XmlText or Image.</p><h2 id="id-3.ManagingContent-Identifyingtotherepositorywithaloginandapassword">Identifying to the repository with a login and a password</h2><p>As seen earlier, the Repository executes operations with a user's credentials. In a web context, the currently logged in user is automatically identified. In a command line context, you need to manually log a user in. We have already seen how to manually load and set a user using its ID. If you would like to identify a user using his username and password instead, this can be achieved as follows.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>authentication </b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$user = $userService-&gt;loadUserByCredentials( $user, $password );
$repository-&gt;setCurrentUser( $user );]]></script>
</div></div><h2 id="id-3.ManagingContent-Creatingcontent">Creating content</h2>    <div class="aui-message hint shadowed information-macro">
                    <p class="title">Full code</p>
                            <span class="aui-icon icon-hint">Icon</span>
                <div class="message-content">
                            <p><a href="https://github.com/ezsystems/CookbookBundle/blob/master/Command/CreateContentCommand.php" class="external-link" rel="nofollow">https://github.com/ezsystems/CookbookBundle/blob/master/Command/CreateContentCommand.php</a></p>
                    </div>
    </div>
<p>We will now see how to create Content using the Public API. This example will work with the default Folder (ID 1) Content Type from eZ Publish.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[/** @var $repository \eZ\Publish\API\Repository\Repository */
$repository = $this-&gt;getContainer()-&gt;get( &#39;ezpublish.api.repository&#39; );
$contentService = $repository-&gt;getContentService();
$locationService = $repository-&gt;getLocationService();
$contentTypeService = $repository-&gt;getContentTypeService();]]></script>
</div></div><p>We first need the required services. In this case: <code>ContentService</code>, <code>LocationService</code> and <code>ContentTypeService</code>.</p><h3 id="id-3.ManagingContent-TheContentCreateStruct">The ContentCreateStruct</h3><p>As explained in the <a href="Public%2bAPI%2bbasics.html">Public API Basics</a>, Value Objects are read only. Dedicated objects are provided for Update and Create operations: structs, like ContentCreateStruct or UpdateCreateStruct. In this case, we need to use a ContentCreateStruct. </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$contentType = $contentTypeService-&gt;loadContentTypeByIdentifier( &#39;article&#39; );
$contentCreateStruct = $contentService-&gt;newContentCreateStruct( $contentType, &#39;eng-GB&#39; );]]></script>
</div></div><p>We first need to get the <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/ContentType/ContentType.html" class="external-link" rel="nofollow"><code>ContentType</code></a> we want to create a <code>Content</code> with. To do so, we use <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/ContentTypeService.html#method_loadContentTypeByIdentifier" class="external-link" rel="nofollow"><code>ContentTypeService::loadContentTypeByIdentifier()</code></a>, with the wanted <code>ContentType</code> identifier, like 'article'. We finally get a ContentTypeCreateStruct using <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/ContentService.html#method_newContentCreateStruct" class="external-link" rel="nofollow"><code>ContentService::newContentCreateStruct()</code></a>, providing the ContentType and a Locale Code (eng-GB).</p><h3 id="id-3.ManagingContent-Settingthefieldsvalues">Setting the fields values</h3><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$contentCreateStruct-&gt;setField( &#39;title&#39;, &#39;My title&#39; );
$contentCreateStruct-&gt;setField( &#39;intro&#39;, $intro );
$contentCreateStruct-&gt;setField( &#39;body&#39;, $body );]]></script>
</div></div><p>Using our create struct, we can now set the values for our Content's fields, using the <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/Content/ContentCreateStruct.html#method_setField" class="external-link" rel="nofollow"><code>setField()</code></a> method. For now, we will just set the title. <code>setField()</code> for a TextLine Field simply expects a string as input argument. More complex FieldTypes, like Author or Image, expect different input values.</p>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>The <code><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/Content/ContentCreateStruct.html#method_setField" class="external-link" rel="nofollow">ContentCreateStruct::setField()</a></code> method can take several type of arguments.</p><p>In any case, whatever the FieldType is, a Value of this type can be provided. For instance, a TextLine\Value can be provided for a TextLine\Type. Depending on the FieldType implementation itself, more specifically on the fromHash() method every FieldType implements, various arrays can be accepted, as well as primitive types, depending on the Type.</p>
                    </div>
    </div>
<h3 id="id-3.ManagingContent-SettingtheLocation">Setting the Location</h3><p>In order to set a Location for our object, we must instantiate a <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/Content/LocationCreateStruct.html" class="external-link" rel="nofollow"><code>LocationCreateStruct</code></a>. This is done with LocationService::newLocationCreateStruct(), with the new Location's parent ID as an argument.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$locationCreateStruct = $locationService-&gt;newLocationCreateStruct( 2 );]]></script>
</div></div><h3 id="id-3.ManagingContent-Creatingandpublishing">Creating and publishing</h3><p>To actually create our Content in the Repository, we need to use ContentService::createContent(). This method expects a <code>ContentCreateStruct</code>, as well as a <code>LocationCreateStruct</code>. We have created both in the previous steps.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$draft = $contentService-&gt;createContent( $contentCreateStruct, array( $locationCreateStruct ) );
$content = $contentService-&gt;publishVersion( $draft-&gt;versionInfo );]]></script>
</div></div><p>The LocationCreateStruct is provided as an array, since a Content can have multiple locations.</p><p><code>createContent()</code> returns a new Content Value Object, with one version that has the DRAFT status. To make this Content visible, we need to publish it. This is done using <code>ContentService::publishVersion()</code>. This method expects a <code>VersionInfo</code> object as its parameter. In our case, we simply use the current version from <code>$draft</code>, with the <code>versionInfo</code> property.</p><h2 id="id-3.ManagingContent-UpdatingContent">Updating Content</h2>    <div class="aui-message hint shadowed information-macro">
                    <p class="title">Full code</p>
                            <span class="aui-icon icon-hint">Icon</span>
                <div class="message-content">
                            <p><a href="https://github.com/ezsystems/CookbookBundle/blob/master/Command/UpdateContentCommand.php" class="external-link" rel="nofollow">https://github.com/ezsystems/CookbookBundle/blob/master/Command/UpdateContentCommand.php</a></p>
                    </div>
    </div>
<p>We will now see how the previously created Content can be updated. To do so, we will create a new draft for our Content, update it using a <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/Content/ContentUpdateStruct.html" class="external-link" rel="nofollow"><code>ContentUpdateStruct</code></a>, and publish the updated Version.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$contentInfo = $contentService-&gt;loadContentInfo( $contentId );
$contentDraft = $contentService-&gt;createContentDraft( $contentInfo );]]></script>
</div></div><p>To create our draft, we need to load the Content's ContentInfo using <code>ContentService::loadContentInfo()</code>. We can then use <code>ContentService::createContentDraft()</code> to add a new Draft to our Content.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[// instantiate a content update struct and set the new fields
$contentUpdateStruct = $contentService-&gt;newContentUpdateStruct();
$contentUpdateStruct-&gt;initialLanguageCode = &#39;eng-GB&#39;; // set language for new version
$contentUpdateStruct-&gt;setField( &#39;title&#39;, $newTitle );
$contentUpdateStruct-&gt;setField( &#39;body&#39;, $newBody );]]></script>
</div></div><p>To set the new values for this version, we request a <code>ContentUpdateStruct</code> from the <code>ContentService</code> using the <code>newContentUpdateStruct()</code> method. Updating the values hasn't changed: we use the <code>setField()</code> method.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$contentDraft = $contentService-&gt;updateContent( $contentDraft-&gt;versionInfo, $contentUpdateStruct );
$content = $contentService-&gt;publishVersion( $contentDraft-&gt;versionInfo );]]></script>
</div></div><p>We can now use <code>ContentService::updateContent()</code> to apply our <code>ContentUpdateStruct</code> to our draft's <code>VersionInfo</code>. Publishing is done exactly the same way as for a new content, using <code>ContentService::publishVersion()</code>.</p><h2 id="id-3.ManagingContent-Handlingtranslations">Handling translations</h2><p>In the two previous examples, you have seen that we set the ContentUpdateStruct's initialLanguageCode property. To translate an object to a new language, set the locale to a new one.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>translating</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$contentUpdateStruct-&gt;initialLanguageCode = &#39;ger-DE&#39;;
$contentUpdateStruct-&gt;setField( &#39;title&#39;, $newtitle );
$contentUpdateStruct-&gt;setField( &#39;body&#39;, $newbody );]]></script>
</div></div><p>It is possible to create or update content in multiple languages at once. There is one restriction: only one language can be set a version's language. This language is the one that will get a flag in the back office. However, you can set values in other languages for your attributes, using the setField method's third argument.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>update multiple languages</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[// set one language for new version
$contentUpdateStruct-&gt;initialLanguageCode = &#39;fre-FR&#39;;

$contentUpdateStruct-&gt;setField( &#39;title&#39;, $newgermantitle, &#39;ger-DE&#39; );
$contentUpdateStruct-&gt;setField( &#39;body&#39;, $newgermanbody, &#39;ger-DE&#39; );

$contentUpdateStruct-&gt;setField( &#39;title&#39;, $newfrenchtitle );
$contentUpdateStruct-&gt;setField( &#39;body&#39;, $newfrenchbody );
]]></script>
</div></div><p>Since we don't specify a locale for the last two fields, they are set for the <code>UpdateStruct</code>'s <code>initialLanguageCode</code>, fre-FR.</p><h2 id="id-3.ManagingContent-CreatingContentcontaininganimage">Creating Content containing an image</h2>    <div class="aui-message hint shadowed information-macro">
                    <p class="title">Full code</p>
                            <span class="aui-icon icon-hint">Icon</span>
                <div class="message-content">
                            <p><a href="https://github.com/ezsystems/CookbookBundle/blob/master/Command/CreateImageCommand.php" class="external-link" rel="nofollow">https://github.com/ezsystems/CookbookBundle/blob/master/Command/CreateImageCommand.php</a></p>
                    </div>
    </div>
<p>As explained above, the setField() method can accept various values: an instance of the FieldType's Value class, a primitive type, or a hash. The last two depend on what the <code>Type::acceptValue()</code> method is build up to handle. TextLine can, for instance, accept a simple string as an input value. In this example, you will see how to set an Image value.</p><p>We assume that we use the default image class. Creating our Content, using the ContentType and a ContentCreateStruct, has been covered above, and can be found in the full code. Let's focus on how the image is provided.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$file = &#39;/path/to/image.png&#39;;

$value = new \eZ\Publish\Core\FieldType\Image\Value(
    array(
        &#39;path&#39; =&gt; &#39;/path/to/image.png&#39;,
        &#39;fileSize&#39; =&gt; filesize( &#39;/path/to/image.png&#39; ),
        &#39;fileName&#39; =&gt; basename( &#39;image.png&#39; ),
        &#39;alternativeText&#39; =&gt; &#39;My image&#39;
    )
);
$contentCreateStruct-&gt;setField( &#39;image&#39;, $value );]]></script>
</div></div><p>This time, we create our image by directly providing an <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/Core/FieldType/Image/Value.html" class="external-link" rel="nofollow"><code>Image\Value</code></a> object. The values are directly provided to the constructor using a hash with predetermined keys that depend on each Type. In this case: the path where the image can be found, its size, the file name, and an alternative text.</p><p>Images also implement a static <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/Core/FieldType/Image/Value.html#method_fromString" class="external-link" rel="nofollow"><code>fromString()</code></a> method that will, given a path to an image, return an <code>Image\Value</code> object.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$value = \eZ\Publish\Core\FieldType\Image\Value::fromString( &#39;/path/to/image.png&#39; );]]></script>
</div></div><p>But as said before, whatever you provide <code>setField()</code> with is sent to the <code>acceptValue()</code> method. This method really is the entry point to the input formats a FieldType accepts. In this case, you could have provided setField with either a hash, similar to the one we provided the Image\Value constructor with, or the path to your image, as a string.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$contentCreateStruct-&gt;setField( &#39;image&#39;, &#39;/path/to/image.png&#39; );
 
// or
 
$contentCreateStruct-&gt;setField( &#39;image&#39;, array(
    &#39;path&#39; =&gt; &#39;/path/to/image.png&#39;,
    &#39;fileSize&#39; =&gt; filesize( &#39;/path/to/image.png&#39; ),
    &#39;fileName&#39; =&gt; basename( &#39;image.png&#39; ),
    &#39;alternativeText&#39; =&gt; &#39;My image&#39;
);]]></script>
</div></div><h2 id="id-3.ManagingContent-CreateContentwithXMLText">Create Content with XML Text</h2>    <div class="aui-message hint shadowed information-macro">
                    <p class="title">Full code</p>
                            <span class="aui-icon icon-hint">Icon</span>
                <div class="message-content">
                            <p><a href="https://github.com/ezsystems/CookbookBundle/blob/master/Command/CreateXMLContentCommand.php" class="external-link" rel="nofollow">https://github.com/ezsystems/CookbookBundle/blob/master/Command/CreateXMLContentCommand.php</a></p>
                    </div>
    </div>
<p>Another very commonly used FieldType is the rich text one, <code>XmlText</code>.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>working with xml text</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$xmlText = &lt;&lt;&lt; EOX
&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;
&lt;section&gt;
&lt;paragraph&gt;This is a &lt;strong&gt;image test&lt;/strong&gt;&lt;/paragraph&gt;
&lt;paragraph&gt;&lt;embed view=&#39;embed&#39; size=&#39;medium&#39; object_id=&#39;$imageId&#39;/&gt;&lt;/paragraph&gt;
&lt;/section&gt;
EOX;
$contentCreateStruct-&gt;setField( &#39;body&#39;, $xmlText );]]></script>
</div></div><p>As for the last example above, we use the multiple formats accepted by <code>setField()</code>, and provide our XML string as is. The only accepted format as of 5.0 is internal XML, the one stored in the Legacy database.</p>    <div class="aui-message hint shadowed information-macro">
                            <span class="aui-icon icon-hint">Icon</span>
                <div class="message-content">
                            <p>The XSD for the internal XML representation can be found in the kernel: <a href="https://github.com/ezsystems/ezpublish-kernel/blob/master/eZ/Publish/Core/FieldType/XmlText/Input/Resources/schemas/ezxml.xsd" class="external-link" rel="nofollow">https://github.com/ezsystems/ezpublish-kernel/blob/master/eZ/Publish/Core/FieldType/XmlText/Input/Resources/schemas/ezxml.xsd</a>.</p>
                    </div>
    </div>
<p>We embed an image in our XML, using the <code>&lt;embed&gt;</code> tag, providing an image Content ID as the <code>object_id</code> attribute.</p>    <div class="aui-message warning shadowed information-macro">
                    <p class="title">Using a custom format as input</p>
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>More input formats will be added later. The API for that is actually already available: you simply need to implement the <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/Core/FieldType/XmlText/Input.html" class="external-link" rel="nofollow"><code>XmlText\Input</code></a> interface. It contains one method, <a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/Core/FieldType/XmlText/Input.html#method_getInternalRepresentation" class="external-link" rel="nofollow"><code>getInternalRepresentation()</code></a>, that must return an internal XML string. Create your own bundle, add your implementation to it, and use it in your code!</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$input = new \My\XmlText\CustomInput( &#39;My custom format string&#39; );
$contentCreateStruct-&gt;setField( &#39;body&#39;, $input );]]></script>
</div></div>
                    </div>
    </div>
<h2 id="id-3.ManagingContent-DeletingContent">Deleting Content</h2><p> </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="theme: Eclipse; brush: php; gutter: false"><![CDATA[$contentService-&gt;delete( $contentInfo );]]></script>
</div></div><p><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/ContentService.html#method_deleteContent" class="external-link" rel="nofollow"><code>ContentService::delete()</code></a> method expects a ContentInfo as an argument. It will delete the given Content, all of its Locations, as well as all of the Content's Locations' descendants and their associated Content. <strong>Use with caution !</strong></p><div><span style="color: rgb(51,51,153);"><strong><br /></strong></span></div>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/EZP51/3.+Managing+Content"
    dc:identifier="https://doc.ez.no/display/EZP51/3.+Managing+Content"
    dc:title="3. Managing Content"
    trackback:ping="https://doc.ez.no/rpc/trackback/12125358"/>
</rdf:RDF>
-->

            
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="12125358" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
            <li class="no-labels-message">
            No labels
        </li>
            </ul>

    </div>
</div></div>

            
            




            
    








                    
    
<div id="comments-section" class="pageSection group">
    
    
    
    
            <div class="bottom-comment-panels comment-panels">
                                    
    


    
            </div>
    
    </div>


            
</div>


    




    
    

    
    
    








</div>
  
        <div id="theme-footer">
            <div class="sectionColumnWrapper"><div class="sectionMacro">
<div class="sectionMacroRow"><div class="columnMacro"></div>
<div class="columnMacro">
<div class="panel" style="background-color: #ecf0f1;border-style: solid;border-width: 1px;"><div class="panelContent" style="background-color: #ecf0f1;">
<p>Where Content Means Business</p>
</div></div></div>
<div class="columnMacro"></div></div></div></div>
        </div>
    
    </div>
</div>


        
            <div id="footer">

    <section class="footer-body">

                                                <p class="license license-opensource">
                  Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to eZ Publish. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                        
    

    <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id='footer-build-information'>5.4.4</span>, <a href="http://www.atlassian.com/software/confluence/overview/team-collaboration-software?utm_source=confluence-footer" class="hover-footer-link">Team Collaboration Software</a></li>
        <li class="print-only">Printed by Atlassian Confluence 5.4.4, Team Collaboration Software.</li>
        <li class="noprint"><a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="hover-footer-link">Report a bug</a></li>
        <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
    </ul>

    

            <script>
AJS.toInit(function(){
 if(AJS.params.spaceKey &&
    AJS.params.spaceKey === 'MAIN' ||
    AJS.params.spaceKey === 'EZMA' ||
    AJS.params.spaceKey === 'ODC' ||
    AJS.params.spaceKey === 'EZP50' ||
    AJS.params.spaceKey === 'EZP51' ||
    AJS.params.spaceKey === 'EZP52' ||
    AJS.params.spaceKey === 'EZPCLOUD' ||
    AJS.params.spaceKey === 'EZP' ||
    AJS.params.spaceKey === 'EZRECO'
){

(function()
{var isSecure=('https:'==document.location.protocol);var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src=(isSecure?'https':'http')+'://'+(isSecure?'secure.':'lb.')+'liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'ez.no');
  ga('send', 'pageview');
}}
);
</script>
    
    </section>

</div>

            
    </div>
</body>

<!-- Mirrored from doc.ez.no/display/EZP51/3.+Managing+Content by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 11:59:48 GMT -->
</html>
