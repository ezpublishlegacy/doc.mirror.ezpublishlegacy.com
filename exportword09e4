Message-ID: <2131250745.2986.1485851517479.JavaMail.confluence@ip-10-127-227-164>
Subject: Exported From Confluence
MIME-Version: 1.0
Content-Type: multipart/related; 
	boundary="----=_Part_2985_1606506424.1485851517479"

------=_Part_2985_1606506424.1485851517479
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-Location: file:///C:/exported.html

<html xmlns:o=3D'urn:schemas-microsoft-com:office:office'
      xmlns:w=3D'urn:schemas-microsoft-com:office:word'
      xmlns:v=3D'urn:schemas-microsoft-com:vml'
      xmlns=3D'urn:w3-org-ns:HTML'>
<head>
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8=
">
    <title>Recommendation Bundle</title>
    <!--[if gte mso 9]>
    <xml>
        <o:OfficeDocumentSettings>
            <o:TargetScreenSize>1024x640</o:TargetScreenSize>
            <o:PixelsPerInch>72</o:PixelsPerInch>
            <o:AllowPNG/>
        </o:OfficeDocumentSettings>
        <w:WordDocument>
            <w:View>Print</w:View>
            <w:Zoom>90</w:Zoom>
            <w:DoNotOptimizeForBrowser/>
        </w:WordDocument>
    </xml>
    <![endif]-->
    <style>
                <!--
        @page Section1 {
            size: 8.5in 11.0in;
            margin: 1.0in;
            mso-header-margin: .5in;
            mso-footer-margin: .5in;
            mso-paper-source: 0;
        }

        td {
            page-break-inside: avoid;
        }

        tr {
            page-break-after: avoid;
        }

        div.Section1 {
            page: Section1;
        }

        /* Confluence print stylesheet. Common to all themes for print medi=
a */
/* Full of !important until we improve batching for print CSS */

@media print {
    #main {
        padding-bottom: 1em !important; /* The default padding of 6em is to=
o much for printouts */
    }

    body {
        font-family: Arial, Helvetica, FreeSans, sans-serif;
        font-size: 10pt;
        line-height: 1.2;
    }

    body, #full-height-container, #main, #page, #content, .has-personal-sid=
ebar #content {
        background: #fff !important;
        color: #000 !important;
        border: 0 !important;
        width: 100% !important;
        height: auto !important;
        min-height: auto !important;
        margin: 0 !important;
        padding: 0 !important;
        display: block !important;
    }

    a, a:link, a:visited, a:focus, a:hover, a:active {
        color: #000;
    }

    #content h1,
    #content h2,
    #content h3,
    #content h4,
    #content h5,
    #content h6 {
        font-family: Arial, Helvetica, FreeSans, sans-serif;
        page-break-after: avoid;
    }

    pre {
        font-family: Monaco, "Courier New", monospace;
    }

    #header,
    .aui-header-inner,
    #navigation,
    #sidebar,
    .sidebar,
    #personal-info-sidebar,
    .ia-fixed-sidebar,
    .page-actions,
    .navmenu,
    .ajs-menu-bar,
    .noprint,
    .inline-control-link,
    .inline-control-link a,
    a.show-labels-editor,
    .global-comment-actions,
    .comment-actions,
    .quick-comment-container,
    #addcomment {
        display: none !important;
    }

    .comment .date::before {
        content: none !important; /* remove middot for print view */
    }

    h1.pagetitle img {
        height: auto;
        width: auto;
    }

    .print-only {
        display: block;
    }

    #footer {
        position: relative !important; /* CONF-17506 Place the footer at en=
d of the content */
        margin: 0;
        padding: 0;
        background: none;
        clear: both;
    }

    #poweredby {
        border-top: none;
        background: none;
    }

    #poweredby li.print-only {
        display: list-item;
        font-style: italic;
    }

    #poweredby li.noprint {
        display: none;
    }

    /* no width controls in print */
    .wiki-content .table-wrap,
    .wiki-content p,
    .panel .codeContent,
    .panel .codeContent pre,
    .image-wrap {
        overflow: visible !important;
    }

    /* TODO - should this work? */
    #children-section,
    #comments-section .comment,
    #comments-section .comment .comment-body,
    #comments-section .comment .comment-content,
    #comments-section .comment p {
        page-break-inside: avoid;
    }

    #page-children a {
        text-decoration: none;
    }

    /**
     hide twixies

     the specificity here is a hack because print styles
     are getting loaded before the base styles. */
    #comments-section.pageSection .section-header,
    #comments-section.pageSection .section-title,
    #children-section.pageSection .section-header,
    #children-section.pageSection .section-title,
    .children-show-hide {
        padding-left: 0;
        margin-left: 0;
    }

    .children-show-hide.icon {
        display: none;
    }

    /* personal sidebar */
    .has-personal-sidebar #content {
        margin-right: 0px;
    }

    .has-personal-sidebar #content .pageSection {
        margin-right: 0px;
    }
}
-->
    </style>
</head>
<body>
    <h1>Recommendation Bundle</h1>
    <div class=3D"Section1">
        <div class=3D"contentLayout2">=20
<div class=3D"columnLayout two-right-sidebar" data-layout=3D"two-right-side=
bar">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<div class=3D"panel" style=3D"background-color: #ffffff;border-width: 1px;"=
>
<div class=3D"panelHeader" style=3D"border-bottom-width: 1px;background-col=
or: #dddddd;">
<b>Overview</b>
</div>
<div class=3D"panelContent" style=3D"background-color: #ffffff;">=20
<p style=3D"text-align: center;"><a href=3D"https://github.com/ezsystems/Ez=
SystemsRecommendationBundle" class=3D"external-link" rel=3D"nofollow">Recom=
mendation Bundle</a> integrates the YOOCHOOSE recommendation engine into eZ=
.</p>=20
</div>
</div>
<p>&nbsp;</p>
<p>The Recommendation Bundle extends the functionality of eZ with a recomme=
ndation engine, powered by <a href=3D"https://yoochoose.com/" class=3D"exte=
rnal-link" rel=3D"nofollow">YOOCHOOSE</a>. It allows you to track the way v=
isitors use your website and suggests recommended content to them based on =
their behavior.</p>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
See=20
<a href=3D"https://yoochoose.com/Personalization-Solution/Documentation" cl=
ass=3D"external-link" rel=3D"nofollow">https://yoochoose.com/Personalizatio=
n-Solution/Documentation</a> to learn how the recommendation engine works f=
rom the YOOCHOOSE side.
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<p class=3D"title">Support</p>
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p><span class=3D"x x-first x-last">Stable versions of this bundle </span><=
span>is </span><span class=3D"x x-first x-last">officially supported by eZ =
as of version 1</span><span>.0.</span><span class=3D"x x-first x-last">0, <=
/span><span>for users with </span><span class=3D"x x-first x-last">a eZ Ent=
erprise</span><span> and Yoochoose subscription.</span></p>
</div>
</div>
</div>=20
</div>=20
<div class=3D"cell aside" data-type=3D"aside">=20
<div class=3D"innerCell">=20
<div class=3D"panel" style=3D"background-color: #FFFFFF;border-width: 1px;"=
>
<div class=3D"panelHeader" style=3D"border-bottom-width: 1px;background-col=
or: #dddddd;">
<b>In this topic</b>
</div>
<div class=3D"panelContent" style=3D"background-color: #FFFFFF;">=20
<p><style type=3D"text/css">/*<![CDATA[*/
div.rbtoc1485851517413 {padding: 0px;}
div.rbtoc1485851517413 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1485851517413 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p>
<div class=3D"toc-macro rbtoc1485851517413">=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#RecommendationBundle-InstallingtheRecommendationBundle">Ins=
talling the Recommendation Bundle</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#RecommendationBundle-Requirements">Requirements</a></li>=20
<li><a href=3D"#RecommendationBundle-Installation">Installation</a></li>=20
<li><a href=3D"#RecommendationBundle-Configuration">Configuration</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#RecommendationBundle-Advancedconfiguration">Advanced config=
uration</a></li>=20
</ul> </li>=20
</ul> </li>=20
<li><a href=3D"#RecommendationBundle-UsingtheRecommendationBundle">Using th=
e Recommendation Bundle</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#RecommendationBundle-InitialSetup">Initial Setup</a></li>=
=20
<li><a href=3D"#RecommendationBundle-Indexing">Indexing</a></li>=20
<li><a href=3D"#RecommendationBundle-TrackingTracking">Tracking</a></li>=20
<li><a href=3D"#RecommendationBundle-Displaying">Displaying</a></li>=20
<li><a href=3D"#RecommendationBundle-Troubleshooting">Troubleshooting</a></=
li>=20
</ul> </li>=20
<li><a href=3D"#RecommendationBundle-Otherresources">Other resources</a></l=
i>=20
</ul>=20
</div>
<p></p>=20
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h1 id=3D"RecommendationBundle-InstallingtheRecommendationBundle">Installin=
g the Recommendation Bundle</h1>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>The Recommendation Bundle is installed in a similar way as any other Sym=
fony bundle.</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"RecommendationBundle-Requirements">Requirements</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<ul>
<li>PHP 5.4.4<em> or higher PHP 5.x version</em></li>
<li>Symfony 2.6<em>&nbsp;or higher Symfony<em>&nbsp;2.x version</em></em><e=
m><br></em></li>
<li>eZ Publish 5.4.1 or eZ Platform/Studio 2015.01 or above, with the REST =
API configured to use sessions and publicly open to the YOOCHOOSE servers</=
li>
<li>A YOOCHOOSE license</li>
</ul>
<p>This bundle is independent from the ezrecommendation extension used in l=
egacy, and does not require it.</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"RecommendationBundle-Installation">Installation</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<div class=3D"panel" style=3D"background-color: #ffffff;border-width: 1px;"=
>
<div class=3D"panelHeader" style=3D"border-bottom-width: 1px;background-col=
or: #ffffff;">
<b>To install eZ Recommendation Bundle:</b>
</div>
<div class=3D"panelContent" style=3D"background-color: #ffffff;">=20
<p><strong>1.</strong> Run the following from your eZ Publish installation =
root <em>(here with most recent 1.0.x release)</em>:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">php composer.phar require ezsystems/recommendation-bundle:~1.0.0</p=
re>=20
</div>
</div>
<p><strong>2.</strong> Enable the bundle in <code>ezpublish/EzPublishKernel=
.php</code>:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">$bundles =3D array(
    // existing bundles
    new EzSystems\RecommendationBundle\EzSystemsRecommendationBundle()
);</pre>=20
</div>
</div>
<p><strong>3.</strong> Import additional routing by adding following lines =
to your <code>routing.yml</code> file:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">recommendationBundleRestRoutes:
    resource: "@EzSystemsRecommendationBundle/Resources/config/routing_rest=
.yml"
    prefix:   %ezpublish_rest.path_prefix%</pre>=20
</div>
</div>=20
</div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"RecommendationBundle-Configuration">Configuration</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>The bundle's configuration is siteaccess aware. This is an example of se=
ttings <em>(config.yml)</em>:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">ez_recommendation:
    system:
        default:
            yoochoose:
                customer_id: "12345"
                license_key: "1234-5678-9012-3456-7890"
            server_uri: "http://example.com"
            recommender:
                included_content_types: ["blog", "article"]</pre>=20
</div>
</div>
<p>The following parameters need to be included in the settings file:</p>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Parameter</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd">yoochoose.customer_id</td>
<td class=3D"confluenceTd">Your YOOCHOOSE customer ID.</td>
</tr>
<tr>
<td class=3D"confluenceTd">yoochoose.license_key</td>
<td class=3D"confluenceTd">Your YOOCHOOSE license key.</td>
</tr>
<tr>
<td class=3D"confluenceTd">server_uri</td>
<td class=3D"confluenceTd">The URI your site's REST API can be accessed fro=
m.</td>
</tr>
<tr>
<td class=3D"confluenceTd">recommender.included_content_types</td>
<td class=3D"confluenceTd">Content Types on which the tracking script will =
be shown. See <a href=3D"#RecommendationBundle-Tracking">Tracking </a>below=
 for more information.</td>
</tr>
</tbody>
</table>
</div>
<p>If content's author or image are stored in different field, you can spec=
ify it in <strong>parameters.yml:</strong></p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeHeader panelHeader pdl" style=3D"border-bottom-width: 1px=
;">
<b>Format</b>
</div>
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">    ez_recommendation.field_identifiers:
        {field fetched by controller (image or author)}
             {content type}: {field with value}</pre>=20
</div>
</div>
<p>For example:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeHeader panelHeader pdl" style=3D"border-bottom-width: 1px=
;">
<b>Actual example</b>
</div>
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">    ez_recommendation.field_identifiers:
         author:
             article: authors
         image:
             article: thumbnail
             blog_post: main_image</pre>=20
</div>
</div>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h3 id=3D"RecommendationBundle-Advancedconfiguration">Advanced configuratio=
n</h3>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>You can select advanced options for YOOCHOOSE backend using the followin=
g settings:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">ez_recommendation:
    api_endpoint: 'https://admin.yoochoose.net'
    recommender:
        api_endpoint: 'http://reco.yoochoose.net'
        consume_timeout: 20
    tracking:
        api_endpoint: 'http://event.yoochoose.net'
        script_url: 'cdn.yoochoose.net/yct.js'</pre>=20
</div>
</div>
<p>Changing any of these parameters without a valid reason will break all c=
alls to YOOCHOOSE. It can be useful to test the API by mocking the service,=
 or if you have a hosted version of YOOCHOOSE Recommendation service.</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h1 id=3D"RecommendationBundle-UsingtheRecommendationBundle">Using the Reco=
mmendation Bundle</h1>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"RecommendationBundle-InitialSetup">Initial Setup</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>Your content structure must be mapped to the YOOCHOOSE domain model. Thi=
s must be done in collaboration with YOOCHOOSE.</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"RecommendationBundle-Indexing">Indexing</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p><strong>Public</strong> content is automatically indexed. When necessary=
, eZ Publish will notify YOOCHOOSE of changes to content. Initial import is=
 to be managed with your YOOCHOOSE sales representative. Note that your ser=
ver's REST API will need to be open to the YOOCHOOSE servers for indexing t=
o be possible.</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"RecommendationBundle-TrackingTracking"><span class=3D"confluence-=
anchor-link" id=3D"RecommendationBundle-Tracking"></span>Tracking</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>Events from the site need to be sent to YOOCHOOSE so that recommendation=
s can be adapted to visitors. Tracking can be set up in multiple ways, depe=
nding on existing constraints.</p>
<p><code>EzRecommendationBundle</code> delivers a Twig extension which help=
s integrate the tracking functionality into your site.</p>
<div class=3D"panel" style=3D"background-color: #ffffff;border-width: 1px;"=
>
<div class=3D"panelHeader" style=3D"border-bottom-width: 1px;background-col=
or: #ffffff;">
<b>To enable tracking:</b>
</div>
<div class=3D"panelContent" style=3D"background-color: #ffffff;">=20
<p><strong>1.</strong> Place the following snippet of code somewhere in the=
 HEAD section of your header template (if your bundle is built on top of th=
e DemoBundle this is <code>page_head.html.twig</code>):</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">{% if content is defined %}
    {{ yc_track_user(content.id) }}
{% endif %}</pre>=20
</div>
</div>
<p><strong>2.</strong> Configure settings under the <code>recommender.inclu=
ded_content_types</code> parameter (see the <code><a href=3D"https://github=
.com/ezsystems/EzSystemsRecommendationBundle/blob/master/Resources/config/d=
efault_settings.yml" class=3D"external-link" rel=3D"nofollow">default_setti=
ngs.yml</a></code> file delivered with this bundle). Here you can define fo=
r which content types tracking script will be shown.</p>=20
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-tip=
">
<span class=3D"aui-icon aui-icon-small aui-iconfont-approve confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>You can find more information about <a href=3D"https://doc.yoochoose.net=
/display/PUBDOC/1.+Tracking+Events" class=3D"external-link" rel=3D"nofollow=
">tracking</a> in YOOCHOOSE documentation.</p>
</div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"RecommendationBundle-Displaying">Displaying</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>In order to allow displaying recommendations on your site you must add p=
ortions of scripts which will integrate the recommender engine with your si=
te.</p>
<p>Implementation is very easy and can be performed in just a few steps (as=
suming that the <code>EzRecommendationBundle</code> is properly configured =
and enabled in <code>EzPublishKernel.php</code>):</p>
<div class=3D"panel" style=3D"background-color: #ffffff;border-width: 1px;"=
>
<div class=3D"panelHeader" style=3D"border-bottom-width: 1px;background-col=
or: #ffffff;">
<b>To enable displaying recommendations:</b>
</div>
<div class=3D"panelContent" style=3D"background-color: #ffffff;">=20
<p><strong>1.</strong> Add the following JavaScript assets to your header t=
emplate (if your bundle is built on top of the DemoBundle this is <code>pag=
e_head_script.html.twig</code>):</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">{% javascripts
    ...

    '%kernel.root_dir%/../vendor/components/handlebars.js/handlebars.min.js=
'
    '@EzSystemsRecommendationBundle/Resources/public/js/recommendationtempl=
aterenderer.js'
    '@EzSystemsRecommendationBundle/Resources/public/js/recommendationtempl=
atehelper.js'
    '@EzSystemsRecommendationBundle/Resources/public/js/recommendationrestc=
lient.js'
%}</pre>=20
</div>
</div>
<p><strong>2.</strong> Place a dedicated Twig helper in the place where you=
 want to display recommendations:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">{{ yc_show_recommendations(
    contentId =3D content.id,
    scenario =3D '',
    limit =3D '',
    contentType =3D '',
    template =3D '',
    fields =3D []
) }}</pre>=20
</div>
</div>=20
</div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h4 id=3D"RecommendationBundle-Parameters">Parameters</h4>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Parameter</th>
<th class=3D"confluenceTh">Type</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd">contentId</td>
<td class=3D"confluenceTd">int</td>
<td class=3D"confluenceTd">In content-based views the Twig variable holding=
 the content id (the content you want to get recommendations for).</td>
</tr>
<tr>
<td class=3D"confluenceTd">scenario</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">Scenario used to display recommendations. You ca=
n create custom scenarios at the YOOCHOOSE dashboard.</td>
</tr>
<tr>
<td class=3D"confluenceTd">limit</td>
<td class=3D"confluenceTd">int</td>
<td class=3D"confluenceTd">Number of recommendations to show.</td>
</tr>
<tr>
<td class=3D"confluenceTd">contentType</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">Content Types you are expecting in response.</td=
>
</tr>
<tr>
<td class=3D"confluenceTd">template</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">HandleBars template name (your templates are sto=
red <code>in the EzRecommendationBundle/Resources/public/views</code> direc=
tory. Take a look at <code>default.html.twig</code> which includes a defaul=
t template that can be used to prepare customized versions).</td>
</tr>
<tr>
<td class=3D"confluenceTd">fields</td>
<td class=3D"confluenceTd">array</td>
<td class=3D"confluenceTd">Fields which are required and will be requested =
from the recommender engine. These field names are also used inside HandleB=
ars templates.</td>
</tr>
</tbody>
</table>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>Sample integration can take the following form:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">{{ yc_show_recommendations(
    contentId =3D content.id,
    scenario =3D 'popular',
    limit =3D 5,
    contentType =3D 'article',
    template =3D 'default',
    fields =3D ['ez_publishedDate', 'ez_url', 'title', 'image', 'author', '=
intro']
) }}</pre>=20
</div>
</div>
</div>
</div>
<p>You can also bypass named arguments using standard value passing as argu=
ments.</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h4 id=3D"RecommendationBundle-ItemID">Item ID</h4>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>The item id is usually set to the viewed ContentId. Depending on require=
ments, it can be set to a different value, in collaboration with YOOCHOOSE.=
</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"RecommendationBundle-Troubleshooting">Troubleshooting</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>Most operations are logged via the <code>ez_recommendation</code> <a hre=
f=3D"http://symfony.com/doc/current/cookbook/logging/channels_handlers.html=
" class=3D"external-link" rel=3D"nofollow">Monolog channel</a>. To log ever=
ything about Recommendation to dev.recommendation.log, add the following to=
 your <code>config.yml</code>:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">monolog:
    handlers:
        ez_recommendation:
            type:   stream
            path:   "%kernel.logs_dir%/%kernel.environment%.recommendation.=
log"
            channels: [ez_recommendation]
            level: info</pre>=20
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-tip=
">
<span class=3D"aui-icon aui-icon-small aui-iconfont-approve confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
You can replace=20
<code>info</code> by=20
<code>debug</code> for more verbosity.
</div>
</div>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h1 id=3D"RecommendationBundle-Otherresources">Other resources</h1>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<ul>
<li><a href=3D"http://docs.ezreco.apiary.io/" class=3D"external-link" rel=
=3D"nofollow">API doc for YOOCHOOSE Service</a></li>
<li><a href=3D"https://doc.yoochoose.net/display/PUBDOC/Developer+Guide" st=
yle=3D"line-height: 1.42857;" class=3D"external-link" rel=3D"nofollow">Deve=
loper Guides for YOOCHOOSE Service</a></li>
</ul>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p style=3D"text-align: right;"><span>&nbsp;</span>eZ Studio =C2=A9 1999-20=
15 <a class=3D"external-link" href=3D"http://ez.no/" rel=3D"nofollow">eZ Sy=
stems AS</a> and others</p>
</div>=20
</div>=20
</div>=20
</div>
    </div>
</body>
</html>
------=_Part_2985_1606506424.1485851517479--
