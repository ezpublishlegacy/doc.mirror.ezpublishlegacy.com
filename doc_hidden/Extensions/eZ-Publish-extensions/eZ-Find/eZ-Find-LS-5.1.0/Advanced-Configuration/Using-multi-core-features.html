<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">


<!-- Mirrored from doc.ez.no/doc_hidden/Extensions/eZ-Publish-extensions/eZ-Find/eZ-Find-LS-5.1.0/Advanced-Configuration/Using-multi-core-features by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 23:01:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

<link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/core.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/header-footer.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/header-footer-lookfeel.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/pagelayout.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/buttons.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/960.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/superfish.css" /><script type="text/javascript" src="https://ez.no/extension/ez_ezno/design/ezno_2011/javascript/jquery-1.6.3.min.js" charset="utf-8"></script><script type="text/javascript" src="https://ez.no/extension/ez_ezno/design/ezno_2011/javascript/superfish.js" charset="utf-8"></script><script type="text/javascript" src="https://ez.no/extension/ez_ezno/design/ezno_2011/javascript/jquery.popmenu.min.js" charset="utf-8"></script>
<style type="text/css">
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                    
    <title>Using multi-core features / Advanced Configuration / eZ Find LS 5.1.0 / eZ Find / eZ Publish extensions / Extensions / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="eZ Publish Documentation" />
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="eZ Publish" />
    <link rel="Home" href="../../../../../../doc_hidden.html" title="Doc front page" />
<link rel="Search" href="../../../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


	<div id="header-bg">
			<div id="header" class="container_12">
				<div class="grid_12">
					<div class="searchboxes" id="searchbox">
	  <form action="https://ez.no/headerandfooteraccess/content/search">
	    <label for="searchtext" class="hide">Search text:</label>
	    	    <div class="ezautocomplete">
	        <button value="Search" title="Search" type="submit"><span class="w"><span class="l"></span><span class="c">Search</span><span class="r"></span></span></button>
	        <div class="searchtext-wrap"><input class="searchtext" id="searchtext" name="SearchText" type="text" value="Search" size="12" onblur="if(this.value=='') this.value='Search';" onfocus="if(this.value=='Search') this.value='';" /></div>
	        <div class="ezautocompletecontainer"></div>
	    </div>
	    
	    	  </form>
	</div>

                <div id="header-social-connect">
    <a href="http://www.youtube.com/user/ezpublish/" class="youtube" target="_blank">youtube</a>
    <a href="https://google.com/+ezsystems" class="googleplus" target="_blank">google plus</a>
    <a href="http://www.linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="linkedin" target="_blank">linkedin</a>
    <a href="https://www.facebook.com/eZPublishEnterprise" class="facebook" target="_blank">facebook</a>
    <a href="http://twitter.com/#!/ezsystems" class="twitter" target="_blank">twitter</a>
</div>
				<div id="links">
		
							
		
		</div>                <div id="languages" class="popmenu">	<div class="eng"><a href="#">English&nbsp;<span></span></a></div></div>

				<p class="hide"><a href="#main">Skip to main content</a></p>
				</div>
			</div>

			
	</div>

    <div class="topmenu-anchor"></div>
    <div id="topmenu-bg">
	    <div id="logo" class="container_12">

    <div class="grid_3">
        <a href="https://ez.no/headerandfooteraccess" title="eZ Publish Platform, CXM &amp; CMS">
            <img src="https://ez.no/extension/ez_ezno/design/ezno_2011/images/ez-logo.png"
                 alt="" height="45px"/>
        </a>
    </div>

    <div class="grid_9">
                <div class="topmenu-design">
	<!-- Top menu content: START -->
	<div id="topmenu-firstlevel-position">
	<ul id="topmenu-firstlevel" class="sf-menu sf-js-enabled sf-shadow">
		
		
		        </ul>
    </div>
        <!-- Top menu content: END -->
</div>        </div>
</div>    </div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="http://ez.no/">ez.no</a> /
                        <a href="../../../../../../doc_hidden.html">documentation</a>
        
                        /
                            <a href="../../../../../Extensions.html">extensions</a>
        
                        /
                            <a href="../../../../eZ-Publish-extensions.html">ez publish extensions</a>
        
                        /
                            <a href="../../../eZ-Find.html">ez find</a>
        
                        /
                            <a href="../../eZ-Find-LS-5.1.html">ez find ls 5.1.0</a>
        
                        /
                            <a href="../Advanced-Configuration.html">advanced configuration</a>
        
                        /
                            using multi-core features
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="../../../../../../display/MAIN/eZ%2bDocumentation%2bCenter.html">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="../../../../../../pages/viewpage0139.html?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../eZ-Find.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
    
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Using multi-core features</h1>
</div>

<p>As mentioned before, you are able to set up a single Solr instance, the backend engine of eZ Find, to serve multiple sites (it does not even matter if these are on the same box). Similar to a database, Solr is capable of having multiple search indexes from one servlet, because Solr supports the concepts of multiple &quot;cores&quot;. This means that it can run multiple instances of itself inside a servlet container. Each core has its own set of configuration files (including the &quot;schema&quot;) and dedicated directories.</p><p>Lets go through the steps of setting up a Solr instance which must serve two sites. To keep it simple we'll call them <b>ezlabs</b> <b>.no</b> and <b>ez.no.</b></p>
<ol>
<li><div><p>The easiest way is to first prepare a central location for the Solr Index. This can for example be:</p><pre class="wordwrap"><span class="line">/srv/solr</span>
</pre></div></li><li><div>&nbsp;Next you should create two additional directories inside it, as follows:<pre class="wordwrap"><span class="line">/srv/solr/java</span>
<span class="line">/srv/solr/cores</span>
</pre></div></li><li><div>
&nbsp;Inside /srv/solr/java you should store a copy of the contents of the java directory of your eZ Find installation, or if you don't have one yet, download it from <a href="http://share.ez.no/downloads" target="_self">http://share.ez.no/downloads</a>.<br /><b> Note:</b>&nbsp;Enterprise customers can download from the download page in the Service Portal&nbsp;</div></li><li><div>&nbsp;Next create a symlink for the <b>solr/lib</b> plugin directory inside /srv/solr/cores like this:<pre class="wordwrap"><span class="line">ln -s /srv/solr/java/solr/lib /srv/solr/cores</span>
</pre></div></li><li><div>
&nbsp;Create additional directories for each of your sites, called <b>ezlabs</b> and <b>ez</b> in your /srv/solr/cores. Both of them must contain a data and a conf sub-directory.<br />&nbsp;Your file structure should look something like this:<pre class="wordwrap copytoclipboard"><span class="line">/srv/solr/cores</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ezlabsno/data</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ezlabsno/conf</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ezno/data</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ezno/conf</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '/srv/solr/cores\r\n       ezlabsno/data\r\n       ezlabsno/conf\r\n\r\n       ezno/data\r\n       ezno/conf' ); return false;" /></p>
<![endif]--></div></li><li><div>&nbsp;In both conf directories you must then copy the contents of the folder extension/ezfind/java/solr/conf/* and adapt the Solr dataDir. </div></li><li><div>&nbsp;Next create a solr.xml file inside /srv/solr/cores/solr.xml with the following content:<pre class="wordwrap copytoclipboard"><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="line">&lt;!-- snip the comments from Apache wiki --&gt;</span>
<span class="line">&lt;solr persistent=&quot;true&quot; sharedLib=&quot;lib&quot;&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;cores adminPath=&quot;/admin/cores&quot;&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;core name=&quot;ezlabsno&quot; instanceDir=&quot;ezlabsno&quot; /&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;core name=&quot;ezno&quot; instanceDir=&quot;ezno&quot; /&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/cores&gt;</span>
<span class="line">&lt;/solr&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!-- snip the comments from Apache wiki --&gt;\r\n&lt;solr persistent=&quot;true&quot; sharedLib=&quot;lib&quot;&gt;\r\n    &lt;cores adminPath=&quot;/admin/cores&quot;&gt;\r\n         &lt;core name=&quot;ezlabsno&quot; instanceDir=&quot;ezlabsno&quot; /&gt;\r\n         &lt;core name=&quot;ezno&quot; instanceDir=&quot;ezno&quot; /&gt;\r\n    &lt;/cores&gt;\r\n&lt;/solr&gt;' ); return false;" /></p>
<![endif]--></div></li><li><div>&nbsp;If you already have indexed data for one or both of your sites, you may stop Solr from indexing them again. You should then copy the index and spellchecker directories to your data directories (in /srv/solr/cores/ezlabsno/data and /srv/solr/cores/ezno/data). </div></li><li><div>&nbsp;Now you should restart Solr with the following parameters:<pre class="wordwrap"><span class="line">cd /srv/solr/java; java -Dsolr.solr.home=/srv/solr/cores -jar start.jar</span>
</pre></div></li><li><div>&nbsp;It's important to keep an eye on the output, in case of potential errors (for example things that are permission related). </div></li><li><div>&nbsp;And finally you can configure the individual eZ Publish and eZ Find instances with the dedicated <b>&nbsp;</b>URLs as base URLs in solr.ini: </div></li>
</ol>
<pre class="wordwrap"><span class="line">http://localhost:8983/solr/ezlabsno</span>
<span class="line">&nbsp;</span>
<span class="line">http://localhost:8983/solr/ezno</span>
</pre>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Ricardo Correia&nbsp;(10/09/2013 9:48 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Ricardo Correia&nbsp;(10/09/2013 9:48 am)</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<div id="comments-content">
<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">

<div id="comment28877" class="attribute-heading">
<h2>something missing?</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 10 September 2013 9:48:38 am</p>
    <p class="author">Francesco</p>
</div>

<div class="attribute-short">
I guess something is missing after &quot;Now you should restart Solr with the following parameters as follows:&quot;<br />
isn't it?
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="28877" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="hidden/Extensions/eZ-Publish-extensions/eZ-Find/eZ-Find-LS-5.1.0/Advanced-Configuration/Using-multi-core-features" />

</form>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">

<div id="comment28878" class="attribute-heading">
<h2>yes... not working</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 10 September 2013 9:48:47 am</p>
    <p class="author">Francesco</p>
</div>

<div class="attribute-short">
The above advices are not complete, as I said before.  <br />
(I've spent 3hr already on this.... geee!)<br />
<br />
there is sure another mistake<br />
<br />
<pre class="wordwrap"><span class="line">&nbsp;instanceDir=&quot;siteoneno &quot;</span>
</pre><br />
<br />
should be <br />
<br />
<pre class="wordwrap"><span class="line">&nbsp;instanceDir=&quot;siteoneno&quot;</span>
</pre><br />
<br />
without the blank space at the end, isn't it?<br />
<br />
(see <a href="http://wiki.apache.org/solr/CoreAdmin" title="http://wiki.apache.org/solr/CoreAdmin">http://wiki.apache.org/solr/CoreAdmin</a> )<br />

</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="28878" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="hidden/Extensions/eZ-Publish-extensions/eZ-Find/eZ-Find-LS-5.1.0/Advanced-Configuration/Using-multi-core-features" />

</form>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">

<div id="comment28879" class="attribute-heading">
<h2>still not working</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 10 September 2013 9:48:56 am</p>
    <p class="author">Francesco</p>
</div>

<div class="attribute-short">
Thank you for the updates.<br />
It still does not work for us (while it works with single solr).<br />
<br />
We get this error (with our server is Debian lenny)<br />
<br />
<pre class="wordwrap"><span class="line">28-nov-2009 19.39.38 org.apache.solr.request.XSLTResponseWriter init</span>
<span class="line">INFO: xsltCacheLifetimeSeconds=5</span>
<span class="line">28-nov-2009 19.39.38 org.apache.solr.core.RequestHandlers initHandlersFromConfig</span>
<span class="line">INFO: created standard: solr.SearchHandler</span>
<span class="line">28-nov-2009 19.39.38 org.apache.solr.core.RequestHandlers initHandlersFromConfig</span>
<span class="line">INFO: created dismax: solr.SearchHandler</span>
<span class="line">28-nov-2009 19.39.38 org.apache.solr.core.RequestHandlers initHandlersFromConfig</span>
<span class="line">INFO: created partitioned: solr.SearchHandler</span>
<span class="line">28-nov-2009 19.39.38 org.apache.solr.core.RequestHandlers initHandlersFromConfig</span>
<span class="line">INFO: created ezpublish: solr.DisMaxRequestHandler</span>
<span class="line">28-nov-2009 19.39.38 org.apache.solr.common.SolrException log</span>
<span class="line">GRAVE: org.apache.solr.common.SolrException: Error loading class 'org.ezsystems.solr.handler.ezfind.eZFindRequestHandler'</span>
<span class="line">	at org.apache.solr.core.SolrResourceLoader.findClass(SolrResourceLoader.java:310)</span>
<span class="line">	at org.apache.solr.core.SolrCore.createInstance(SolrCore.java:411)</span>
<span class="line">	at org.apache.solr.core.SolrCore.createRequestHandler(SolrCore.java:436)</span>
<span class="line">	at org.apache.solr.core.RequestHandlers.initHandlersFromConfig(RequestHandlers.java:150)</span>
<span class="line">	at org.apache.solr.core.SolrCore.&lt;init&gt;(SolrCore.java:541)</span>
<span class="line">	at org.apache.solr.core.CoreContainer.create(CoreContainer.java:425)</span>
<span class="line">	at org.apache.solr.core.CoreContainer.load(CoreContainer.java:278)</span>
<span class="line">	at org.apache.solr.core.CoreContainer$Initializer.initialize(CoreContainer.java:117)</span>
<span class="line">	at org.apache.solr.servlet.SolrDispatchFilter.init(SolrDispatchFilter.java:83)</span>
<span class="line">	at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:99)</span>
<span class="line">	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)</span>
<span class="line">	at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:594)</span>
<span class="line">	at org.mortbay.jetty.servlet.Context.startContext(Context.java:139)</span>
<span class="line">	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1218)</span>
<span class="line">	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:500)</span>
<span class="line">	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:448)</span>
<span class="line">	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)</span>
<span class="line">	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:147)</span>
<span class="line">	at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:161)</span>
<span class="line">	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)</span>
<span class="line">	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:147)</span>
<span class="line">	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)</span>
<span class="line">	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:117)</span>
<span class="line">	at org.mortbay.jetty.Server.doStart(Server.java:210)</span>
<span class="line">	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)</span>
<span class="line">	at org.mortbay.xml.XmlConfiguration.main(XmlConfiguration.java:929)</span>
<span class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span>
<span class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</span>
<span class="line">	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</span>
<span class="line">	at java.lang.reflect.Method.invoke(Unknown Source)</span>
<span class="line">	at org.mortbay.start.Main.invokeMain(Main.java:183)</span>
<span class="line">	at org.mortbay.start.Main.start(Main.java:497)</span>
<span class="line">	at org.mortbay.start.Main.main(Main.java:115)</span>
<span class="line">Caused by: java.lang.ClassNotFoundException: org.ezsystems.solr.handler.ezfind.eZFindRequestHandler</span>
<span class="line">	at java.net.URLClassLoader$1.run(Unknown Source)</span>
<span class="line">	at java.security.AccessController.doPrivileged(Native Method)</span>
<span class="line">	at java.net.URLClassLoader.findClass(Unknown Source)</span>
<span class="line">	at java.lang.ClassLoader.loadClass(Unknown Source)</span>
<span class="line">	at java.lang.ClassLoader.loadClass(Unknown Source)</span>
<span class="line">	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:375)</span>
<span class="line">	at org.mortbay.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:337)</span>
<span class="line">	at java.lang.ClassLoader.loadClassInternal(Unknown Source)</span>
<span class="line">	at java.lang.Class.forName0(Native Method)</span>
<span class="line">	at java.lang.Class.forName(Unknown Source)</span>
<span class="line">	at org.apache.solr.core.SolrResourceLoader.findClass(SolrResourceLoader.java:294)</span>
<span class="line">	... 32 more</span>
<span class="line">&nbsp;</span>
</pre><br />
<br />
while trying to surf in <a href="http://localhost/" title="http://localhost">http://localhost</a>... we get &quot;severe SOLR configuration error&quot;<br />
<br />
:(<br />
<br />
We do really need to have solr working for several ez websites<br />
<br />
Thank you for your help, <br />
Fra
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="28879" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="hidden/Extensions/eZ-Publish-extensions/eZ-Find/eZ-Find-LS-5.1.0/Advanced-Configuration/Using-multi-core-features" />

</form>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">

<div id="comment28880" class="attribute-heading">
<h2>Re: still not working</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 10 September 2013 9:49:05 am</p>
    <p class="author">chs</p>
</div>

<div class="attribute-short">
I can't say if this is the same problem but I just got the same error (GRAVE: org.apache.solr.common.SolrException: Error loading class 'org.ezsystems.solr.handler.ezfind.eZFindRequestHandler).<br />
<br />
The directory extension/ezfind/java/solr/lib/ was missing and, with it, the file ezsystems-ezfind-solr-extension-2.1.jar.<br />
I kinda messed up using SVN to transfer eZFind from one box to another.<br />
<br />
mes deux centimes de franc ...
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="28880" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="hidden/Extensions/eZ-Publish-extensions/eZ-Find/eZ-Find-LS-5.1.0/Advanced-Configuration/Using-multi-core-features" />

</form>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">

<div id="comment28881" class="attribute-heading">
<h2>Typo in solr.xml</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 10 September 2013 9:49:14 am</p>
    <p class="author">Michael Maclean</p>
</div>

<div class="attribute-short">
It seems that the line which says:<br />
<br />
&lt;solr persistent=&quot;true&quot; shareLib=&quot;lib&quot;&gt;<br />
<br />
has a typo. I've had much more success using <br />
<br />
&lt;solr persistent=&quot;true&quot; sharedLib=&quot;lib&quot;&gt;<br />
<br />
(shared, not share)
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="28881" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="hidden/Extensions/eZ-Publish-extensions/eZ-Find/eZ-Find-LS-5.1.0/Advanced-Configuration/Using-multi-core-features" />

</form>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">

<div id="comment28882" class="attribute-heading">
<h2>My Multi-Core Woes [RESOLVED]</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 10 September 2013 9:49:22 am</p>
    <p class="author">Jason Calhoun</p>
</div>

<div class="attribute-short">
I was able to get mult-core installed with the instructions above. But the search did not work for my sites. My check list looked like this. <br />
<br />
Solr running: OK,  <br />
Solr Administration Pages working: OK, <br />
Index with updatesearchindexsolr.php: OK,?<br />
Synchronize from site_admin: FAILED, <br />
Search results from site: FAILED, <br />
<br />
[SOLUTION]  <br />
<br />
Make a change to each sites extension/ezfind/settings/solr.ini . add /&lt;corename&gt; to the end of each SearchServerURI like below: <br />
<br />
[SolrBase]<br />
# Base URI of the Solr server<br />
SearchServerURI=<a href="http://localhost:8983/solr/site1" title="http://localhost:8983/solr/site1">http://localhost:8983/solr/site1</a><br />
<br />
You must then re-index each site with php extension/ezfind/bin/php/updatesearchindexsolr.php -s site_admin<br />

</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="28882" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="hidden/Extensions/eZ-Publish-extensions/eZ-Find/eZ-Find-LS-5.1.0/Advanced-Configuration/Using-multi-core-features" />

</form>


</div>
</div>    </div></li></ul>
</div>
<div class="toolbar">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="28876" />
<input type="hidden" name="RedirectURIAfterPublish" value="Extensions/eZ-Publish-extensions/eZ-Find/eZ-Find-LS-5.1.0/Advanced-Configuration/Using-multi-core-features" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        <div id="footer-bg">
        <div id="footer" class="container_12">

            <div class="grid_3">
                <img src="https://ez.no/extension/ez_ezno/design/ezno_2011/images/ez-logo-white.png" alt="ez-publish" />
                <div id="footer-copyright" class="grid_3 alpha omega">
                                    </div>
            </div>

            <div class="grid_6 middle">
                <div class="grid_6 alpha omega">
                    <div class="grid_3 alpha"><div></div></div>
                    <div class="grid_3 omega"><div></div></div>
                </div>
            </div>

            <div class="grid_3 right">
                <div class="contact-ez">
                        <a id="cta-contact" href="https://ez.no/headerandfooteraccess/Home/Forms/Contact-eZ/(origin)/footer" title="Contact eZ!" class="btn-green btn--small">Contact eZ!</a>
                </div>

                <div class="adress"></div>
            </div>

        </div>
    </div>
<div id="footer-connect-bg">
    <div id="footer" class="container_12">
        <div id="footer-connect-copyright" class="grid_8 alpha omega">
            Copyright Â© 2013 eZ Systems AS (except where otherwise noted). All rights reserved.
            <br/><br/>
            Powered by <a href="http://ez.no/ezpublish" title="eZ Publish Platform">the eZ Publish Platform</a>.<br />
        </div>

        <div id="footer-connect-social" class="grid_4 right">
            <a href="http://www.youtube.com/user/ezpublish/" class="youtube" target="_blank">youtube</a>
            <a href="https://google.com/+ezsystems" class="googleplus" target="_blank">google plus</a>
            <a href="http://www.linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="linkedin" target="_blank">linkedin</a>
            <a href="https://www.facebook.com/eZPublishEnterprise" class="facebook" target="_blank">facebook</a>
            <a href="http://twitter.com/#!/ezsystems" class="twitter" target="_blank">twitter</a>
        </div>


    </div>
</div>


</div>
<!-- Complete page area: END -->



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'auto');
  ga('send', 'pageview');

</script>




<script type="text/javascript">
(function()
{var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src='https://secure.liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();
</script>


</body>

<!-- Mirrored from doc.ez.no/doc_hidden/Extensions/eZ-Publish-extensions/eZ-Find/eZ-Find-LS-5.1.0/Advanced-Configuration/Using-multi-core-features by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 23:01:18 GMT -->
</html>

<!-- th[eZ] 20050804 -->
