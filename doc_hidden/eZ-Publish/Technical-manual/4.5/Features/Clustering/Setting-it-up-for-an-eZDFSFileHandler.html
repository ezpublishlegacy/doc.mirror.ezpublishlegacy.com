<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">


<!-- Mirrored from doc.ez.no/doc_hidden/eZ-Publish/Technical-manual/4.5/Features/Clustering/Setting-it-up-for-an-eZDFSFileHandler by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 12:58:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

<link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/core.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/header-footer.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/header-footer-lookfeel.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/pagelayout.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/buttons.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/960.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/superfish.css" /><script type="text/javascript" src="https://ez.no/extension/ez_ezno/design/ezno_2011/javascript/jquery-1.6.3.min.js" charset="utf-8"></script><script type="text/javascript" src="https://ez.no/extension/ez_ezno/design/ezno_2011/javascript/superfish.js" charset="utf-8"></script><script type="text/javascript" src="https://ez.no/extension/ez_ezno/design/ezno_2011/javascript/jquery.popmenu.min.js" charset="utf-8"></script>
<style type="text/css">
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                    
    <title>Setting it up for an eZDFSFileHandler / Clustering / Features / 4.5 / Technical manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="eZ Publish Documentation" />
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="eZ Publish" />
    <link rel="Home" href="../../../../../../doc_hidden.html" title="Doc front page" />
<link rel="Search" href="../../../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


	<div id="header-bg">
			<div id="header" class="container_12">
				<div class="grid_12">
					<div class="searchboxes" id="searchbox">
	  <form action="https://ez.no/headerandfooteraccess/content/search">
	    <label for="searchtext" class="hide">Search text:</label>
	    	    <div class="ezautocomplete">
	        <button value="Search" title="Search" type="submit"><span class="w"><span class="l"></span><span class="c">Search</span><span class="r"></span></span></button>
	        <div class="searchtext-wrap"><input class="searchtext" id="searchtext" name="SearchText" type="text" value="Search" size="12" onblur="if(this.value=='') this.value='Search';" onfocus="if(this.value=='Search') this.value='';" /></div>
	        <div class="ezautocompletecontainer"></div>
	    </div>
	    
	    	  </form>
	</div>

                <div id="header-social-connect">
    <a href="http://www.youtube.com/user/ezpublish/" class="youtube" target="_blank">youtube</a>
    <a href="https://google.com/+ezsystems" class="googleplus" target="_blank">google plus</a>
    <a href="http://www.linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="linkedin" target="_blank">linkedin</a>
    <a href="https://www.facebook.com/eZPublishEnterprise" class="facebook" target="_blank">facebook</a>
    <a href="http://twitter.com/#!/ezsystems" class="twitter" target="_blank">twitter</a>
</div>
				<div id="links">
		
							
					<ul class="clearfix">
																					<li class="nid-2384 first ">
						<a href="https://ez.no/headerandfooteraccess/Partner-Portal">Partner Portal<span></span></a></li>
																										<li class="nid-1859 ">
						<a href="https://ez.no/headerandfooteraccess/Customer-Log-In">Customer Log In<span></span></a></li>
																										<li class="nid-1831 ">
						<a href="https://ez.no/headerandfooteraccess/Community">Community<span></span></a></li>
																										<li class="nid-1944 last ">
						<a href="https://ez.no/headerandfooteraccess/Blog">Blog<span></span></a></li>
												</ul>
		
		</div>                <div id="languages" class="popmenu">	<div class="eng"><a href="#">English&nbsp;<span></span></a></div></div>

				<p class="hide"><a href="#main">Skip to main content</a></p>
				</div>
			</div>

			
	</div>

    <div class="topmenu-anchor"></div>
    <div id="topmenu-bg">
	    <div id="logo" class="container_12">

    <div class="grid_3">
        <a href="https://ez.no/headerandfooteraccess" title="eZ Publish Platform, CXM &amp; CMS">
            <img src="https://ez.no/extension/ez_ezno/design/ezno_2011/images/ez-logo.png"
                 alt="eZ Publish®"/>
        </a>
    </div>

    <div class="grid_9">
                <div class="topmenu-design">
	<!-- Top menu content: START -->
	<div id="topmenu-firstlevel-position">
	<ul id="topmenu-firstlevel" class="sf-menu sf-js-enabled sf-shadow">
		
																																																														
																																										

                                	                																					                                    <li id="node_id_1795" class="li-first-level firstli">
                    	<a href="https://ez.no/headerandfooteraccess/Products/The-eZ-Publish-Platform" class="menu-item-link">
                    		<span>Products</span>
                    	</a>
													<ul>
								<li class="dropmenu-ul-top"></li>
																	<li id="node_id_21578" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Products/The-eZ-Publish-Platform" class="a-second-level">The eZ Publish Platform</a>
																			</li>
																	<li id="node_id_19870" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Products/Content-Management" class="a-second-level">Content Management </a>
																			</li>
																	<li id="node_id_15645" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Products/Digital-Marketing" class="a-second-level has-more">Digital Marketing</a>
																					<ul>
												<li class="dropmenu-ul-subarrow"></li>
												<li class="dropmenu-ul-top"></li>
																									<li id="node_id_15685" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/Digital-Marketing/Marketing-Automation" class="a-third-level">
															Marketing Automation
														</a>
													</li>
																									<li id="node_id_15686" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/Digital-Marketing/Smart-Analytics" class="a-third-level">
															Smart Analytics
														</a>
													</li>
																									<li id="node_id_15689" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/Digital-Marketing/Personalization-Recommendation" class="a-third-level">
															Personalization &amp; Recommendation
														</a>
													</li>
																								<li class="dropmenu-ul-bottom"></li>
											</ul>
																			</li>
																	<li id="node_id_19872" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Products/e-Commerce" class="a-second-level">e-Commerce</a>
																			</li>
																	<li id="node_id_14954" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Products/Compare-Versions" class="a-second-level">Compare Versions</a>
																			</li>
																	<li id="node_id_1800" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Products/Demos-Videos" class="a-second-level">Demos &amp; Videos</a>
																			</li>
																	<li id="node_id_20778" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Products/Knowledge-Base" class="a-second-level has-more">Knowledge Base</a>
																					<ul>
												<li class="dropmenu-ul-subarrow"></li>
												<li class="dropmenu-ul-top"></li>
																									<li id="node_id_19570" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/Knowledge-Base/eZ-Publish-Platform-5.3" class="a-third-level">
															eZ Publish Platform 5.3
														</a>
													</li>
																									<li id="node_id_11694" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/Knowledge-Base/eZ-Live-Viewer" class="a-third-level">
															eZ Live Viewer
														</a>
													</li>
																									<li id="node_id_11693" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/Knowledge-Base/eZ-Recommendation-Service" class="a-third-level">
															eZ Recommendation Service
														</a>
													</li>
																									<li id="node_id_13246" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/Knowledge-Base/eZ-Marketing-Automation" class="a-third-level">
															eZ Marketing Automation
														</a>
													</li>
																								<li class="dropmenu-ul-bottom"></li>
											</ul>
																			</li>
																	<li id="node_id_1846" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Products/eZ-Market" class="a-second-level has-more">eZ Market</a>
																					<ul>
												<li class="dropmenu-ul-subarrow"></li>
												<li class="dropmenu-ul-top"></li>
																									<li id="node_id_1848" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/eZ-Market/Explore-the-eZ-Market" class="a-third-level">
															Explore the eZ Market
														</a>
													</li>
																									<li id="node_id_1851" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/eZ-Market/How-to-Sell-on-eZ-Market" class="a-third-level">
															How to Sell on eZ Market
														</a>
													</li>
																								<li class="dropmenu-ul-bottom"></li>
											</ul>
																			</li>
																	<li id="node_id_20872" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Products/About-our-Software" class="a-second-level has-more">About our Software</a>
																					<ul>
												<li class="dropmenu-ul-subarrow"></li>
												<li class="dropmenu-ul-top"></li>
																									<li id="node_id_20875" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/About-our-Software/Documentation" class="a-third-level">
															Documentation
														</a>
													</li>
																									<li id="node_id_20876" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/About-our-Software/Requirements" class="a-third-level">
															Requirements
														</a>
													</li>
																									<li id="node_id_20877" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/About-our-Software/Roadmap-and-lifecycle" class="a-third-level">
															Roadmap and lifecycle
														</a>
													</li>
																									<li id="node_id_20878" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/About-our-Software/Licenses" class="a-third-level">
															Licenses
														</a>
													</li>
																									<li id="node_id_20874" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Products/About-our-Software/SLA" class="a-third-level">
															sla
														</a>
													</li>
																								<li class="dropmenu-ul-bottom"></li>
											</ul>
																			</li>
																<li class="dropmenu-ul-bottom"></li>
							</ul>
						                   	</li>
                   	                                            																									

                                	                																					                                    <li id="node_id_2264" class="li-first-level ">
                    	<a href="https://ez.no/headerandfooteraccess/Services/Overview" class="menu-item-link">
                    		<span>Services</span>
                    	</a>
													<ul>
								<li class="dropmenu-ul-top"></li>
																	<li id="node_id_1816" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Services/Overview" class="a-second-level">Overview</a>
																			</li>
																	<li id="node_id_2570" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Services/Support-Maintenance" class="a-second-level">Support &amp; Maintenance</a>
																			</li>
																	<li id="node_id_1819" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Services/Consulting" class="a-second-level">Consulting</a>
																			</li>
																	<li id="node_id_15863" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Services/Trainings" class="a-second-level has-more">Trainings</a>
																					<ul>
												<li class="dropmenu-ul-subarrow"></li>
												<li class="dropmenu-ul-top"></li>
																									<li id="node_id_15864" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Services/Trainings/Training-Calendar" class="a-third-level">
															Training Calendar
														</a>
													</li>
																									<li id="node_id_15870" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Services/Trainings/Courses" class="a-third-level">
															Courses
														</a>
													</li>
																									<li id="node_id_15875" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Services/Trainings/Certification" class="a-third-level">
															Certification
														</a>
													</li>
																									<li id="node_id_16248" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Services/Trainings/Developer-Knowledge-Path" class="a-third-level">
															Developer Knowledge Path
														</a>
													</li>
																									<li id="node_id_16252" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Services/Trainings/Onsite-Trainings" class="a-third-level">
															Onsite Trainings
														</a>
													</li>
																								<li class="dropmenu-ul-bottom"></li>
											</ul>
																			</li>
																<li class="dropmenu-ul-bottom"></li>
							</ul>
						                   	</li>
                   	                                            																									

                                	                																					                                    <li id="node_id_1824" class="li-first-level ">
                    	<a href="https://ez.no/headerandfooteraccess/Customers/Success-Stories" class="menu-item-link">
                    		<span>Customers</span>
                    	</a>
													<ul>
								<li class="dropmenu-ul-top"></li>
																	<li id="node_id_1863" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies" class="a-second-level has-more">Case Studies</a>
																					<ul>
												<li class="dropmenu-ul-subarrow"></li>
												<li class="dropmenu-ul-top"></li>
																									<li id="node_id_20669" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Sound-Harley-Davidson-Hitting-the-Road-with-the-eZ-Publish-Platform" class="a-third-level">
															Sound Harley-Davidson - Hitting the Road with the eZ Publish Platform
														</a>
													</li>
																									<li id="node_id_18787" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/49th-Shelf-Canada-s-Online-Resource-Center-for-Books" class="a-third-level">
															49th Shelf - Canada's Online Resource Center for Books
														</a>
													</li>
																									<li id="node_id_17303" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/CASDEN-Groupe-Banque-Populaire" class="a-third-level">
															CASDEN, Groupe Banque Populaire
														</a>
													</li>
																									<li id="node_id_16193" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Orange-UA-Jeux-and-Transmedia" class="a-third-level">
															Orange - UA Jeux and Transmédia
														</a>
													</li>
																									<li id="node_id_15317" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/CSMonitor-Digital-First-Strategy-with-eZ-Publish" class="a-third-level">
															CSMonitor - Digital-First Strategy with eZ Publish
														</a>
													</li>
																									<li id="node_id_15216" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Bauknecht-KitchenAid-and-Whirlpool-Web-Sites" class="a-third-level">
															Bauknecht, KitchenAid and Whirlpool Web Sites
														</a>
													</li>
																									<li id="node_id_13911" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/CEVA" class="a-third-level">
															CEVA
														</a>
													</li>
																									<li id="node_id_12027" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Grazia.fr" class="a-third-level">
															Grazia.fr
														</a>
													</li>
																									<li id="node_id_8661" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Sparda-Bank-West" class="a-third-level">
															Sparda-Bank West
														</a>
													</li>
																									<li id="node_id_8141" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Christian-Science-Monitor-recreates-itself-for-digital-era" class="a-third-level">
															Christian Science Monitor recreates itself for digital era  
														</a>
													</li>
																									<li id="node_id_8108" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Rechtsportal-powered-by-Deubner-a-WEKA-Group-company" class="a-third-level">
															Rechtsportal, powered by Deubner, a WEKA Group company
														</a>
													</li>
																									<li id="node_id_7948" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/tagesschau.sf.tv" class="a-third-level">
															tagesschau.sf.tv
														</a>
													</li>
																									<li id="node_id_7641" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Nouvelle-Republique-Centre-Ouest" class="a-third-level">
															Nouvelle République Centre-Ouest
														</a>
													</li>
																									<li id="node_id_7638" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/EMI-France" class="a-third-level">
															EMI France
														</a>
													</li>
																									<li id="node_id_6930" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Discover21-online-bookstore-in-Japan-uses-eZ-Publish" class="a-third-level">
															Discover21 online bookstore in Japan uses eZ Publish
														</a>
													</li>
																									<li id="node_id_6824" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/William-Reed-Business-Media" class="a-third-level">
															William Reed Business Media
														</a>
													</li>
																									<li id="node_id_6546" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/Phantasialand-relaunch-rich-media-multilingual-highly-available-and-search-engine-optimized" class="a-third-level">
															Phantasialand relaunch – rich media, multilingual, highly available and search engine optimized
														</a>
													</li>
																									<li id="node_id_6543" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/Case-Studies/New-online-customer-area-for-Tyczka-Totalgaz" class="a-third-level">
															New online customer area for Tyczka Totalgaz
														</a>
													</li>
																								<li class="dropmenu-ul-bottom"></li>
											</ul>
																			</li>
																	<li id="node_id_2271" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Customers/Success-Stories" class="a-second-level">Success Stories</a>
																			</li>
																	<li id="node_id_1825" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Customers/By-Industry" class="a-second-level has-more">By Industry</a>
																					<ul>
												<li class="dropmenu-ul-subarrow"></li>
												<li class="dropmenu-ul-top"></li>
																									<li id="node_id_19860" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/By-Industry/All-Industries" class="a-third-level">
															All Industries
														</a>
													</li>
																									<li id="node_id_10207" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/By-Industry/Retail-and-Consumer" class="a-third-level">
															Retail and Consumer
														</a>
													</li>
																									<li id="node_id_2501" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/By-Industry/Telecommunications" class="a-third-level">
															Telecommunications
														</a>
													</li>
																									<li id="node_id_2500" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/By-Industry/Governmental-Non-Profit-Education" class="a-third-level">
															Governmental, Non-Profit &amp; Education
														</a>
													</li>
																									<li id="node_id_2499" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/By-Industry/Finance" class="a-third-level">
															Finance
														</a>
													</li>
																									<li id="node_id_2498" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/By-Industry/Service-Industry" class="a-third-level">
															Service Industry
														</a>
													</li>
																									<li id="node_id_2497" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/Customers/By-Industry/Media-Entertainment" class="a-third-level">
															Media &amp; Entertainment
														</a>
													</li>
																								<li class="dropmenu-ul-bottom"></li>
											</ul>
																			</li>
																<li class="dropmenu-ul-bottom"></li>
							</ul>
						                   	</li>
                   	                                            																									

                                	                																					                                    <li id="node_id_1832" class="li-first-level ">
                    	<a href="https://ez.no/headerandfooteraccess/Partners/Success-with-eZ" class="menu-item-link">
                    		<span>Partners</span>
                    	</a>
													<ul>
								<li class="dropmenu-ul-top"></li>
																	<li id="node_id_2272" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Partners/Success-with-eZ" class="a-second-level">Success with eZ </a>
																			</li>
																	<li id="node_id_1833" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Partners/Become-a-Partner" class="a-second-level">Become a Partner</a>
																			</li>
																	<li id="node_id_2035" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/Partners/Find-a-Partner" class="a-second-level">Find a Partner</a>
																			</li>
																<li class="dropmenu-ul-bottom"></li>
							</ul>
						                   	</li>
                   	                                            																																		

                                	                																					                                    <li id="node_id_1836" class="li-first-level lastli">
                    	<a href="https://ez.no/headerandfooteraccess/About-eZ/Company-Overview" class="menu-item-link">
                    		<span>About eZ</span>
                    	</a>
													<ul>
								<li class="dropmenu-ul-top"></li>
																	<li id="node_id_2273" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/About-eZ/Company-Overview" class="a-second-level">Company Overview </a>
																			</li>
																	<li id="node_id_20956" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers" class="a-second-level has-more">Careers</a>
																					<ul>
												<li class="dropmenu-ul-subarrow"></li>
												<li class="dropmenu-ul-top"></li>
																									<li id="node_id_21234" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/Financial-Accountant-Norway" class="a-third-level">
															Financial Accountant - Norway
														</a>
													</li>
																									<li id="node_id_21134" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/Professional-Services-Consultant-Norway" class="a-third-level">
															Professional Services Consultant - Norway
														</a>
													</li>
																									<li id="node_id_21133" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/Professional-Services-Consultant-France" class="a-third-level">
															Professional Services Consultant - France
														</a>
													</li>
																									<li id="node_id_20998" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/Junior-Marketing-Manager-Cologne" class="a-third-level">
															Junior Marketing Manager - Cologne
														</a>
													</li>
																									<li id="node_id_20957" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/Graphic-Designer" class="a-third-level">
															Graphic Designer
														</a>
													</li>
																									<li id="node_id_20958" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/User-Interface-Designer" class="a-third-level">
															User Interface Designer 
														</a>
													</li>
																									<li id="node_id_20960" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/Product-Manager-Dev-Ex" class="a-third-level">
															Product Manager Dev Ex
														</a>
													</li>
																									<li id="node_id_20959" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/Product-Manager-Web-UX" class="a-third-level">
															Product Manager Web  UX
														</a>
													</li>
																									<li id="node_id_20961" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/Junior-UI-Developer-Poland" class="a-third-level">
															Junior UI Developer - Poland
														</a>
													</li>
																									<li id="node_id_20962" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Careers/Senior-UI-Developer-Poland" class="a-third-level">
															Senior UI Developer - Poland
														</a>
													</li>
																								<li class="dropmenu-ul-bottom"></li>
											</ul>
																			</li>
																	<li id="node_id_1839" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/About-eZ/Events-News" class="a-second-level has-more">Events &amp; News</a>
																					<ul>
												<li class="dropmenu-ul-subarrow"></li>
												<li class="dropmenu-ul-top"></li>
																									<li id="node_id_1841" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Events-News/News" class="a-third-level">
															News
														</a>
													</li>
																									<li id="node_id_1844" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Events-News/Events" class="a-third-level">
															Events
														</a>
													</li>
																									<li id="node_id_1845" class="li-third-level">
														<a href="https://ez.no/headerandfooteraccess/About-eZ/Events-News/Upcoming-Webinars" class="a-third-level">
															Upcoming Webinars
														</a>
													</li>
																								<li class="dropmenu-ul-bottom"></li>
											</ul>
																			</li>
																	<li id="node_id_1838" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/About-eZ/eZ-Management" class="a-second-level">eZ Management</a>
																			</li>
																	<li id="node_id_1840" class="li-second-level">
																																									<a href="https://ez.no/headerandfooteraccess/About-eZ/Contact-Us" class="a-second-level">Contact Us</a>
																			</li>
																<li class="dropmenu-ul-bottom"></li>
							</ul>
						                   	</li>
                   	                                                            </ul>
    </div>
        <!-- Top menu content: END -->
</div>        </div>
</div>    </div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="http://ez.no/">ez.no</a> /
                        <a href="../../../../../../doc_hidden.html">documentation</a>
        
                        /
                            <a href="../../../../../eZ-Publish.html">ez publish</a>
        
                        /
                            <a href="../../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../../4-3.html">4.5</a>
        
                        /
                            <a href="../../Features.html">features</a>
        
                        /
                            <a href="../Clustering.html">clustering</a>
        
                        /
                            setting it up for an ezdfsf...
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
<div id="ezp5disclaimer">
<p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br/>
For 5.x documentation covering <em>Platform</em> see <a href="../../../../../../display/MAIN/eZ%2bDocumentation%2bCenter.html">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="../../../../../../pages/viewpage0139.html?pageId=11403666">5.x Architecture overview</a>.</p>
</div>

<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../4-3.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
    
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Setting it up for an eZDFSFileHandler</h1>
</div>

<p>The following instructions reveal how you can configure eZ Publish to store images, binary files and content-related caches in the database when using a eZ DFS File Handler. Before going any further, please read the <a href="#note" target="_self">note: known issue</a> added at the end of this page regarding a known issue when using eZ Publish in a clustered environment.</p><a name="eztoc122870_1" id="eztoc122870_1"></a><h2>1. Clear the caches (optional)</h2><p>It is recommended (but not required) to clear all eZ Publish caches before enabling the clustering functionality. This can be done by running the following command from the root of your eZ Publish installation (if you are using multiple servers, run this command <b>from each server node</b> in order to clear the local caches for each one):</p><pre class="wordwrap"><span class="line">$php bin/php/ezcache.php --clear-all --purge</span>
</pre><p>&quot;$php&quot; should be replaced by the path to your php executable.</p><p>After running the script, make sure that all cache files have been cleared by inspecting the contents of the various cache sub-directories within the &quot;var&quot; directory (typically the &quot;var/cache/&quot; and &quot;var/&lt;name_of_siteaccess&gt;/cache/&quot; directories). If there are any cache files left, remove them manually.</p><a name="eztoc122870_2" id="eztoc122870_2"></a><h2>2. Modify the &quot;file.ini&quot; settings</h2><p>Add the following lines to an override for the &quot;file.ini&quot; configuration file (&quot;settings/override/file.ini.append.php&quot; or &quot;settings/siteaccess/ezwebin_site/file.ini.append.php&quot; where &quot;ezwebin_site&quot; is the name of your siteaccess):</p><pre class="wordwrap"><span class="line">[ClusteringSettings]</span>
<span class="line">FileHandler=eZDFSFileHandler</span>
</pre><p>First define the proper file handler, which here is &quot;FileHandler=eZDFSFileHandler&quot;.</p><p>When using eZDFSFileHandler configure the settings in the [eZDFSClusteringSettings] block in the same override file. It is necessary to define (&quot;var/nfsmount&quot; is just an example) the path to the NFS mount point (a local folder) and set the database back-end setting to &quot;eZDFSFileHandlerMySQLiBackend&quot; (MySQL is the only database supported for eZDFS, and the use of MySQLi is recommended) as shown here:</p><pre class="wordwrap copytoclipboard"><span class="line">[eZDFSClusteringSettings]</span>
<span class="line">MountPointPath=var/nfsmount</span>
<span class="line">DBBackend=eZDFSFileHandlerMySQLiBackend</span>
<span class="line">DBHost=dbhost</span>
<span class="line">DBPort=3306</span>
<span class="line">DBSocket=</span>
<span class="line">DBName=cluster</span>
<span class="line">DBUser=root</span>
<span class="line">DBPassword=</span>
<span class="line">DBConnectRetries=3</span>
<span class="line">DBExecuteRetries=20</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[eZDFSClusteringSettings]\r\nMountPointPath=var/nfsmount\r\nDBBackend=eZDFSFileHandlerMySQLiBackend\r\nDBHost=dbhost\r\nDBPort=3306\r\nDBSocket=\r\nDBName=cluster\r\nDBUser=root\r\nDBPassword=\r\nDBConnectRetries=3\r\nDBExecuteRetries=20' ); return false;" /></p>
<![endif]--><p>Replace &quot;dbhost&quot;, &quot;name&quot; (for example &quot;DBName=Cluster&quot;), &quot;user&quot; and &quot;pass&quot; by actual host name, database name, user name and password. In most cases these values will be the same as &quot;Server&quot;, &quot;Database&quot;, &quot;User&quot;, &quot;Password&quot; settings specified under the <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/configuration_files/site_ini/databasesettings" target="_self">[DatabaseSettings]</a> block of your &quot;site.ini.append.php&quot; configuration file.</p><p><b>Note:</b>&nbsp;Folder indicated in&nbsp;<i>MountPointPath</i>&nbsp;shouldn't contain anything but files handled by eZ Publish cluster since files within this folder are maintained by&nbsp;<a href="../../../4.x/Features/Clustering/Maintenance.html" target="_self">cluster maintenance scripts</a>, and can be potentially removed.&nbsp;If you need to store files here (i.e. custom cache files), be sure to use&nbsp;<i>eZClusterFileHandler</i>&nbsp;in your own PHP code.</p><a name="eztoc122870_3" id="eztoc122870_3"></a><h2>3. Create a new script for serving images</h2><p>When clustering your installation all images (except design images) will be served by PHP. Your web-server (e.g Apache) will be instructed to use a specific PHP script called &quot;index_cluster.php&quot; for handling images, which will make the serving of images faster because the system does not have to read the configuration from the database. &quot;index_cluster.php&quot; doesn't exist by default so it must be created manually and must include &quot;index_image.php&quot; along with a collection of configuration settings.</p><p>Create the &quot;index_cluster.php&quot; inside the eZ Publish root directory and make sure that it contains the following lines. (The default contents of this file can also be found in the comments and example at the top of your installations &quot;index_image.php&quot; file):</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php</span>
<span class="line">define( 'STORAGE_BACKEND', &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'dfsmysqli' &nbsp;&nbsp;&nbsp;);</span>
<span class="line">define( 'STORAGE_HOST', &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'localhost' &nbsp;&nbsp;);</span>
<span class="line">define( 'STORAGE_PORT', &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3306 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</span>
<span class="line">define( 'STORAGE_SOCKET', &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</span>
<span class="line">define( 'STORAGE_USER', &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'user' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</span>
<span class="line">define( 'STORAGE_PASS', &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'pass' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</span>
<span class="line">define( 'STORAGE_DB', &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'name' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</span>
<span class="line">define( 'MOUNT_POINT_PATH', &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'var/nfsmount');</span>
<span class="line">include_once( &nbsp;'index_image.php' );</span>
<span class="line">?&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '&lt;?php\r\ndefine( \'STORAGE_BACKEND\',          \'dfsmysqli\'    );\r\ndefine( \'STORAGE_HOST\',             \'localhost\'   );\r\ndefine( \'STORAGE_PORT\',             3306          );\r\ndefine( \'STORAGE_SOCKET\',           false         );\r\ndefine( \'STORAGE_USER\',             \'user\'        );\r\ndefine( \'STORAGE_PASS\',             \'pass\'        );\r\ndefine( \'STORAGE_DB\',               \'name\'        );\r\ndefine( \'MOUNT_POINT_PATH\',         \'var/nfsmount\');\r\ninclude_once(  \'index_image.php\' );\r\n?&gt;' ); return false;" /></p>
<![endif]--><p><b>Note:</b> Make sure you specify the same database settings as indicated under the &quot;[ClusteringSettings]&quot; block in your &quot;file.ini.append.php&quot; configuration file.</p><p>The location 'var/nfsmount' is just an example, you can set another location if you wish for example /mnt/nfs.</p><p>With this script the inclusion sequence will work as follows. First the rewrite rules (to be added in step 7) will redirect the images requested to the newly created &quot;index_cluster.php&quot;. The custom image file &quot;http://site.com/var/storage/images/foo.jpg&quot; will be transformed to &quot;http://site.com/index_cluster.php/var/storage/images/foo.jpg&quot;. Because &quot;index_cluster.php&quot; contains the set of settings described below, the &quot;index_image.php&quot; file (which is part of eZ Publish distribution) will be included when &quot;index_cluster.php&quot; is executed. This index_image.php includes a file named &quot;index_image_&lt;STORAGE_BACKEND&gt;.php&quot;. This means that if, for example, STORAGE_BACKEND is set to 'mysqli' in &quot;index_cluster.php&quot;, the included file will be &quot;index_image_mysqli.php&quot;. This &quot;index_image_&lt;STORAGE_BACKEND&gt;.php&quot; is the final script that will read and stream the files to the browser.</p><a name="eztoc122870_4" id="eztoc122870_4"></a><h2>4. Create new database tables</h2><p>The database table structure required to hold clustered file information needs to be created. This must be done manually, either on the same MySQL server or on the one used for the relational database or on a different one. Keep in mind that for large scale websites, a dedicated MySQL server can improve performance. The definitions of this table can be found inside the comment blocks in the beginning of the &quot;mysqli.php&quot; file located in the following sub-directory:</p><pre class="wordwrap"><span class="line">(...)/kernel/private/classes/clusterfilehandlers/dfsbackends/mysqli.php</span>
</pre><a name="eztoc122870_5" id="eztoc122870_5"></a><h2>5. Import files to the cluster</h2><p>You need to copy the files stored in the &quot;var&quot; directory to the cluster. To do this, go to the root directory of eZ Publish and run the following script (replace &quot;ezwebin_site&quot; by the actual name of your siteaccess):</p><pre class="wordwrap"><span class="line">$php bin/php/clusterize.php -s ezwebin_site</span>
</pre><p>Note that &quot;$php&quot; should be replaced by the path to your php executable.</p><p>The meta data will be stored on the database, whereas the files themselves are copied to the configured NFS mount point using a structure exactly similar as that of the &quot;var&quot; directory.</p><p>Keep in mind that this process might take some time, depending on the amount of files that need to be imported.</p><p><b>Note:</b> Moving files to NFS must always be done with clusterize.php, as doing it manually will produce an incomplete/invalid content repository, and will make it impossible to clusterize files.</p><a name="eztoc122870_6" id="eztoc122870_6"></a><h2>6. Compile the templates (optional)</h2><p>Since all caches now are empty, you should re-compile the templates. Note that this step can be skipped and thus the templates will be compiled on-demand when the site is browsed. Go to the root directory of eZ Publish and run this command (if you are using multiple servers, run this command&nbsp;<b>from each server node</b>&nbsp;in order to compile the templates for each one):</p><pre class="wordwrap"><span class="line">$php bin/php/eztc.php -s ezwebin_site</span>
</pre><p>Note that &quot;$php&quot; should be replaced by the path to your php executable.</p><p>Replace &quot;ezwebin_site&quot; by the actual name of your siteaccess. Repeat this step for all siteaccesses that are in use.</p><a name="eztoc122870_7" id="eztoc122870_7"></a><h2>7. Update the Apache configuration</h2><p>Apache needs to know which PHP script to use when serving images, in this case index_cluster.php. The script simply fetches the images from the database and serves them. By adding the RewriteRules mentioned below every request for a content image or binary file will be rewritten to index_cluster.php, which will then deliver the files directly through HTTP from the NFS server. These rules are the same for eZDFS and eZDB. So add the following rewrite rules to the &quot;.htaccess&quot; file before the other/existing rules:</p><pre class="wordwrap copytoclipboard"><span class="line">RewriteRule ^/var/([^/]+/)?storage/images-versioned/.* /index_cluster.php [L]</span>
<span class="line">RewriteRule ^/var/([^/]+/)?storage/images/.* /index_cluster.php [L]</span>
<span class="line">RewriteRule ^/var/([^/]+/)?cache/public/(stylesheets|javascript) /index_cluster.php [L]</span>
<span class="line">RewriteRule ^/index_cluster.php - [L]</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'RewriteRule ^/var/([^/]+/)?storage/images-versioned/.* /index_cluster.php [L]\r\nRewriteRule ^/var/([^/]+/)?storage/images/.* /index_cluster.php [L]\r\nRewriteRule ^/var/([^/]+/)?cache/public/(stylesheets|javascript) /index_cluster.php [L]\r\nRewriteRule ^/index_cluster.php - [L]' ); return false;" /></p>
<![endif]--><p>If no &quot;.htaccess&quot; file is used, add the same rules above the existing rewrite rules for eZ Publish in your Apache configuration file because these rules need to be found before the standard eZ Publish rewrite</p><a name="eztoc122870_8" id="eztoc122870_8"></a><h2>8. Restart Apache and test the site</h2><p>Restart the Apache web server. After it has been restarted, the system should be up and running in cluster mode. Verify that the site works correctly, content images are displayed and content binary files are accessible (open the site pages in a web browser, log in to the administration interface, try clicking around and so on).</p><p>If for example a page of your website does not work correctly because its images are not displayed, your rewrite rules or your &quot;index_cluster.php&quot; file might be configured incorrectly. To locate the error, load the image directly in the browser (by, for example, choosing &quot;open image in a new tab&quot;). If instead of the image &quot;Module not found&quot; is displayed, then your rewrite rules are not correctly configured. If a PHP error is shown, your &quot;index_cluster.php&quot; is most likely configured wrong.</p><p>To test and troubleshoot your website, it can be useful to have more debug information regarding the cluster. This is an optional configuration but to enable it, create an override of the debug.ini file and enable &quot;kernel-clustering&quot; in the [GeneralCondition] block like this:</p><pre class="wordwrap copytoclipboard"><span class="line">[GeneralCondition]</span>
<span class="line">(...)</span>
<span class="line">kernel-clustering=enabled</span>
<span class="line">(...)</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[GeneralCondition]\r\n(...)\r\nkernel-clustering=enabled\r\n(...)' ); return false;" /></p>
<![endif]--><a name="eztoc122870_9" id="eztoc122870_9"></a><h2>9. Remove the imported files from the file system</h2><p>If the site works correctly, you can remove the original content images and binary files from the file system (since they have been successfully imported to the database). To do this, you need to inspect the contents of the various storage sub-directories within the &quot;var&quot; directory (typically the &quot;var/storage/&quot; and &quot;var/&lt;name_of_siteaccess&gt;/storage/&quot; directories). If there are any content images and binary files left, remove them manually or by using the following command from the root of your eZ Publish installation:</p><pre class="wordwrap"><span class="line">$php bin/php/ezcache.php &nbsp;--clear-all</span>
</pre><p>Note that &quot;$php&quot; should be replaced by the path to your php executable.</p><p>If you configure multiple servers, execute the command <b>from each server node</b> in order to clear the local caches for each one.</p><a name="eztoc122870_9_0_0_1" id="eztoc122870_9_0_0_1"></a><h5>Note</h5><p>The &quot;clusterize.php&quot; file mentioned in step &quot;5. Import files to database&quot; can also be used with a &quot;-r&quot; option. This will automatically remove the imported files after they have been clusterized. Using it will make this step &quot;9. Remove the imported files from the file system&quot; obsolete. But keep in mind that using the &quot;-r&quot; option is some what advanced so use with caution.</p><a name="eztoc122870_9_1" id="eztoc122870_9_1"></a><h3><b><a name="note"></a>
Note: known issue</b></h3><p>When using a database based file handler (eZ DB or eZ DFS) the following bug will occur if all of the conditions listed here are true:</p>
<ul>
<li><div>&nbsp;You use MySQL </div></li><li><div>&nbsp;You use different databases for the content and cluster tables </div></li><li><div>&nbsp;You use the same host, port, user name and password for both databases </div></li><li><div>&nbsp;The port is explicitly specified in both site.ini and file.ini. </div></li>
</ul>
<p>The bug is that eZ Publish will look for content tables in the cluster database, which means that all page requests will fail. Although a solution has been proposed, it has not yet been approved at the time of this writing. So for the moment the quickest workaround is to use different user names for the two databases.</p><p>For more information regarding this issue, please visit <a href="http://issues.ez.no/13927" target="_self">http://issues.ez.no/13927</a></p><a name="eztoc122870_10" id="eztoc122870_10"></a><h2>Limitation on some file systems when storing large number of content files</h2><p>eZ Publish stores all disc related content (eg Images, PDF's etc) in var/storage like the structure from content tree, creating one folder for each object. In most file systems used under Linux (especially ext2 + ext3) there exists a hard LIMIT TO 32000 directories per folder. So it is not possible to store more as 31999 objects under one folder.</p><p>
To get around this limitation without changing the file system, you can split your content tree so that you don't have more than 32k content files (example: images) in the same folder.<br />
Examples of file systems that supports more file/folder entries per folder. <br />
- ReiserFS: roughly 1.2 million per directory<br />- ZFS: 2^48 (a really big number: 281474976710656)!</p><a name="eztoc122870_11" id="eztoc122870_11"></a><h2>Performance issues on cache generation</h2><p>
The&nbsp;<i>MaxCopyRetries</i>&nbsp;setting has been introduced in order to solve cache generation issues on low performance conditions.<br />
This relates to a new feature that that retries to generate the cache file in the case of failure. There will be considered as much retries as defined in the&nbsp;<i>MaxCopyRetries</i>&nbsp;setting.<br />By default it comes set to 5. Increase this value if you find cache files like&nbsp;<i>expiryXYZtmp.php</i>&nbsp;with 0 byte size.</p><p>For more details please refer to the&nbsp;<i><a href="../../../4.x/Reference/Configuration-files/file.ini/eZDFSClusteringSettings/MaxCopyRetries.html" title="MaxCopyRetries" target="_self">MaxCopyRetries</a></i>&nbsp;setting documentation.</p><a name="eztoc122870_12" id="eztoc122870_12"></a><h2 class=" text-start"><b>Character encoding and filenames</b></h2><p class=" text-start">
Also please make sure to configure the&nbsp;<a href="../../../4.x/Reference/Configuration-files/site.ini/RegionalSettings/SystemLocale.html" target="_self">SystemLocale</a>&nbsp;setting with the correct language, in order to avoid issues when uploading files with special characters, or with characters of a different encode.<br />Here's a configuration example:</p><pre class="wordwrap"><span class="line">[RegionalSettings]</span>
<span class="line">SystemLocale=fr_FR.UTF-8</span>
</pre><p class=" text-start">Please refer to Jira Issue&nbsp;<a href="https://jira.ez.no/browse/EZP-20966" target="_self">EZP-20966</a>, for more details on this subject.</p>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Ester Heylen&nbsp;(14/09/2010 2:35 pm)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Ricardo Correia&nbsp;(25/11/2013 12:44 pm)</p>
</div><div class="authors">
<p><label>Maintainers:</label>Geir Arne Waaler, Jérôme Vieilledent, Ricardo Correia</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="25198" />
<input type="hidden" name="RedirectURIAfterPublish" value="eZ-Publish/Technical-manual/4.5/Features/Clustering/Setting-it-up-for-an-eZDFSFileHandler" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        <div id="footer-bg">
        <div id="footer" class="container_12">

            <div class="grid_3">
                <img src="https://ez.no/extension/ez_ezno/design/ezno_2011/images/ez-logo-white.png" alt="ez-publish" />
                <div id="footer-copyright" class="grid_3 alpha omega">
                    
<p>eZ Systems has been providing Web Content Management Solutions since 1999. With a global presence in Europe, Asia and the Americas, we are the power platform driving more than 250,000 sites in over 170 countries.</p>                </div>
            </div>

            <div class="grid_6 middle">
                <div class="grid_6 alpha omega">
                    <div class="grid_3 alpha"><div>
<a name="eztoc411316_0_0_0_1" id="eztoc411316_0_0_0_1"></a><h5>PRODUCTS</h5>
<ul>

<li><a href="https://ez.no/headerandfooteraccess" target="_self">eZ Publish 5&nbsp;Platform</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Products/Compare-Versions" target="_self">Compare Versions</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Products/Demos-Videos" target="_self">Demos &amp; Videos</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Products/eZ-Market" target="_self">eZ Market</a></li>

</ul>
<a name="eztoc411316_0_0_0_2" id="eztoc411316_0_0_0_2"></a><h5>eZ DELIVERS RESULTS</h5>
<ul>

<li><a href="https://ez.no/headerandfooteraccess/Solutions/eZ-Delivers-Results/Monetize-Your-Content" target="_self">Monetize Your Content</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Solutions/eZ-Delivers-Results/Digitize-Your-Business" target="_self">Digitalize Your Business</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Solutions/eZ-Delivers-Results/Deliver-a-Better-Brand-Experience" target="_self">Deliver a Better Brand Experience</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Solutions/eZ-Delivers-Results/Engage-With-Customers" target="_self">Engage With Customer</a></li>

</ul>
</div></div>
                    <div class="grid_3 omega"><div>
<a name="eztoc411317_0_0_0_1" id="eztoc411317_0_0_0_1"></a><h5>eZ FOR YOU</h5>
<ul>

<li><a href="https://ez.no/headerandfooteraccess/Solutions/eZ-For-You/For-Executives" target="_self">For Executives</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Solutions/eZ-For-You/For-Online-Digital-Strategists" target="_self">For Online Digital Strategists</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Solutions/eZ-For-You/For-Marketing-Professionals" target="_self">For Marketing Professionals</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Solutions/eZ-For-You/For-Business-Systems-Managers" target="_self">For Business Systems Managers</a></li>

<li><a href="https://ez.no/headerandfooteraccess" title="eZ Publish Documentation" target="_self">For Developers</a></li>

</ul>
<a name="eztoc411317_0_0_0_2" id="eztoc411317_0_0_0_2"></a><h5>GET STARTED NOW</h5>
<ul>

<li><a href="https://ez.no/headerandfooteraccess/Products/Demos-Videos" target="_self">See a Demo</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Forms/HTML-forms/Contact-eZ" target="_self">Ask a Question</a></li>

<li><a href="https://ez.no/headerandfooteraccess/Forms/HTML-forms/Contact-Support" target="_self">Contact Support</a></li>

</ul>
</div></div>
                </div>
            </div>

            <div class="grid_3 right">
                <div class="contact-ez">
                        <a id="cta-contact" href="https://ez.no/headerandfooteraccess/Forms/HTML-forms/Contact-eZ/(origin)/footer" title="Contact eZ!" class="btn-green btn--small">Contact eZ!</a>
                </div>

                <div class="adress">
<a name="eztoc411321_0_0_0_1" id="eztoc411321_0_0_0_1"></a><h5>LOCATIONS:</h5><p><a href="https://ez.no/headerandfooteraccess/About-eZ/Contact-Us" target="_self">Cologne, London </a></p><p><a href="https://ez.no/headerandfooteraccess/About-eZ/Contact-Us" id="__mce_tmp" target="_self">Lyon, New York</a></p><p><a href="https://ez.no/headerandfooteraccess/About-eZ/Contact-Us" id="__mce_tmp" target="_self">Oslo, Paris</a></p><p><a href="https://ez.no/headerandfooteraccess/About-eZ/Contact-Us" id="__mce_tmp" target="_self">Skien, Tokyo</a></p></div>
            </div>

        </div>
    </div>
<div id="footer-connect-bg">
    <div id="footer" class="container_12">
        <div id="footer-connect-copyright" class="grid_8 alpha omega">
            Copyright © 2013 eZ Systems AS (except where otherwise noted). All rights reserved.
            

<div class="">    <a href="https://ez.no/headerandfooteraccess/Privacy-policy">Privacy policy</a></div><br/><br/>
            Powered by <a href="http://ez.no/ezpublish" title="eZ Publish Platform">the eZ Publish Platform</a>.<br />
        </div>

        <div id="footer-connect-social" class="grid_4 right">
            <a href="http://www.youtube.com/user/ezpublish/" class="youtube" target="_blank">youtube</a>
            <a href="https://google.com/+ezsystems" class="googleplus" target="_blank">google plus</a>
            <a href="http://www.linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="linkedin" target="_blank">linkedin</a>
            <a href="https://www.facebook.com/eZPublishEnterprise" class="facebook" target="_blank">facebook</a>
            <a href="http://twitter.com/#!/ezsystems" class="twitter" target="_blank">twitter</a>
        </div>


    </div>
</div>


</div>
<!-- Complete page area: END -->



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'auto');
  ga('send', 'pageview');

</script>




<script type="text/javascript">
(function()
{var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src='https://secure.liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();
</script>


</body>

<!-- Mirrored from doc.ez.no/doc_hidden/eZ-Publish/Technical-manual/4.5/Features/Clustering/Setting-it-up-for-an-eZDFSFileHandler by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 12:58:11 GMT -->
</html>

<!-- th[eZ] 20050804 -->
