<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">


<!-- Mirrored from doc.ez.no/doc_hidden/eZ-Publish/Technical-manual/5.x/Features/User-defined-Object-States by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Feb 2017 02:24:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

<link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/core.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/header-footer.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/header-footer-lookfeel.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/pagelayout.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/buttons.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/960.css" /><link rel="stylesheet" type="text/css" href="https://ez.no/extension/ez_ezno/design/ezno_2011/stylesheets/superfish.css" /><script type="text/javascript" src="https://ez.no/extension/ez_ezno/design/ezno_2011/javascript/jquery-1.6.3.min.js" charset="utf-8"></script><script type="text/javascript" src="https://ez.no/extension/ez_ezno/design/ezno_2011/javascript/superfish.js" charset="utf-8"></script><script type="text/javascript" src="https://ez.no/extension/ez_ezno/design/ezno_2011/javascript/jquery.popmenu.min.js" charset="utf-8"></script>
<style type="text/css">
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                              
    <title>User defined Object States / Features / 5.x / Technical manual / eZ Publish / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="eZ Publish Documentation" />
                    <meta name="keywords" content="eZ Publish, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="eZ Publish" />
    <link rel="Home" href="../../../../../doc_hidden.html" title="Doc front page" />
<link rel="Search" href="../../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


	<div id="header-bg">
			<div id="header" class="container_12">
				<div class="grid_12">
					<div class="searchboxes" id="searchbox">
	  <form action="https://ez.no/headerandfooteraccess/content/search">
	    <label for="searchtext" class="hide">Search text:</label>
	    	    <div class="ezautocomplete">
	        <button value="Search" title="Search" type="submit"><span class="w"><span class="l"></span><span class="c">Search</span><span class="r"></span></span></button>
	        <div class="searchtext-wrap"><input class="searchtext" id="searchtext" name="SearchText" type="text" value="Search" size="12" onblur="if(this.value=='') this.value='Search';" onfocus="if(this.value=='Search') this.value='';" /></div>
	        <div class="ezautocompletecontainer"></div>
	    </div>
	    
	    	  </form>
	</div>

                <div id="header-social-connect">
    <a href="http://www.youtube.com/user/ezpublish/" class="youtube" target="_blank">youtube</a>
    <a href="https://google.com/+ezsystems" class="googleplus" target="_blank">google plus</a>
    <a href="http://www.linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="linkedin" target="_blank">linkedin</a>
    <a href="https://www.facebook.com/eZPublishEnterprise" class="facebook" target="_blank">facebook</a>
    <a href="http://twitter.com/#!/ezsystems" class="twitter" target="_blank">twitter</a>
</div>
				<div id="links">
		
							
		
		</div>                <div id="languages" class="popmenu">	<div class="eng"><a href="#">English&nbsp;<span></span></a></div></div>

				<p class="hide"><a href="#main">Skip to main content</a></p>
				</div>
			</div>

			
	</div>

    <div class="topmenu-anchor"></div>
    <div id="topmenu-bg">
	    <div id="logo" class="container_12">

    <div class="grid_3">
        <a href="https://ez.no/headerandfooteraccess" title="eZ Publish Platform, CXM &amp; CMS">
            <img src="https://ez.no/extension/ez_ezno/design/ezno_2011/images/ez-logo.png"
                 alt="" height="45px"/>
        </a>
    </div>

    <div class="grid_9">
                <div class="topmenu-design">
	<!-- Top menu content: START -->
	<div id="topmenu-firstlevel-position">
	<ul id="topmenu-firstlevel" class="sf-menu sf-js-enabled sf-shadow">
		
		
		        </ul>
    </div>
        <!-- Top menu content: END -->
</div>        </div>
</div>    </div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="http://ez.no/">ez.no</a> /
                        <a href="../../../../../doc_hidden.html">documentation</a>
        
                        /
                            <a href="../../../../eZ-Publish.html">ez publish</a>
        
                        /
                            <a href="../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../5.html">5.x</a>
        
                        /
                            <a href="../Features.html">features</a>
        
                        /
                            user defined object states
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>eZ Publish</strong> <em>legacy</em>, from version 3.x to 5.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="../../../../../display/MAIN/eZ%2bDocumentation%2bCenter.html">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="../../../../../pages/viewpage0139.html?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../5.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
    
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>User defined Object States</h1>
</div>

<p>The introduction of freely definable object states, possibly grouped in object state collections and coupled to the role/policy system of eZ Publish, enables a wide range of applications including typical workflow processes. By default eZ Publish has only one content object state group: &quot;Lock&quot; with object states &quot;Locked&quot; and &quot;Not locked&quot;. But by creating freely definable object states groups with their own set of object states, the possibilities of the application can be more specifically tailored to user needs.</p><a name="eztoc132734_1" id="eztoc132734_1"></a><h2>How does it work?</h2><p>Object states are typically used in workflows and other workflow-like processes. It's useful to note that although they are used in workflow processes, not all workflows use object states, nor do object states employ the eZ Publish workflow engine or the workflow system themselves. In this article the term &quot;workflow&quot; should generally be understood as the succession of steps rather than an eZ Publish concept.</p><p>A workflow defines an organized sequence of actions that will be executed while the workflow is running. A simple example of a workflow could be a newly written article (object) that is sent for approval to an editor. Since by default eZ Publish only has one content object state group, &quot;Lock&quot;, the status of this article or object can only change from unlocked to locked during this workflow process. And once an object has been locked and submitted into such a workflow process, the object remains locked until it is either rejected or accepted. So during the time between submitting an object and its approval no further editing or correcting can be done.</p><p>But the possibilities of such workflow processes can be broadened simply through the use of freely defined object states. This allows for more states to be added, thus proving more steps in the process. By attaching policies to each state you are able to control who can do what to an object while it is in a specific state.</p><p>Because the states of an object changes throughout the work process, the transition between the states of objects must also be governed through specifically assigned policies to define who is allowed to change the state. Simply put: policies must be assigned to both the states individually, as to each state change. Keep in mind that an object can have multiple object states, but can only have one object state per object state group. <a href="http://share.ez.no/articles/ez-publish/ez-publish-knowledge-series-editorial-workflow-with-object-states" target="_blank">Learn more about the use of object states in an editorial workflow... </a></p><a name="eztoc132734_2" id="eztoc132734_2"></a><h2>Limitations</h2><p>Some limitations of this system must be taken in consideration. First of all, freely defined object states are assigned on object level, therefor they operate on published versions only, not on translations or drafts. The second limitation is that the roles and policies, that are at the heart of this system, are not yet elaborate enough to cover all possibilities.</p><p>Not so much a limitation as it is an observation, that, as mentioned before, object states can be used in workflow processes, but not all workflows use object states.</p><a name="eztoc132734_3" id="eztoc132734_3"></a><h2>Why not sections?</h2><p>Sections are also often used to imitate workflow object states. Although the use of sections also makes it possible to limit and control access to content through roles and policies, it isn't capable of defining policies on state changes. Whereas user definable object states can grant policies to both the states themselves as to the transitions between states. This being said sections are still used for secure sites, where for example anonymous users are only allowed to see the default view.</p><a name="eztoc132734_4" id="eztoc132734_4"></a><h2>How to create Object States</h2>
<ol>
<li><div>
To create custom object states you must first create a Content Object States Group to place them in. This can be done in the Administration Interface, under the Setup-tab.<br />&nbsp;
<ol>
<li><div>Click on the &quot;States&quot;-link in the left menu. Here you'll be able to create a new Content Object States Group. </div></li>
</ol>
&nbsp;</div></li><li><div>In the newly created Content Object State Group you can then create object states matching the different phases of your work process by clicking &quot;Create new&quot;. The first state in the group will be applied by default to all newly created objects. </div></li><li><div>
Next you must give the correct rights to each user or user group so they can do their part of the task and only their part, before handing over the content to the next group or user:<br />&nbsp;
<ol>
<li><div>Roles and policies can be created or modified through the User Accounts-tab. In the left menu, under &quot;Access control&quot; you'll find the &quot;Roles and Policies&quot;- link. Note that you can also be redirected to this location via the &quot;Roles and Policies&quot; link in the Setup-tab. </div></li><li><div>For each user group associated to this work process, specific roles and policies must be defined to limit their access and contribution to their specific tasks. </div></li><li><div>Furthermore roles must be assigned to control the state transitions between each phase of the workflow. </div></li>
</ol>
&nbsp;</div></li><li><div>Now that only authorized users can modify the state of an object and push it through the workflow, a handover-channel should be created between the different contributors. This implies that user(group)s should be notified when an object is ready for them to fulfill their task. However, this feature is not yet included by default in eZ Publish 4.1, but soon will be. For now this must be done manually by sending the URL of the object to the next user(group) in line. </div></li>
</ol>
<a name="eztoc132734_5" id="eztoc132734_5"></a><h2>An example</h2><p>It can be useful to implement a private waste bin and for this object states can easily be defined. In a private waste bin an owner can place articles without deleting them permanently, but still preventing others to read or edit them. The simplicity of removing an article out of the personal waste bin and making it visible for others is an added advantage. In this implementation an object also retains its node location(s).</p><a name="eztoc132734_5_1" id="eztoc132734_5_1"></a><h3>How to create a personal waste bin step-by-step</h3><p>To create a private waste bin through the Administration Interface, navigate to the Setup-tab. In the left menu, click on the the &quot;States&quot;-link. Here you will see a list of already existing content object state groups (by default you'll only find &quot;Lock&quot;) and you will be able to create a new content object state group:</p>
<div class="">        <img src="../../../../../var/doc/storage/images/media/images/content-object-state-groups/133582-1-eng-GB/Content-Object-State-Groups_pdf.jpg" alt="Content Object State Groups" />
<p>Content Object State Groups</p>







</div><p>For this example a group &quot;Private Wastebin&quot; was created, which includes two object states: &quot;Viewable Article&quot; and &quot;In Private Wastebin&quot;. Obviously the first allows an object to be viewed by all users, whereas the latter only allows the owner to view and edit the object. Note that the first state will always by applied as default state.</p>
<div class="">        <img src="../../../../../var/doc/storage/images/media/images/content-object-state-groups2/133585-1-eng-GB/Content-Object-State-Groups_pdf.jpg" alt="Content Object State Groups" />
<p>Content Object State Groups</p>







</div><p>Providing the correct rights to the owner is the next step. This must be done via the &quot;Roles and Policies&quot; - link, that can be accessed both under the left menu &quot;Access control&quot; in the &quot;User Accounts&quot; - tab, as through the &quot;Roles and Policies&quot; - link in the &quot;Setup&quot; - tab. Beneath the list of roles you can create a new role. The role &quot;Owner&quot; is added and includes policies that only allow the owner of an object to edit and read the content of an article when it has the object state &quot;In Private Wastebin&quot;. Furthermore the owner is given the sole right to control the state transitions. Next all user(group)s are assigned to the role &quot;Owner&quot;.</p>
<div class="">        <img src="../../../../../var/doc/storage/images/media/images/policies-owner3/133594-1-eng-GB/Policies-Owner_pdf.jpg" alt="Policies Owner" />
<p>Policies Owner</p>







</div><p>Finally the policies in the Anonymous role must also be altered in order to prevent anonymous users from viewing articles in &quot;In Private Wastebin&quot;. In the policy regarding content the limitation of &quot;State_Group_Private_Wastebin&quot; is set to &quot;viewable article&quot;.</p><a name="eztoc132734_5_2" id="eztoc132734_5_2"></a><h3>Use of private waste bin</h3><p>After an article has been created and sent for publishing in the User Interface, the owner will be able to define the object state.</p>
<div class="">        <img src="../../../../../var/doc/storage/images/media/images/changing-object-state/133597-1-eng-GB/Changing-Object-State_pdf.jpg" alt="Changing Object State" />
<p>Changing Object State</p>







</div><p>This can also be done with an already published article:</p>
<div class="">        <img src="../../../../../var/doc/storage/images/media/images/edit-object-states/133591-1-eng-GB/Edit-Object-States_pdf.jpg" alt="Edit Object States" />
<p>Edit Object States</p>







</div><p>In the Administrator Interface, the state can be altered when you navigate to the &quot;Content Structure&quot;-tab. When viewing an article here, make sure the &quot;state assignment widget&quot; at the top of the page is enabled. If so, you'll be able to define the object state.</p><p>For another example of the use of object states, please read &quot;<a href="http://share.ez.no/articles/ez-publish/ez-publish-knowledge-series-editorial-workflow-with-object-states" target="_blank">eZ Publish Knowledge Series: Editorial workflow with Object States</a>&quot;.</p>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Ester Heylen&nbsp;(30/11/2009 10:12 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Andrea Melo&nbsp;(16/11/2012 2:08 pm)</p>
</div><div class="authors">
<p><label>Maintainers:</label>Geir Arne Waaler, Andrea Melo</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="27980" />
<input type="hidden" name="RedirectURIAfterPublish" value="eZ-Publish/Technical-manual/5.x/Features/User-defined-Object-States" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        <div id="footer-bg">
        <div id="footer" class="container_12">

            <div class="grid_3">
                <img src="https://ez.no/extension/ez_ezno/design/ezno_2011/images/ez-logo-white.png" alt="ez-publish" />
                <div id="footer-copyright" class="grid_3 alpha omega">
                                    </div>
            </div>

            <div class="grid_6 middle">
                <div class="grid_6 alpha omega">
                    <div class="grid_3 alpha"><div></div></div>
                    <div class="grid_3 omega"><div></div></div>
                </div>
            </div>

            <div class="grid_3 right">
                <div class="contact-ez">
                        <a id="cta-contact" href="https://ez.no/headerandfooteraccess/Home/Forms/Contact-eZ/(origin)/footer" title="Contact eZ!" class="btn-green btn--small">Contact eZ!</a>
                </div>

                <div class="adress"></div>
            </div>

        </div>
    </div>
<div id="footer-connect-bg">
    <div id="footer" class="container_12">
        <div id="footer-connect-copyright" class="grid_8 alpha omega">
            Copyright Â© 2013 eZ Systems AS (except where otherwise noted). All rights reserved.
            <br/><br/>
            Powered by <a href="http://ez.no/ezpublish" title="eZ Publish Platform">the eZ Publish Platform</a>.<br />
        </div>

        <div id="footer-connect-social" class="grid_4 right">
            <a href="http://www.youtube.com/user/ezpublish/" class="youtube" target="_blank">youtube</a>
            <a href="https://google.com/+ezsystems" class="googleplus" target="_blank">google plus</a>
            <a href="http://www.linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="linkedin" target="_blank">linkedin</a>
            <a href="https://www.facebook.com/eZPublishEnterprise" class="facebook" target="_blank">facebook</a>
            <a href="http://twitter.com/#!/ezsystems" class="twitter" target="_blank">twitter</a>
        </div>


    </div>
</div>


</div>
<!-- Complete page area: END -->



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'auto');
  ga('send', 'pageview');

</script>




<script type="text/javascript">
(function()
{var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src='https://secure.liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();
</script>


</body>

<!-- Mirrored from doc.ez.no/doc_hidden/eZ-Publish/Technical-manual/5.x/Features/User-defined-Object-States by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Feb 2017 02:24:30 GMT -->
</html>

<!-- th[eZ] 20050804 -->
