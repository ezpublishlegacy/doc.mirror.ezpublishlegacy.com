                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=7438581 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 09:39:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagead7d.html?pageId=7438581" />
        <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1f2a9c4c7f2593422cc9b02d1a652a22/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/26ac2724af3c6ece1051365650d982fa/_/download/contextbatch/css/editor-content/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/51/_/styles/colorsb538.css?spaceKey=EZP" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/51/_/styles/customb538.css?spaceKey=EZP" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">The requirements for doing a normal installation must be met, read the &quot;<a class="confluence-link" href="../../display/EZP/Requirements%2bfor%2bdoing%2ba%2bnormal%2binstallation.html" data-linked-resource-id="7438584" data-linked-resource-type="page" data-linked-resource-default-alias="Requirements for doing a normal installation" data-base-url="../../index.html">Requirements for doing a normal installation</a>&quot; section first!</td></tr></table><p>This section will guide you through the following steps:</p><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macroea29.png?definition=e3RvYzpvdXRsaW5lPXRydWV9&amp;locale=en_GB&amp;version=2" data-macro-name="toc" data-macro-parameters="outline=true"></p><table class="wysiwyg-macro" data-macro-name="info" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">Follow the status labels for the right version : <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0351.png?colour=Yellow&amp;title=5.x" data-macro-name="status" data-macro-parameters="colour=Yellow|title=5.x"></strong></em> <em><strong><em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderf8f3.png?colour=Grey&amp;=&amp;title=5.0&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.0" data-macro-default-parameter=""> <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderacb6.png?colour=Grey&amp;=&amp;title=5.1&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.1" data-macro-default-parameter=""><em><strong> <img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0493.png?colour=Green&amp;=&amp;title=5.2&amp;0=" data-macro-name="status" data-macro-parameters="colour=Green|title=5.2" data-macro-default-parameter=""></strong></em></strong></em></strong></em></strong></em>  <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder4836.png?colour=Red&amp;title=%3E%3D+5.3+%2F+2014.05" data-macro-name="status" data-macro-parameters="colour=Red|title=>\= 5.3 / 2014.05"></strong></em></td></tr></table><h2>Setting up a database<em><strong> <img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0351.png?colour=Yellow&amp;title=5.x" data-macro-name="status" data-macro-parameters="colour=Yellow|title=5.x"></strong></em></h2><p>A <strong>database must be created</strong> before running the setup wizard. The following text explains how to set up a database using either MySQL or PostgreSQL.</p><h3>MySQL</h3><ol><li><div><p>Log in as the root user (or any other MySQL user that has the <code>CREATE</code>, <code>CREATE USER</code> and <code>GRANT OPTION</code> <a href="http://dev.mysql.com/doc/refman/5.1/en/privileges-provided.html">privileges</a>):</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-parameters="language=bash" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre># mysql --host=&lt;mysql_host> --port=&lt;port> -u &lt;mysql_user> -p&lt;mysql_password></pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Note that if MySQL is installed on the same server, the &quot;<code>--host</code>&quot; parameter can be omitted. If the &quot;<code>--port</code>&quot; parameter is omitted, the default port for MySQL traffic will be used (port 3306).</p></td></tr></table><p>The MySQL client should display a &quot;mysql&gt;&quot; prompt.<br /><br /></p></div></li><li><div><p>Create a new database:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>mysql> CREATE DATABASE &lt;database> CHARACTER SET utf8;</pre></td></tr></table></div></li><li><div><p>Grant access permissions:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>mysql> GRANT ALL ON &lt;database>.* TO &lt;user>@&lt;ezp_host> IDENTIFIED BY '&lt;password>';</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Note that if the specified user account does not exist, it will be created.</p></td></tr></table><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Reference</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">&lt;mysql_host&gt;</td><td class="confluenceTd">The hostname of the MySQL database server.</td></tr><tr><td class="confluenceTd">&lt;port&gt;</td><td class="confluenceTd">The port number that will be used to connect to the MySQL database server.</td></tr><tr><td class="confluenceTd">&lt;mysql_user&gt;</td><td class="confluenceTd">The MySQL user (if no user is set up, use &quot;<code>root</code>&quot;).</td></tr><tr><td class="confluenceTd">&lt;mysql_password&gt;</td><td class="confluenceTd">The password that belongs to the <code>&lt;mysql_user&gt;</code>.</td></tr><tr><td class="confluenceTd">&lt;database&gt;</td><td class="confluenceTd">The name of the database, for example &quot;<code>my_new_database</code>&quot;.</td></tr><tr><td class="confluenceTd">&lt;user&gt;</td><td class="confluenceTd">The username that will be used to access the database.</td></tr><tr><td class="confluenceTd">&lt;ezp_host&gt;</td><td class="confluenceTd">The hostname of the server on which eZ Publish will be running. (may be &quot;<code>localhost</code>&quot; if MySQL is installed on the same server).</td></tr><tr><td class="confluenceTd">&lt;password&gt;</td><td class="confluenceTd">The password you wish to set in order to limit access to the database.</td></tr></tbody></table></div></li></ol><p><a name="eztoc131657_1_2" /></p><h3>PostgreSQL</h3><ol><li><div><p>Log in as the postgres user (or any other PostgreSQL user that has sufficient <a href="http://www.postgresql.org/docs/current/interactive/sql-grant.html">privileges</a> to create roles and databases):</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ psql -h &lt;psql_host> -p &lt;port> -U &lt;psql_user> -W</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Note that if PostgreSQL is installed on the same server, the &quot;<code>-h</code>&quot; parameter can be omitted. If the &quot;<code>-p</code>&quot; parameter is omitted, the default port for PostgreSQL traffic will be used (in most cases, port 5432).</p></td></tr></table><p>The PostgreSQL client will ask you to specify the password that belongs to the <code>&lt;psql_user&gt;</code>. If the password is correct, the client should display a &quot;<code>&lt;psql_user&gt;=#</code>&quot; prompt.</p></div></li><li><div><p>Create a new database:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# CREATE DATABASE &lt;database> ENCODING='utf8';</pre></td></tr></table></div></li><li><div><p>Create a new user:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# CREATE USER &lt;user> PASSWORD '&lt;password>';</pre></td></tr></table></div></li><li><div><p>Grant access permissions:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# GRANT ALL PRIVILEGES ON DATABASE &lt;database> TO &lt;user>;</pre></td></tr></table><p> </p></div><div><p>Import the &quot;<a href="http://www.postgresql.org/docs/8.3/static/pgcrypto.html">pgcrypto</a>&quot; module into the new database:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# \c &lt;database>
&lt;database>=# \i '&lt;path_to_pgcrypto>'</pre></td></tr></table><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Reference</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">&lt;psql_host&gt;</td><td class="confluenceTd">The hostname of the PostgreSQL database server.</td></tr><tr><td class="confluenceTd">&lt;port&gt;</td><td class="confluenceTd">The port number that will be used to connect to the PostgreSQL database server.</td></tr><tr><td class="confluenceTd">&lt;psql_user&gt;</td><td class="confluenceTd">The PostgreSQL user (if no user is set up, use &quot;<code>postgresql</code>&quot;).</td></tr><tr><td class="confluenceTd">&lt;database&gt;</td><td class="confluenceTd">The name of the database, for example &quot;<code>my_new_database</code>&quot;.</td></tr><tr><td class="confluenceTd">&lt;user&gt;</td><td class="confluenceTd">The username that will be used to access the database.</td></tr><tr><td class="confluenceTd">&lt;password&gt;</td><td class="confluenceTd">The password you wish to set in order to limit access to the database.</td></tr><tr><td class="confluenceTd">&lt;path_to_pgcrypto&gt;</td><td class="confluenceTd">The path to the &quot;<code>pgcrypto.sql</code>&quot; file, for example &quot;<code>/usr/share/pgsql/contrib/pgcrypto.sql</code>&quot;.</td></tr></tbody></table><strong><br />Note for version 9.1+ of PostgreSQL users:</strong>The following changes might be necessary for these users:<table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# \c &lt;database>
&lt;database>=# CREATE EXTENSION pgcrypto;</pre></td></tr></table></div></li></ol><h2>Downloading eZ Publish <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0351.png?colour=Yellow&amp;title=5.x" data-macro-name="status" data-macro-parameters="colour=Yellow|title=5.x"></strong></em></h2><table class="wysiwyg-macro" data-macro-name="info" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">The latest community version of eZ Publish can be downloaded from <a href="http://share.ez.no/downloads">http://share.ez.no/downloads</a></td></tr></table><p>Enterprise version is available in your <a href="https://support.ez.no/">support portal</a> or via partner portal.</p><h2>Unpacking eZ Publish <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0351.png?colour=Yellow&amp;title=5.x" data-macro-name="status" data-macro-parameters="colour=Yellow|title=5.x"></strong></em></h2><p>Use your favorite tool to unpack the downloaded eZ Publish distribution to a web-served directory (a directory that is reachable using a web browser), or in case of virtual host mode it can be any folder. <br />The following example shows how to do this using the tar utility (to unpack a tar.gz file, assuming that the &quot;tar&quot; and the &quot;gzip&quot; utilities are installed on the system):</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ tar zxvf ezpublish-&lt;version_number>-gpl.tar.gz -C &lt;web_served_directory></pre></td></tr></table><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Reference</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><code>&lt;version_number&gt;</code></td><td class="confluenceTd">The version number of eZ Publish that was downloaded.</td></tr><tr><td class="confluenceTd"><code>&lt;web_served_directory&gt;</code></td><td class="confluenceTd">Full path to a directory that is served by the web server. This can be the path to the document root of the web server, or a personal web-directory (usually called &quot;<code>public_html</code>&quot; or &quot;<code>www</code>&quot;, and located inside a user's home directory).</td></tr></tbody></table><p> </p><p>The extraction utility will unpack eZ Publish into a sub-directory called &quot;<code>ezpublish-&lt;version_number&gt;</code>&quot;. Feel free to rename this directory to something more meaningful, for example &quot;<code>my_site</code>&quot;.</p><p><a name="eztoc131657_4" /></p><h2>Setting up folder permission<em><strong> <img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0351.png?colour=Yellow&amp;title=5.x" data-macro-name="status" data-macro-parameters="colour=Yellow|title=5.x"></strong></em></h2><table class="wysiwyg-macro" data-macro-name="note" data-macro-parameters="title=Important" style="background-image: url(../servlet/confluence/placeholder/macro-heading5653.png?definition=e25vdGU6dGl0bGU9SW1wb3J0YW50fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>In the 3 first folder permission setup options, always ensure to run application scripts and the web server with the appropriate UNIX user (must be same as you setup rights for below).</p><p>As for Apache you can control which user to use in your Apache configuration. Using <a href="http://php.net/manual/en/install.fpm.php" style="line-height: 1.4285715;">PHP-FPM</a> or <a href="http://httpd.apache.org/docs/2.2/en/suexec.html" style="line-height: 1.4285715;">SuExec module</a>, you can even specify a user per virtual host.</p></td></tr></table><p>Several cache, log and config folders must be writable both by the web server and the command line user, use <em>one</em> of the following alternatives to do this:</p><ul><li><p><strong>Using ACL on a system that supports chmod +a</strong><br />These shell commands will give proper permission to the web server and command line users.</p><p><em><strong>5.3 / 2014.05 and higher: <img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder4836.png?colour=Red&amp;title=%3E%3D+5.3+%2F+2014.05" data-macro-name="status" data-macro-parameters="colour=Red|title=>\= 5.3 / 2014.05"><br /></strong></em></p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>    $ cd /&lt;ezp5-root>/
    $ sudo chmod +a "www-data allow delete,write,append,file_inherit,directory_inherit" \
      ezpublish/{cache,logs,config,sessions} ezpublish_legacy/{design,extension,settings,var} web
    $ sudo chmod +a "`whoami` allow delete,write,append,file_inherit,directory_inherit" \
      ezpublish/{cache,logs,config,sessions} ezpublish_legacy/{design,extension,settings,var} web</pre></td></tr></table><p><em><strong>5.0, 5.1 and 5.2: <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderf8f3.png?colour=Grey&amp;=&amp;title=5.0&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.0" data-macro-default-parameter=""> <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderacb6.png?colour=Grey&amp;=&amp;title=5.1&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.1" data-macro-default-parameter=""><em><strong> <img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0493.png?colour=Green&amp;=&amp;title=5.2&amp;0=" data-macro-name="status" data-macro-parameters="colour=Green|title=5.2" data-macro-default-parameter=""></strong></em></strong></em></strong></em><br /></strong></em></p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>    $ cd /&lt;ezp5-root>/
    $ sudo chmod +a "www-data allow delete,write,append,file_inherit,directory_inherit" \
      ezpublish/{cache,logs,config} ezpublish_legacy/{design,extension,settings,var} web
    $ sudo chmod +a "`whoami` allow delete,write,append,file_inherit,directory_inherit" \
      ezpublish/{cache,logs,config} ezpublish_legacy/{design,extension,settings,var} web</pre></td></tr></table><p><strong><br /></strong></p></li><li><p><strong>Using ACL on a system that does not support chmod +a<br /></strong>Some systems don't support chmod +a, but do support another utility called setfacl. You may need to enable ACL support on your partition and install setfacl before using it (as is the case with Ubuntu).<br /><em><strong><em><strong>5.3 / 2014.05</strong></em> and higher: <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder4836.png?colour=Red&amp;title=%3E%3D+5.3+%2F+2014.05" data-macro-name="status" data-macro-parameters="colour=Red|title=>\= 5.3 / 2014.05"></strong></em><br /></strong></em></p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>    $ cd /&lt;ezp5-root>/
    $ sudo setfacl -R -m u:www-data:rwx -m u:www-data:rwx \
      ezpublish/{cache,logs,config,sessions} ezpublish_legacy/{design,extension,settings,var} web
    $ sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx \
      ezpublish/{cache,logs,config,sessions} ezpublish_legacy/{design,extension,settings,var} web</pre></td></tr></table><p><em><strong>5.0, 5.1 and 5.2: <em><strong><em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderf8f3.png?colour=Grey&amp;=&amp;title=5.0&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.0" data-macro-default-parameter=""> <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderacb6.png?colour=Grey&amp;=&amp;title=5.1&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.1" data-macro-default-parameter=""><em><strong> <img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0493.png?colour=Green&amp;=&amp;title=5.2&amp;0=" data-macro-name="status" data-macro-parameters="colour=Green|title=5.2" data-macro-default-parameter=""></strong></em></strong></em></strong></em></strong></em><br /></strong></em></p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>    $ cd /&lt;ezp5-root>/
    $ sudo setfacl -R -m u:www-data:rwx -m u:www-data:rwx \
      ezpublish/{cache,logs,config} ezpublish_legacy/{design,extension,settings,var} web
    $ sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx \
      ezpublish/{cache,logs,config} ezpublish_legacy/{design,extension,settings,var} web</pre></td></tr></table></li><li><p><strong>Using chown on systems that don't support ACL</strong><br />Some systems don't support ACL at all. You will either need to set your web server's user as the owner of the required directories.<br /><em><strong><em><strong>5.3 / 2014.05</strong></em> and higher: <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder4836.png?colour=Red&amp;title=%3E%3D+5.3+%2F+2014.05" data-macro-name="status" data-macro-parameters="colour=Red|title=>\= 5.3 / 2014.05"></strong></em><br /></strong></em></p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>    $ cd /&lt;ezp5-root>/
    $ sudo chown -R www-data:www-data ezpublish/{cache,logs,config,sessions} ezpublish_legacy/{design,extension,settings,var} web
    $ sudo find {ezpublish/{cache,logs,config,sessions},ezpublish_legacy/{design,extension,settings,var},web} -type d | sudo xargs chmod -R 775
    $ sudo find {ezpublish/{cache,logs,config,sessions},ezpublish_legacy/{design,extension,settings,var},web} -type f | sudo xargs chmod -R 664</pre></td></tr></table><p><em><strong>5.0, 5.1 and 5.2: <em><strong><em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderf8f3.png?colour=Grey&amp;=&amp;title=5.0&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.0" data-macro-default-parameter=""> <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderacb6.png?colour=Grey&amp;=&amp;title=5.1&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.1" data-macro-default-parameter=""><em><strong> <img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0493.png?colour=Green&amp;=&amp;title=5.2&amp;0=" data-macro-name="status" data-macro-parameters="colour=Green|title=5.2" data-macro-default-parameter=""></strong></em></strong></em></strong></em></strong></em><br /></strong></em></p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>    $ cd /&lt;ezp5-root>/
    $ sudo chown -R www-data:www-data ezpublish/{cache,logs,config} ezpublish_legacy/{design,extension,settings,var} web
    $ sudo find {ezpublish/{cache,logs,config},ezpublish_legacy/{design,extension,settings,var},web} -type d | sudo xargs chmod -R 775
    $ sudo find {ezpublish/{cache,logs,config},ezpublish_legacy/{design,extension,settings,var},web} -type f | sudo xargs chmod -R 664</pre></td></tr></table></li><li><p><strong>Using chmod</strong><br />If you can't use ACL and aren't allowed to change owner, you can use chmod, making the files writable by everybody. Note that this method really isn't recommended as it allows any user to do anything.<br /><em><strong><em><strong>5.3 / 2014.05</strong></em> and higher: <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder4836.png?colour=Red&amp;title=%3E%3D+5.3+%2F+2014.05" data-macro-name="status" data-macro-parameters="colour=Red|title=>\= 5.3 / 2014.05"></strong></em><br /></strong></em></p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>    $ cd /&lt;ezp5-root>/
    $ sudo find {ezpublish/{cache,logs,config,sessions},ezpublish_legacy/{design,extension,settings,var},web} -type d | sudo xargs chmod -R 777
    $ sudo find {ezpublish/{cache,logs,config,sessions},ezpublish_legacy/{design,extension,settings,var},web} -type f | sudo xargs chmod -R 666</pre></td></tr></table><p><em><strong>5.0, 5.1 and 5.2: <em><strong><em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderf8f3.png?colour=Grey&amp;=&amp;title=5.0&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.0" data-macro-default-parameter=""> <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderacb6.png?colour=Grey&amp;=&amp;title=5.1&amp;0=" data-macro-name="status" data-macro-parameters="colour=Grey|title=5.1" data-macro-default-parameter=""><em><strong> <img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0493.png?colour=Green&amp;=&amp;title=5.2&amp;0=" data-macro-name="status" data-macro-parameters="colour=Green|title=5.2" data-macro-default-parameter=""></strong></em></strong></em></strong></em></strong></em><br /></strong></em></p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>    $ cd /&lt;ezp5-root>/
    $ sudo find {ezpublish/{cache,logs,config},ezpublish_legacy/{design,extension,settings,var},web} -type d | sudo xargs chmod -R 777
    $ sudo find {ezpublish/{cache,logs,config},ezpublish_legacy/{design,extension,settings,var},web} -type f | sudo xargs chmod -R 666</pre></td></tr></table></li></ul><h2>Install Composer <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0351.png?colour=Yellow&amp;title=5.x" data-macro-name="status" data-macro-parameters="colour=Yellow|title=5.x"></strong></em></h2><p>If you use a version control system, take care of versioning the composer.lock file.</p><p>Install <a href="http://getcomposer.org/">Composer</a> by running one of the following command from you eZ Publish root folder :</p><p>If you <strong>have curl</strong> installed:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>curl -sS https://getcomposer.org/installer | php</pre></td></tr></table><p>If you <strong>don't have curl</strong> installed:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>php -r "eval('?>'.file_get_contents('https://getcomposer.org/installer'));"</pre></td></tr></table><h3>For 5.3 and higher : get latest versions of packages <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder4836.png?colour=Red&amp;title=%3E%3D+5.3+%2F+2014.05" data-macro-name="status" data-macro-parameters="colour=Red|title=>\= 5.3 / 2014.05"></strong></em></h3><p>When Composer is installed, run update to get latest versions of packages before you continue with installation.</p><table class="wysiwyg-macro" data-macro-name="info" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">Learn more on how to keep system further up to date  <a class="confluence-link" href="../../display/EZP/Using%2bComposer.html" data-linked-resource-id="23527865" data-linked-resource-type="page" data-linked-resource-default-alias="Using Composer" data-base-url="../../index.html">Using Composer</a></td></tr></table><h3>For 5.2 : for Symfony and its dependencies <em><strong><em><strong><em><strong><em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0493.png?colour=Green&amp;=&amp;title=5.2&amp;0=" data-macro-name="status" data-macro-parameters="colour=Green|title=5.2" data-macro-default-parameter=""></strong></em></strong></em></strong></em></strong></em></h3><p>Use composer for Symfony and its dependencies only, not for eZ Publish and it's dependencies.<br /><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro129f.png?definition=e2V4Y2VycHQtaW5jbHVkZTpnbG9zc2FyeTpTeW1mb255fQ&amp;locale=en_GB&amp;version=2" data-macro-name="excerpt-include" data-macro-default-parameter="glossary:Symfony"></p><p> </p><div><div><h2>For all 5.x versions : Install Zetacomponents for a pure legacy setup <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0351.png?colour=Yellow&amp;title=5.x" data-macro-name="status" data-macro-parameters="colour=Yellow|title=5.x"></strong></em></h2><p>As of eZ Publish 5.2, if you plan to use eZ Publish legacy <strong>only,</strong> as standalone (as in pointing apache to ezpublish_legacy folder or extracting only ezpublish_legacy), then Zetacomponents must be installed if you don't already have it via PEAR.</p><p>After Composer installation (see above for Composer installation instructions) run the following command <strong>from the <em>ezpublish_legacy/</em> folder :</strong></p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>php composer.phar install</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Composer will need GD to run.</p></td></tr></table><p> </p></div></div><h2>Before 5.2 : Link assets <em><strong><em><strong><em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholderd003.png?title=%3C+5.2" data-macro-name="status" data-macro-parameters="title=&lt; 5.2"><em><strong> </strong></em></strong></em></strong></em></strong></em></h2><table class="wysiwyg-macro" data-macro-name="info" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">The download file should already have generated these assets for you as of 5.2 / 2013.07 during composer install, but in case file has been extracted on Windows, make sure to run these commands.</td></tr></table><p>To be able to run eZ Publish 5 correctly, assets need to be exposed in the public &quot;<code>web</code>&quot; folder.</p><p>The following commands will first symlink eZ Publish 5 assets in &quot;Bundles&quot; and the second will symlink assets (design files like images, scripts and css, and files in var folder)  from eZ Publish Legacy</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>cd /&lt;ezp5-root>
php ezpublish/console assets:install --relative --symlink web
php ezpublish/console ezpublish:legacy:assets_install --relative --symlink web
php ezpublish/console assetic:dump --env=prod web</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><strong>Note</strong>: In both cases &quot;<code>web</code>&quot; is the default folder and can be skipped from the command. For symlinks on the first two commands you can either use --relative, --symlink, or none to get the command to copy assets. However make sure to also update &quot;symfony-assets-install&quot; in composer.json if you prefer something else then --relative which is the default.</p><p>Further information about alternative options is available with <code>-h</code> on each command, just like it is with the console itself using &quot;<code>php ezpublish/console </code><code style="line-height: 1.4285715;">-h</code>&quot;.</p></td></tr></table><table class="wysiwyg-macro" data-macro-name="warning" data-macro-parameters="title=Warning regarding APC usercache" style="background-image: url(../servlet/confluence/placeholder/macro-heading7555.png?definition=e3dhcm5pbmc6dGl0bGU9V2FybmluZyByZWdhcmRpbmcgQVBDIHVzZXJjYWNoZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>If you are planning to use APC usercache for eZ Publish Persistence cache, please be sure to check the available notes <a href="https://confluence.ez.no/display/EZP/Persistence+cache+configuration#Persistencecacheconfiguration-APC">here</a>, before entering the setup wizard chapter.</p></td></tr></table><h2>Initiating the setup wizard <em><strong><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0351.png?colour=Yellow&amp;title=5.x" data-macro-name="status" data-macro-parameters="colour=Yellow|title=5.x"></strong></em></h2><p>The setup wizard can be started using a web browser immediately after the previous steps (described in this section) are completed. It will be automatically run the first time someone tries to access/browse the &quot;<code>/ezsetup</code>&quot; url.</p><p> </p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=7438581 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 09:39:40 GMT -->
</html>
