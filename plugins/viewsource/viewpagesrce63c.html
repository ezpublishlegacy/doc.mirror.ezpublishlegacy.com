                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=30711760 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:42:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagee63c.html?pageId=30711760" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/colors82a8.css?spaceKey=TECHDOC" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/custom82a8.css?spaceKey=TECHDOC" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <div class="contentLayout2">
<div class="columnLayout two-right-sidebar" data-layout="two-right-sidebar">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p> </p><p> </p><p><img class="confluence-embedded-image image-center" height="400" src="../../download/attachments/30711760/Beginners_Tutorial-Ride-view64f4.png?version=1&amp;modificationDate=1460547986000&amp;api=v2" data-image-src="/download/attachments/30711760/Beginners_Tutorial-Ride-view.png?version=1&amp;modificationDate=1460547986000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="31429256" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Beginners_Tutorial-Ride-view.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30711760" data-linked-resource-container-version="30" title="TECHDOC > Step 1 - Display content of a Ride > Beginners_Tutorial-Ride-view.png" data-location="TECHDOC > Step 1 - Display content of a Ride > Beginners_Tutorial-Ride-view.png" data-image-height="961" data-image-width="1904"></p><p>We will customize the Google map later, now let's inject and display all Points of interest within the view.</p><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro5cea.png?definition=e3RvYzpvdXRsaW5lPXRydWV8c3R5bGU9bm9uZX0&amp;locale=en_GB&amp;version=2" data-macro-name="toc" data-macro-id="88807d3e-4fa1-4eeb-9f6a-5d5592acf449" data-macro-parameters="outline=true|style=none" data-macro-schema-version="1"></p><h1>Points Of Interest</h1><p>Go to Admin Panel &gt; Content Types, and under the &quot;Content&quot;  group, create the Point Of Interest Content Type.</p><h2>Create the Point Of Interest (POI) Content Type</h2><p>A geographical location rides go through. Each ride may be related to as many points of interest as needed.</p><p><strong>Name</strong>: Point of interest<br /><strong>Identifier</strong>: point_of_interest<br /><strong>Content name pattern</strong>: &lt;name&gt; </p><p>Then create all fields with the following information: </p><ul><li><strong>Name</strong>: identifier <strong>name</strong>; field type <strong>textLine </strong>(<strong>Required</strong> / <strong>Searchable</strong> / <strong>Translatable</strong>)</li><li><strong>Description</strong>: identifier <strong>description</strong>; field type <strong>Rich Text </strong>(<strong>Required</strong> / <strong>Searchable</strong> / <strong>Translatable</strong>)</li><li><strong>Photo</strong>: identifier <strong>image</strong>; field type <strong>Image </strong>(<strong>Required / </strong><strong>Searchable</strong>)</li><li><strong>Legend</strong>: identifier <strong>legend</strong>; field type <strong>Rich Text </strong>(<strong>Required</strong> / <strong>Searchable</strong> / <strong>Translatable</strong>)</li><li><strong>Place</strong>: identifier <strong>place</strong>; field type <strong>MapLocation</strong><strong> </strong>(<strong>Required</strong> / <strong>Searchable</strong>)</li></ul><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="e01f300d-a636-4f85-a19d-1963a0277596" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>The <strong>content name pattern</strong> defines how the name and URL part of Content items of this type will be built. It may include static strings, as well as references to field definitions, using their identifier.</p><p>The value of the fields referenced in the pattern will be used to build the name. Most Field Types are able to render a textual representation of their value, but be aware that it is not implemented for some of them (<a class="confluence-link" href="../../display/TECHDOC/The%2bSelection%2bField%2bType.html" data-linked-resource-id="30711433" data-linked-resource-version="2" data-linked-resource-type="page" data-linked-resource-default-alias="The Selection Field Type" data-base-url="../../index.html">Selection FieldType</a>, <a class="confluence-link" href="../../display/TECHDOC/The%2bRelation%2bField%2bType.html" data-linked-resource-id="30711440" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="The Relation Field Type" data-base-url="../../index.html">Relation FieldType</a>, <a class="confluence-link" href="../../display/TECHDOC/The%2bRelationList%2bField%2bType.html" data-linked-resource-id="30711441" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="The RelationList Field Type" data-base-url="../../index.html">RelationList FieldType</a>).</p></td></tr></table><p>Create some Points Of Interest in the Content tree. Note that you will need pictures (for the Photo, the image Field) to represent these Points Of Interest.</p><h2>Edit the Ride Content Type</h2><p>Now, validate and edit the Ride in order to add a Relation (multiple) between the two Content Types.</p><p><img class="confluence-embedded-image confluence-content-image-border" height="486" width="959" src="../../download/attachments/30711760/Edit_Ride_-adding_poi_relation4bea.png?version=1&amp;modificationDate=1460030807000&amp;api=v2" data-image-src="/download/attachments/30711760/Edit_Ride_-adding_poi_relation.png?version=1&amp;modificationDate=1460030807000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="31428944" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Edit_Ride_-adding_poi_relation.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30711760" data-linked-resource-container-version="30" title="TECHDOC > Step 1 - Display content of a Ride > Edit_Ride_-adding_poi_relation.png" data-location="TECHDOC > Step 1 - Display content of a Ride > Edit_Ride_-adding_poi_relation.png" data-image-height="486" data-image-width="959"></p><p>Then link some Points Of Interests to a Ride in the Admin interface.</p><h1>Ride view</h1><h2>Display the list of POI</h2><p><span style="color: rgb(51,51,51);">By default, there are only 4 variables in a view: noLayout, viewbaseLayout, content and location.</span></p><p>It is possible to inject whatever variable you want in a specific view.</p><p>You will find more info here: <a class="confluence-link" href="../../display/TECHDOC/How%2bto%2buse%2ba%2bcustom%2bcontroller%2bto%2bdisplay%2ba%2bcontent%2bitem%2bor%2blocation.html" data-linked-resource-id="30711499" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="How to use a custom controller to display a content item or location" data-base-url="../../index.html">How to use a custom controller to display a content item or location</a> and <a class="confluence-link" href="../../display/TECHDOC/View%2bprovider%2bconfiguration.html" data-linked-resource-id="30711180" data-linked-resource-version="8" data-linked-resource-type="page" data-linked-resource-default-alias="View provider configuration" data-base-url="../../index.html">View provider configuration</a>.</p><h3>Add a new parameter to your override rule</h3><p>We have already set an override rule for ContentType Ride and we will need to modify it to use our own action injecting the list of Point of interest content. </p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="01259018-8d00-45fd-81b1-7fe526ba7955" data-macro-parameters="language=bash|theme=RDark|title=ezplatform.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading0e82.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aGVtZT1SRGFya3x0aXRsZT1lenBsYXRmb3JtLnltbH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>default:
    content_view:
        full:
            full_ride:
                template: "content/view/full/ride.html.twig"
                match:
                    Identifier\ContentType: "ride"</pre></td></tr></table><p> </p><h2>Create your Point of interest line view</h2><p>Now, we need to create the line view for Point of interest.</p><p>Declare a new override rule into your <code>app/config/ezplatform.yml</code>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="638037da-8e19-40a0-9071-4368b2fc6b5a" data-macro-parameters="language=js|theme=DJango|title=ezplatform.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading4725.png?definition=e2NvZGU6bGFuZ3VhZ2U9anN8dGhlbWU9REphbmdvfHRpdGxlPWV6cGxhdGZvcm0ueW1sfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>system:
    site_group:
        default:
            content_view:               
                line:
                    line_point_of_interest:
                        template: 'content/view/line/point_of_interest.html.twig'
                        match:
                            Identifier\ContentType: ['point_of_interest']</pre></td></tr></table><p>Create your template for the line view of a Point of interest <code>app/Resources/views/line/point_of_interest.htm.twig</code>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="379d8f20-7e89-4919-a60a-05e681974ad4" data-macro-parameters="language=xml|linenumbers=true|theme=RDark|title=point_of_interest.html.twig" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading6086.png?definition=e2NvZGU6bGFuZ3VhZ2U9eG1sfHRoZW1lPVJEYXJrfHRpdGxlPXBvaW50X29mX2ludGVyZXN0Lmh0bWwudHdpZ3xsaW5lbnVtYmVycz10cnVlfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre> &lt;div class="col-xs-4 photos-box">
    &lt;a href="#bikeModal{{ content.id }}" class="portfolio-link" data-toggle="modal">
        &lt;div class="caption">
            &lt;div class="caption-content">
                &lt;i class="fa fa-search-plus fa-3x">&lt;/i>
            &lt;/div>
        &lt;/div>
        {{ ez_render_field( content, 'image', { parameters: { 'alias': 'small'},
                                                attr: { 'class': 'img-responsive img-rounded' }}) }}
        {#&lt;img src="images/lyon.png" class="img-responsive img-rounded" alt="">#}
    &lt;/a>
&lt;/div>

{# MODAL #}
&lt;div class="bike-modal modal fade" id="bikeModal{{ content.id }}" tabindex="-1" role="dialog" aria-hidden="true">
    &lt;div class="modal-content">
        &lt;div class="close-modal" data-dismiss="modal">
            &lt;div class="lr">
                &lt;div class="rl">
                &lt;/div>
            &lt;/div>
        &lt;/div>
        &lt;div class="container">
            &lt;div class="row">
                &lt;div class="col-xs-8 col-xs-offset-2">
                    &lt;div class="modal-body text-center">
                        &lt;h2>Photo: {{ ez_content_name( content ) }}&lt;/h2>
                        &lt;hr class="featurette-divider">
                        {{ ez_render_field( content, 'image', { parameters: { 'alias': 'large'},
                                                                attr: { 'class': 'img-responsive img-rounded' }}) }}
                        {#&lt;img src="images/lyon.png" class="img-responsive img-centered img-rounded" alt="">#}
                        {{ ez_render_field( content, 'description', { attr: { 'class': 'padding-box text-justify' }}) }}

                        {#&lt;p class="padding-box text-justify">&lt;/p>#}
                    &lt;/div>
                &lt;/div>
            &lt;/div>
        &lt;/div>
    &lt;/div>
&lt;/div></pre></td></tr></table><p class="confluence-link"> </p><hr /><p class="confluence-link"> </p><p /><table class="wysiwyg-macro" data-macro-name="section" data-macro-id="002603cf-e7dd-47c3-b13b-114bfcfcac23" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading83a9.png?definition=e3NlY3Rpb259&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><table class="wysiwyg-macro" data-macro-name="column" data-macro-id="3226a896-d01c-4b85-96a4-fb9b8e3aa60c" data-macro-parameters="width=50%" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading99b3.png?definition=e2NvbHVtbjp3aWR0aD01MCV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>⬅ Previous: <a class="confluence-link" href="../../display/TECHDOC/Part%2b2_%2bWorking%2bon%2bthe%2bRide.html" data-linked-resource-id="30711751" data-linked-resource-version="7" data-linked-resource-type="page" data-linked-resource-default-alias="Part 2: Working on the Ride" data-base-url="../../index.html">Working on the Ride introduction page</a></p></td></tr></table><table class="wysiwyg-macro" data-macro-name="column" data-macro-id="47677b5e-740c-4036-9398-460d4fdb0f5e" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading16cd.png?definition=e2NvbHVtbn0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p style="text-align: right;">Next: <a class="confluence-link" href="../../display/TECHDOC/Step%2b2%2b-%2bDisplay%2bthe%2blist%2bof%2bRides%2bon%2bthe%2bhomepage.html" data-linked-resource-id="30711758" data-linked-resource-version="35" data-linked-resource-type="page" data-linked-resource-default-alias="Step 2 - Display the list of Rides on the homepage" data-base-url="../../index.html">Step 2 - Display the list of Rides on the homepage</a> ➡</p></td></tr></table></td></tr></table><p> </p><p> </p><p> </p></div>
</div>
<div class="cell aside" data-type="aside">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="panel" data-macro-id="d8c77d99-57aa-4735-a392-c4f56fe8f2c9" data-macro-parameters="borderColor=#f58220|borderWidth=2|title=Tutorial path" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingc82d-2.png?definition=e3BhbmVsOmJvcmRlckNvbG9yPSNmNTgyMjB8Ym9yZGVyV2lkdGg9Mnx0aXRsZT1UdXRvcmlhbCBwYXRofQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro4664.png?definition=e3BhZ2V0cmVlOnJvb3Q9QmVnaW5uZXIgVHV0b3JpYWx9&amp;locale=en_GB&amp;version=2" data-macro-name="pagetree" data-macro-id="0d7ba715-968c-4ef5-93a7-68a779152b61" data-macro-parameters="root=Beginner Tutorial" data-macro-schema-version="1"></p></td></tr></table></div>
</div>
</div>
</div>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=30711760 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:42:29 GMT -->
</html>
