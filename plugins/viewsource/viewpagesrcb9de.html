                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=30712248 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 08:33:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpageb9de.html?pageId=30712248" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/colors82a8.css?spaceKey=TECHDOC" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/custom82a8.css?spaceKey=TECHDOC" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <div class="contentLayout2">
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="panel" data-macro-id="bb93d622-f21e-42cf-bdb0-1b43a770f673" data-macro-parameters="bgColor=#f58220|titleBGColor=#f0f0f0" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdbfd.png?definition=e3BhbmVsOmJnQ29sb3I9I2Y1ODIyMHx0aXRsZUJHQ29sb3I9I2YwZjBmMH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><strong>This page describes features available only in eZ Studio.</strong></p></td></tr></table></div>
</div>
</div>
<div class="columnLayout two-right-sidebar" data-layout="two-right-sidebar">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="panel" data-macro-id="8b7971db-ca80-4cbd-9bfe-665ce271a0eb" data-macro-parameters="bgColor=#ffffff|title=Overview|titleBGColor=#dddddd" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingf7bf.png?definition=e3BhbmVsOmJnQ29sb3I9I2ZmZmZmZnx0aXRsZUJHQ29sb3I9I2RkZGRkZHx0aXRsZT1PdmVydmlld30&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p style="text-align: center;">Landing Page Field Type defines the layout structure of the Landing Page</p></td></tr></table><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Internal name</th><th class="confluenceTh">Expected input</th></tr><tr><td class="confluenceTd"><code>Landing page</code></td><td class="confluenceTd"><code>ezlandingpage</code></td><td class="confluenceTd"><code>string (JSON)</code></td></tr></tbody></table><p> </p><p>With the Landing Page <a href="../../display/MAIN/Glossary.html#Glossary-FieldType">Field Type</a> you can define a <a href="../../display/MAIN/Glossary.html#Glossary-LayoutLayout">layout</a> with multiple zones within a single <a href="../../display/MAIN/Glossary.html#Glossary-LandingPageLandingPage">Landing Page</a>.</p><p>Within each zone, editors can create <a href="../../display/MAIN/Glossary.html#Glossary-BlockBlock">blocks</a>, the basic segments of a Landing Page, that contain particular content categories. Specific Content items, called <a href="../../display/MAIN/Glossary.html#Glossary-Content">block items</a>, can be added to these blocks.</p><p>The configuration of layout and blocks is stored in the <strong class="final-path">default_layouts.yml</strong> file. For more information about configuration, refer to the <span class="confluence-link"> <a href="../../display/TECHDOC/EzLandingPageFieldTypeBundle%2bConfiguration.html">EzLandingPageFieldTypeBundle Configuration</a> </span> chapter.</p><p>This organization of the layout structure is particularly useful for managing homepages.</p><p> </p></div>
</div>
<div class="cell aside" data-type="aside">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="panel" data-macro-id="009c5dbf-bc80-49bc-bfb3-b827462cb4f3" data-macro-parameters="bgColor=#FFFFFF|title=In this topic|titleBGColor=#dddddd" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading97a2.png?definition=e3BhbmVsOmJnQ29sb3I9I0ZGRkZGRnx0aXRsZUJHQ29sb3I9I2RkZGRkZHx0aXRsZT1JbiB0aGlzIHRvcGljfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">  <img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro4170.png?definition=e3RvY30&amp;locale=en_GB&amp;version=2" data-macro-name="toc" data-macro-id="bbc094ee-8b32-430b-90e3-06ee91389d0e" data-macro-schema-version="1"></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h1><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro0624.png?definition=e2FuY2hvcjpMYXlvdXR9&amp;locale=en_GB&amp;version=2" data-macro-name="anchor" data-macro-id="7e3748e1-222a-4b49-b769-4f374e658600" data-macro-default-parameter="Layout" data-macro-schema-version="1">Layout</h1></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Layout is the way in which a <a href="../../display/MAIN/Glossary.html#Glossary-LandingPage">Landing Page</a> is divided into zones.</p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<ul><li><p>By default, Studio Demo Bundle provides several preset layouts.</p><p style="text-align: center;"><img class="confluence-embedded-image confluence-thumbnail image-center" alt="Layout selection window" src="../servlet/confluence/placeholder/unknown-attachmentbcdc.png?locale=en_GB&amp;version=2" title="landing_page_select_layout.png" data-resource-id="PHJpOmF0dGFjaG1lbnQgcmk6ZmlsZW5hbWU9ImxhbmRpbmdfcGFnZV9zZWxlY3RfbGF5b3V0LnBuZyI+PHJpOnBhZ2Ugcmk6c3BhY2Uta2V5PSJET0NXUklURVJTIiByaTpjb250ZW50LXRpdGxlPSJDcmVhdGluZyBjb250ZW50IChMYW5kaW5nIFBhZ2UpIiAvPjwvcmk6YXR0YWNobWVudD4="> <em> <sub>Select a Layout window with different layouts to choose </sub> </em></p></li></ul><p> </p><p> </p><p style="text-align: left;margin-left: 60.0px;">A Landing Page can have one of two general layout types:</p><ul><li style="list-style-type: none;background-image: none;"><ul><li><p><strong>Static page</strong> is a type of Landing Page with a very basic content structure. It offers very flexible editing of content and layout at the same time, which is useful for example in simple marketing campaigns.<strong> <span> <br /> </span> </strong></p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="c668ceb3-a8fa-46db-9e29-06102978f7e3" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>The <strong>Static </strong>Landing Page is beyond the scope of the first stable release (eZ Enterprise 2016.)</p></td></tr></table></li><li><strong>Dynamic page</strong> is a type of Landing Page with an advanced content structure. It introduces the possibility to manipulate the structure of pages. The dynamic structure is based on zones and easily deployable blocks.</li></ul></li></ul><p class="_mce_tagged_br"> </p><ul><li>You can use any type of layout from the Studio Demo bundle or you can create a new one from scratch. <span style="color: rgb(0,0,0);">You can define as many layouts as you need.</span></li></ul></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h1><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macrod61a.png?definition=e2FuY2hvcjpab25lc30&amp;locale=en_GB&amp;version=2" data-macro-name="anchor" data-macro-id="639f3511-e7ca-4699-84c5-691aa923ac87" data-macro-default-parameter="Zones" data-macro-schema-version="1">Zones</h1></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>As mentioned above, a layout is composed of zones. <span class="DEF"> <span class="DEF">Zones are organized structures that are deployed over a layout in a particular position</span> </span>.</p><p>The placement of zones is defined in a template which is a part of the layout configuration. You can modify the template, hard-coded in HTML, in order to define your own system of zones.</p><p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro2167.png?definition=e2FuY2hvcjpab25lc3RydWN0dXJlfQ&amp;locale=en_GB&amp;version=2" data-macro-name="anchor" data-macro-id="32bfce84-666e-47ca-9f5c-2e277366fd20" data-macro-default-parameter="Zonestructure" data-macro-schema-version="1">Zone structure</h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Each zone contains the following parameters:<strong> <span style="color: rgb(255,0,0);"> <br /> </span> </strong></p><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">&lt;zone_id&gt;</td><td class="confluenceTd"><em>Required</em>. A unique zone ID</td></tr><tr><td class="confluenceTd">&lt;name&gt;</td><td class="confluenceTd"><em>Required</em>. Zone name</td></tr></tbody></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro1b7c.png?definition=e2FuY2hvcjpEZWZpbmluZ2F6b25lbGF5b3V0fQ&amp;locale=en_GB&amp;version=2" data-macro-name="anchor" data-macro-id="f1e755e0-e0d6-4d5b-a2ff-18a072c58f99" data-macro-default-parameter="Definingazonelayout" data-macro-schema-version="1">Defining a zone layout</h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>You can define a new layout file (e.g. in Twig) for a zone and include it in a Landing page layout.<span style="color: rgb(255,0,0);"> <br /> </span></p><p>A Zone is a container for blocks. The best way to display blocks in the zone is to iterate over a blocks array and render the blocks in a loop.</p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="4ef260ad-658d-40b1-aa83-e4a25a77f8de" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p> For eZ Studio, the <strong> <code>data-studio-zone</code> </strong> attribute is required to allow dropping the Content into specific zones.</p></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Example of a zone layout:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="26216f4d-4c69-405c-80cb-f0332839c286" data-macro-parameters="title=zone.html.twig" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading0325.png?definition=e2NvZGU6dGl0bGU9em9uZS5odG1sLnR3aWd9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;div data-studio-zone="{{ zones[0].id }}">										
	{# If a zone with [0] index contains any blocks #}
	{% if zones[0].blocks %}													
    	{# for each block #}
		{% for block in zone[0].blocks %}												
    		{# create a new layer with appropriate id #}
			&lt;div class="landing-page__block block_{{ block.type }}">			
       			{# render the block by using the "ez_block:renderBlockAction" controller #}
				{{ render_esi(controller('ez_block:renderBlockAction', {		
           				{# id of the current content #}
						'contentId': contentInfo.id,							
        				{# id of the current block #}
						'blockId': block.id										
       				})) 
				}}
    		&lt;/div>		
		{% endfor %}	
	{% endif %}
&lt;/div></pre></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h1><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macroe14d.png?definition=e2FuY2hvcjpCbG9ja3N9&amp;locale=en_GB&amp;version=2" data-macro-name="anchor" data-macro-id="5b665997-0e62-42d3-810f-ff3b0267c906" data-macro-default-parameter="Blocks" data-macro-schema-version="1">Blocks</h1></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Blocks are the basic segment of a <a href="../../display/MAIN/Glossary.html#Glossary-LandingPageLandingPage">Landing Page</a> and integral parts of a zone. Each zone can contain a number of <a href="../../display/MAIN/Glossary.html#Glossary-Block" rel="nofollow">blocks</a>.</p><p>Blocks can be placed on a Landing Page using drag-and-drop and later customized.</p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macroa0d2.png?definition=e2FuY2hvcjpDcmVhdGluZ2FuZXdibG9ja30&amp;locale=en_GB&amp;version=2" data-macro-name="anchor" data-macro-id="7e9cf96c-51e1-49d5-b0a4-9f1cc7adf160" data-macro-default-parameter="Creatinganewblock" data-macro-schema-version="1">Creating a new block</h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3>Creating a class for the block</h3></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>The class for the block must implement the <strong> <code>BlockType</code> </strong> interface:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="c314f4af-db7a-44bf-814b-b5eb853c5804" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre> EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\BlockType</pre></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Most methods are implemented in a universal way by using <span>the <strong> <code>AbstractBlockType</code> </strong> abstract class:</span></p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="94ab1edf-dfa6-49a2-a165-515b2758f078" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre> EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\AbstractBlockType </pre></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>If your block does not have specific attributes or a structure, you can extend the <code>
          <strong>AbstractBlockType</strong>
        </code> <strong> </strong>class, which contains simple generic converters designated for the block attributes.</p><p><span>Example:</span></p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="afe82506-823e-4a26-bc08-8fc31d6fc8e4" data-macro-parameters="language=php" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading1802.png?definition=e2NvZGU6bGFuZ3VhZ2U9cGhwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;?php
namespace AcmeDemoBundle\Block;

use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\AbstractBlockType;

/**
* RSS block
* Renders feed from a given URL.
*/
class RSSBlock extends AbstractBlockType
{
   // Class body
}</pre></td></tr></table><p><span> <br /> </span></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3>Describing a class definition</h3><p>A block <strong>must</strong> have a definition set using two classes:</p></div>
</div>
</div>
<div class="columnLayout two-equal" data-layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="column" data-macro-id="91c849ee-9a05-4df2-bdf0-9b8ba7c66e76" data-macro-parameters="width=50%" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading99b3.png?definition=e2NvbHVtbjp3aWR0aD01MCV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>The<strong> </strong> <code>
              <strong>BlockAttributeDefinition</strong>
            </code> class defines the attributes of a block<span>:<br /> </span></p><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Attribute</th><th class="confluenceTh">Type</th><th class="confluenceTh">Definition</th></tr><tr><td class="confluenceTd">$id</td><td class="confluenceTd">string</td><td class="confluenceTd">block attribute ID</td></tr><tr><td class="confluenceTd">$name</td><td class="confluenceTd">string</td><td class="confluenceTd">block attribute name</td></tr><tr><td class="confluenceTd">$type</td><td class="confluenceTd">string</td><td class="confluenceTd">block attribute type, available options are:<br /><ul><li><code>
                        <span style="color: rgb(61,60,64);">integer</span>
                      </code></li><li><code>
                        <span style="color: rgb(61,60,64);">string</span>
                      </code></li><li><code>
                        <span style="color: rgb(61,60,64);">url</span>
                      </code></li><li><code>
                        <span style="color: rgb(61,60,64);">text</span>
                      </code></li><li><code>
                        <span style="color: rgb(61,60,64);">embed</span>
                      </code></li><li><code>
                        <span style="color: rgb(61,60,64);">select</span>
                      </code></li><li><code>
                        <span style="color: rgb(61,60,64);">multiple</span>
                      </code></li></ul></td></tr><tr><td class="confluenceTd">$regex</td><td class="confluenceTd">string</td><td class="confluenceTd">block attribute regex used for validation</td></tr><tr><td class="confluenceTd">$regexErrorMessage</td><td class="confluenceTd">string</td><td class="confluenceTd">message displayed when regex does not match</td></tr><tr><td class="confluenceTd">$required</td><td class="confluenceTd">bool</td><td class="confluenceTd"><code>TRUE</code> if attribute is required</td></tr><tr><td class="confluenceTd">$inline</td><td class="confluenceTd">bool</td><td class="confluenceTd">indicates whether block attribute input should be rendered inline in a form</td></tr><tr><td class="confluenceTd">$values</td><td class="confluenceTd">array</td><td class="confluenceTd">array of chosen values</td></tr><tr><td colspan="1" class="confluenceTd">$options</td><td colspan="1" class="confluenceTd">array</td><td colspan="1" class="confluenceTd">array of available options</td></tr></tbody></table><p><span style="color: rgb(0,0,0);"> <br /> </span></p></td></tr></table></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="column" data-macro-id="6486cda6-cef1-4a9a-8ec4-2fa9984dca1e" data-macro-parameters="width=50%" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading99b3.png?definition=e2NvbHVtbjp3aWR0aD01MCV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>The <code>
              <strong>BlockDefinition</strong>
            </code> class describes a block:</p><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Attribute</th><th class="confluenceTh">Type</th><th class="confluenceTh">Definition</th><th colspan="1" class="confluenceTh">Note</th></tr><tr><td class="confluenceTd"><p>$type</p></td><td class="confluenceTd">string</td><td class="confluenceTd">block type</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">$name</td><td class="confluenceTd">string</td><td class="confluenceTd">block name</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">$category</td><td class="confluenceTd">string</td><td class="confluenceTd">block category</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">$thumbnail</td><td class="confluenceTd">string</td><td class="confluenceTd">path to block thumbnail image</td><td colspan="1" class="confluenceTd"> </td></tr><tr><td class="confluenceTd">$templates</td><td class="confluenceTd">array</td><td class="confluenceTd">array of available paths of templates</td><td colspan="1" class="confluenceTd"><p>Retrieved from the config file (default_layouts.yml)</p></td></tr><tr><td class="confluenceTd">$attributes</td><td class="confluenceTd">array</td><td class="confluenceTd">array of block attributes (objects of <code>
                    <strong>BlockAttributeDefinition</strong>
                  </code> class)</td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table><p><span style="color: rgb(0,0,0);"> <br /> </span></p></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>When extending <strong> <code>AbstractBlockType</code> </strong> you <strong>must</strong> implement at least 3 methods:</p><table class="wysiwyg-macro" data-macro-name="expand" data-macro-id="16799c70-1db4-4857-ad0a-989d2a21e5b1" data-macro-parameters="title=createBlockDefinition()" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading11bf.png?definition=e2V4cGFuZDp0aXRsZT1jcmVhdGVCbG9ja0RlZmluaXRpb24oKX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>This method must return an<strong> <code> EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Definition\BlockDefinition</code> </strong> object.</p><p>Example of a Gallery block:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="df4df0bc-d4ba-40c9-82af-712084199399" data-macro-parameters="language=php" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading1802.png?definition=e2NvZGU6bGFuZ3VhZ2U9cGhwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>/**
 * Creates BlockDefinition object for block type.
 *
 * @return \EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Definition\BlockDefinition
 */
public function createBlockDefinition()
{
    return new BlockDefinition(
        'gallery',
        'Gallery Block',
        'default',
        'bundles/ezsystemslandingpagefieldtype/images/thumbnails/gallery.svg',
        [], 
        [
            new BlockAttributeDefinition(
                'contentId',
                'Folder',
                'embed',
                '/^([a-zA-Z]:)?(\/[a-zA-Z0-9_\/-]+)+\/?/',
                'Choose an image folder'
            ),
        ]
    );
}</pre></td></tr></table></td></tr></table><table class="wysiwyg-macro" data-macro-name="expand" data-macro-id="310a110e-02fb-4345-aec8-73eeb2c10675" data-macro-parameters="title=getTemplateParameters(BlockValue $blockValue)" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingbcf0.png?definition=e2V4cGFuZDp0aXRsZT1nZXRUZW1wbGF0ZVBhcmFtZXRlcnMoQmxvY2tWYWx1ZSAkYmxvY2tWYWx1ZSl9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>This method returns an array of parameters to be displayed in rendered view of block. <span>You can access them directly in a block template (e. g. via twig </span> <code>{{ title }}</code> <span>).</span></p><p> </p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="bb65c34e-f673-423a-aa28-405b1d9728ad" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>When parameters are used in the template you call them directly without the <code>parameters</code> array name:</p><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Correct</th><th class="confluenceTh">Not Correct</th></tr><tr><td class="confluenceTd"><code>
                        <span style="color: rgb(51,153,102);">&lt;h1&gt;{{ title }}&lt;/h1&gt;</span>
                      </code></td><td class="confluenceTd"><s> <code>
                          <span style="color: rgb(255,0,0);">&lt;h1&gt;{{ parameters.title }}&lt;/h1&gt;</span>
                        </code> </s></td></tr></tbody></table></td></tr></table><p> </p><p>Example of the <code>getTemplateParameters()</code> method implementation:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="19810ea5-9aae-4fc5-a7cb-3c7510e10893" data-macro-parameters="language=php" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading1802.png?definition=e2NvZGU6bGFuZ3VhZ2U9cGhwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>/**
* @param \EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\BlockValue $blockValue
*
* @return array
*/
public function getTemplateParameters(BlockValue $blockValue)
{
	$attributes = $blockValue->getAttributes();
	$limit = (isset($attributes['limit'])) ? $attributes['limit'] : 10;
	$offset = (isset($attributes['offset'])) ? $attributes['offset'] : 0;
	$parameters = [
		'title' => $attributes['title'],
		'limit' => $limit,
		'offset' => $offset,
		'feeds' => $this->RssProvider->getFeeds($attributes['url']),
	];
	
	return $parameters;
}</pre></td></tr></table><p><span> </span> <span> <br /> </span></p></td></tr></table><table class="wysiwyg-macro" data-macro-name="expand" data-macro-id="40fd6b6d-fe0c-49ea-9039-34143eb82245" data-macro-parameters="title=checkAttributesStructure(array $attributes)" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading969d.png?definition=e2V4cGFuZDp0aXRsZT1jaGVja0F0dHJpYnV0ZXNTdHJ1Y3R1cmUoYXJyYXkgJGF0dHJpYnV0ZXMpfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>This method validates the input fields for a block. You can specify your own conditions to throw the <code>InvalidBlockAttributeException</code> exception.</p><p>This <code>InvalidBlockAttributeException</code> exception has the following parameters:</p><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><span class="pl-s1"> <span class="pl-smi"> <strong>blockType</strong> </span> </span></td><td class="confluenceTd"><span class="pl-s1"> <span class="pl-smi">name of a block</span> </span></td></tr><tr><td class="confluenceTd"><span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <strong>attribute</strong> </span> </span> </span> </span></td><td class="confluenceTd"><span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi">name of the block's attribute which failed validation</span> </span> </span> </span></td></tr><tr><td class="confluenceTd"><span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <strong>message</strong> </span> </span> </span> </span> </span> </span></td><td class="confluenceTd"><span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi">a short information about an error</span> </span> </span> </span> </span> </span></td></tr><tr><td class="confluenceTd"><span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <strong>previous</strong> </span> </span> </span> </span> </span> </span> </span> </span></td><td class="confluenceTd"><span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi">previous exception, null by default</span> </span> </span> </span> </span> </span> </span> </span></td></tr></tbody></table><p><span class="pl-s1"> </span> <span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <span class="pl-s1"> <span class="pl-smi"> <br /> </span> </span> </span> </span> </span> </span> </span> </span></p><p><span>Example:</span></p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="27cfd909-24e4-433a-9624-d3505b5b1e96" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>/**
 * Checks if block's attributes are valid.
 *
 * @param array $attributes
 *
 * @throws \EzSystems\LandingPageFieldTypeBundle\Exception\InvalidBlockAttributeException
 */
public function checkAttributesStructure(array $attributes)
{
    if (!isset($attributes['url'])) {
        throw new InvalidBlockAttributeException('RSS', 'url', 'URL must be set.');
    }

    if (isset($attributes['limit']) &amp;&amp; (($attributes['limit'] &lt; 1) || (!is_numeric($attributes['limit'])))) {
        throw new InvalidBlockAttributeException('RSS', 'limit', 'Limit must be a number greater than 0.');
    }

    if (isset($attributes['offset']) &amp;&amp; (($attributes['offset'] &lt; 0) || (!is_numeric($attributes['limit'])))) {
        throw new InvalidBlockAttributeException('RSS', 'offset', 'Offset must be a number no less than 0.');
    }
}</pre></td></tr></table></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="2cccc9fa-96b1-4cae-bafe-19e415cb94b3" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>When the class is created make sure it is added to a container.</p></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3>Adding the class to the container</h3></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p> The <strong>services.yml</strong> file must contain info about your block class.</p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="4bd59a7d-c69a-4db5-8dbd-ba7ded416211" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>The description of your class must contain a tag which provides:</p><ul><li>tag name: <strong>landing_page_field_type.block_type</strong></li><li>tag alias: &lt;name of a block&gt;</li></ul></td></tr></table><p> </p><p>An example:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="64487ae1-61fa-4e0b-83a3-a5aeee406c9d" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>acme.landing_page.block.rss: 											# service id
       class: AcmeDemoBundle\FieldType\LandingPage\Model\Block\RSSBlock # block's class with namespace
       tags: 															# service definition must contain tag with 
           - { name: landing_page_field_type.block_type, alias: rss}	# "landing_page_field_type.block_type" name and block name as an alias
</pre></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h1><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro4d96.png?definition=e2FuY2hvcjpSZW5kZXJpbmdMYW5kaW5nUGFnZX0&amp;locale=en_GB&amp;version=2" data-macro-name="anchor" data-macro-id="c1bbfa6c-87a8-4d33-9ccc-4a5344d11b44" data-macro-default-parameter="RenderingLandingPage" data-macro-schema-version="1">Rendering Landing Page</h1></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><span lang="en">Landing page rendering takes place while editing or viewing.</span></p><p>When rendering a Landing Page, its zones are passed to the layout as a <code>zones</code> array with a <code>blocks</code> array each. You can simply access them using twig (e.g.<strong> <code>{{ zones[0].id }}</code> </strong> ).</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="7acdff00-2c4b-47eb-8287-439db3770996" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Each div that's a zone or zone's container should have data attributes:</p><ul><li><strong> <code>data-studio-zones-container</code> </strong> for a div containing zones</li><li><strong> <code>data-studio-zone</code> </strong> with zone ID as a value for a zone container</li></ul></td></tr></table><p> </p><p>To render a block inside the layout, use twig <em> <strong> <code>render_esi()</code> </strong> </em> function to call <code>
          <strong>ez_block:renderBlockAction</strong>
        </code>. </p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="82cba84e-05ef-4ac8-bf1c-81bb0ff94a42" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><code>
              <strong>ez_block</strong>
            </code> is an alias to <strong style="line-height: 1.42857;"> <code>EzSystems\LandingPageFieldTypeBundle\Controller\BlockController</code> </strong></p></td></tr></table><p> </p><p>An action has the following parameters:</p><ul><li><code>
            <strong>contentId</strong>
          </code> - ID of content which can be accessed by <code>
            <strong>contentInfo.id</strong>
          </code></li><li><code>
            <strong>blockId</strong>
          </code> - ID of block which you want to render</li></ul><p> </p><p>Example usage:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="faa2e198-22f1-4f1b-bd37-924815ffe665" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{{ render_esi(controller('ez_block:renderBlockAction', {
		'contentId': contentInfo.id,
    	'blockId': block.id
	})) 
}}</pre></td></tr></table><p> </p><p>As a whole a sample layout could look as follows:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="946757bd-40e5-4f89-bd25-4d3d0af0bc49" data-macro-parameters="language=xml|title=landing_page_simple_layout.html.twig" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading0734.png?definition=e2NvZGU6bGFuZ3VhZ2U9eG1sfHRpdGxlPWxhbmRpbmdfcGFnZV9zaW1wbGVfbGF5b3V0Lmh0bWwudHdpZ30&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{# a layer of the required "data-studio-zones-container" attribute, in which zones will be displayed #}
&lt;div data-studio-zones-container>
	 {# a layer of the required attribute for the displayed zone #}
	 &lt;div data-studio-zone="{{ zones[0].id }}">										
		{# If a zone with [0] index contains any blocks #}
		{% if zones[0].blocks %}													
    		{# for each block #}
			{% for block in blocks %}												
    			{# create a new layer with appropriate id #}
				&lt;div class="landing-page__block block_{{ block.type }}">			
        			{# render the block by using the "ez_block:renderBlockAction" controller #}
					{{ render_esi(controller('ez_block:renderBlockAction', {		
            				{# id of the current content #}
							'contentId': contentInfo.id,							
            				{# id of the current block #}
							'blockId': block.id										
        				})) 
					}}
    			&lt;/div>
			{% endfor %}
		{% endif %}
    &lt;/div>
&lt;/div>

</pre></td></tr></table><p> </p><p> </p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h1><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro850d.png?definition=e2FuY2hvcjpWaWV3aW5ndGVtcGxhdGV9&amp;locale=en_GB&amp;version=2" data-macro-name="anchor" data-macro-id="6e0e1e43-2848-4737-a204-f6bff1ac79fe" data-macro-default-parameter="Viewingtemplate" data-macro-schema-version="1">Viewing template</h1></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Your view is populated with data (parameters) retrieved from the <strong> <code>getTemplateParameters()</code> </strong> method which must be implemented in your block's class.</p><p>Example:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="4fbdb7fe-25e8-4efc-b6b1-5295caf69db0" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>/**
    * @param \EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\BlockValue $blockValue
    *
    * @return array
    */
   public function getTemplateParameters(BlockValue $blockValue)
   {
       $attributes = $blockValue->getAttributes();
       $limit = (isset($attributes['limit'])) ? $attributes['limit'] : 10;
       $offset = (isset($attributes['offset'])) ? $attributes['offset'] : 0;
       $parameters = [
           'title' => $attributes['title'],
           'limit' => $limit,
           'offset' => $offset,
           'feeds' => $this->RssProvider->getFeeds($attributes['url']),
       ];
       return $parameters;
   }</pre></td></tr></table></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h1>Implementation Example</h1></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2>Block Class</h2><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="9dd4e8ed-a1ca-4b07-9d47-b06ae82e7388" data-macro-parameters="language=php|title=TagBlock.php" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading21df.png?definition=e2NvZGU6bGFuZ3VhZ2U9cGhwfHRpdGxlPVRhZ0Jsb2NrLnBocH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;?php
/**
 * @copyright Copyright (C) eZ Systems AS. All rights reserved.
 * @license For full copyright and license information view LICENSE file distributed with this source code.
 */
namespace EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\Block;

use EzSystems\LandingPageFieldTypeBundle\Exception\InvalidBlockAttributeException;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Definition\BlockDefinition;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Definition\BlockAttributeDefinition;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\AbstractBlockType;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\BlockType;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\BlockValue;

/**
 * Tag block
 * Renders simple HTML.
 */
class TagBlock extends AbstractBlockType implements BlockType
{
    /**
     * Returns array of parameters required to render block template.
     *
     * @param array $blockValue Block value attributes
     *
     * @return array Template parameters
     */
    public function getTemplateParameters(BlockValue $blockValue)
    {
        return ['block' => $blockValue];
    }

	/**
 	 * Creates BlockDefinition object for block type.
 	 *
 	 * @return \EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Definition\BlockDefinition
 	 */
    public function createBlockDefinition()
    {
        return new BlockDefinition(
            'tag',
            'Tag Block',
            'default',
            'bundles/ezsystemslandingpagefieldtype/images/thumbnails/tag.svg',
            [],
            [
                new BlockAttributeDefinition(
                    'content',
                    'Content',
                    'text',
                    '/[^\\s]/',
                    'Provide html code'
                ),
            ]
        );
    }

	/**
 	 * Checks if block's attributes are valid.
	 *
	 * @param array $attributes
	 *
	 * @throws \EzSystems\LandingPageFieldTypeBundle\Exception\InvalidBlockAttributeException
	 */
    public function checkAttributesStructure(array $attributes)
    {
        if (!isset($attributes['content'])) {
            throw new InvalidBlockAttributeException('Tag', 'content', 'Content must be set.');
        }
    }
}

</pre></td></tr></table><h2>service.yml configuration</h2><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="d4c33bde-4341-47c2-a2c0-10a0e7868aac" data-macro-parameters="language=text|title=services.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading93b2.png?definition=e2NvZGU6bGFuZ3VhZ2U9dGV4dHx0aXRsZT1zZXJ2aWNlcy55bWx9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>ezpublish.landing_page.block.tag:
    class: EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\Block\TagBlock
    tags:
        - { name: landing_page_field_type.block_type, alias: tag }</pre></td></tr></table><h2><span>Block template</span></h2><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="e41c806d-b1a0-4490-917c-1566854e9cad" data-macro-parameters="language=text|title=tag.html.twig" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading1ef0.png?definition=e2NvZGU6bGFuZ3VhZ2U9dGV4dHx0aXRsZT10YWcuaHRtbC50d2lnfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{{ block.attributes.content|raw }}</pre></td></tr></table></div>
</div>
</div>
</div>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=30712248 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 08:33:49 GMT -->
</html>
