                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=30711198 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:59:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagef100.html?pageId=30711198" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/colors82a8.css?spaceKey=TECHDOC" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/custom82a8.css?spaceKey=TECHDOC" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <p><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholder0dad.png?title=rewrite&amp;colour=Red" data-macro-name="status" data-macro-id="d00ea380-7929-4c79-8771-a5ff092f0990" data-macro-parameters="colour=Red|title=rewrite" data-macro-schema-version="1"></p><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro4170.png?definition=e3RvY30&amp;locale=en_GB&amp;version=2" data-macro-name="toc" data-macro-id="687566c8-e0a9-41b7-a74a-488b27d7d0e9" data-macro-schema-version="1"></p><h2>The ViewController</h2><p>eZ Platform comes with a native controller to display your content, known as the <strong><code>ViewController</code></strong>. It is called each time you try to reach a Content item from its <strong>Url Alias</strong> (human readable, translatable URI generated for any content based on URL patterns defined per Content Type) and is able to render any content previously edited in the admin interface or via the <a class="confluence-link" href="../../display/TECHDOC/PHP%2bAPI%2bTutorials.html" data-linked-resource-id="30711119" data-linked-resource-version="4" data-linked-resource-type="page" data-linked-resource-default-alias="PHP API Tutorials" data-base-url="https://doc.ez.no">PHP API Tutorials</a>.</p><p>It can also be called straight by its direct URI : <code>/content/view/&lt;contentId&gt;/&lt;languageCode&gt;</code></p><p>A Content item can also have different <strong>view types</strong> (full page, abstract in a list, block in a landing page, etc.). By default the view type is <strong>full</strong> (for full page), but it can be anything (<em>line</em>, <em>block, etc</em>.).</p><table class="wysiwyg-macro" data-macro-name="warning" data-macro-id="dd6c4dc5-963b-446e-bba8-ca9e5db1d1da" data-macro-parameters="title=Important note regarding visibility" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingf3a2.png?definition=e3dhcm5pbmc6dGl0bGU9SW1wb3J0YW50IG5vdGUgcmVnYXJkaW5nIHZpc2liaWxpdHl9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>The Location visibility flag, which you can change by hiding/revealing in the Platform UI, is not permission-based and thus acts as a simple potential filter. <strong>It is not meant to restrict access to content</strong>.</p><p>If you need to restrict access to a given Content item, use <strong>Sections </strong>or<strong> Object states</strong>, which are permission-based.</p></td></tr></table><p> </p><h2>View selection</h2><p>To display a Content item, the ViewController uses a view manager which selects the appropriate template depending on matching rules.</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="18414392-cc06-4442-9661-52995d46dccb" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">For more information about the <strong>view provider configuration</strong>, please <a class="confluence-link" href="../../display/TECHDOC/View%2bprovider%2bconfiguration.html" data-linked-resource-id="30711180" data-linked-resource-version="8" data-linked-resource-type="page" data-linked-resource-default-alias="View provider configuration" data-base-url="../../index.html">refer to the dedicated page</a>.</td></tr></table><table class="wysiwyg-macro" data-macro-name="tip" data-macro-id="4d4df066-b91f-46ab-8f9c-860102e4594b" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading7f8c.png?definition=e3RpcH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>You can also <a class="confluence-link" href="../../display/TECHDOC/How%2bto%2buse%2ba%2bcustom%2bcontroller%2bto%2bdisplay%2ba%2bcontent%2bitem%2bor%2blocation.html" data-linked-resource-id="30711499" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="How to use a custom controller to display a content item or location" data-base-url="../../index.html">use your own custom controller to render a content item/location</a>.</p></td></tr></table><h2>Content view templates</h2><p>A content view template is like any other template, with several specific aspects.</p><h3>Available variables</h3><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Variable name</th><th class="confluenceTh">Type</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><strong><code>location</code></strong></td><td class="confluenceTd"><a href="https://github.com/ezsystems/ezp-next/blob/master/eZ/Publish/Core/Repository/Values/Content/Location.php">eZ\Publish\Core\Repository\Values\Content\Location</a><a href="https://github.com/ezsystems/ezp-next/blob/master/eZ/Publish/Core/Repository/Values/Content/Content.php" /></td><td class="confluenceTd">The Location object. Contains meta information on the content (<a href="https://github.com/ezsystems/ezp-next/blob/master/eZ/Publish/Core/Repository/Values/Content/ContentInfo.php">ContentInfo</a>)<br />(only when accessing a Location) </td></tr><tr><td colspan="1" class="confluenceTd"><code><strong>content</strong></code></td><td colspan="1" class="confluenceTd"><a href="https://github.com/ezsystems/ezp-next/blob/master/eZ/Publish/Core/Repository/Values/Content/Content.php">eZ\Publish\Core\Repository\Values\Content\Content</a></td><td colspan="1" class="confluenceTd">The Content item, containing all Fields and version information (<a href="https://github.com/ezsystems/ezp-next/blob/master/eZ/Publish/Core/Repository/Values/Content/VersionInfo.php">VersionInfo</a>)</td></tr><tr><td colspan="1" class="confluenceTd"><code><strong>noLayout</strong></code></td><td colspan="1" class="confluenceTd">Boolean</td><td colspan="1" class="confluenceTd">If true, indicates if the Content item/Location is to be displayed without any pagelayout (i.e. AJAX, sub-requests, etc.).<br />It's generally <code>false</code> when displaying a Content item in view type <strong>full</strong>.</td></tr><tr><td colspan="1" class="confluenceTd"><code><strong>viewBaseLayout</strong></code></td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">The base layout template to use when the view is requested to be generated outside of the pagelayout (when <code>noLayout</code> is true).</td></tr></tbody></table><h3>Template inheritance and sub-requests</h3><p>Like any template, a content view template can use <a href="http://symfony.com/doc/current/book/templating.html#template-inheritance-and-layouts">template inheritance</a>. However keep in mind that your content may be also requested via <a href="http://symfony.com/doc/current/book/templating.html#embedding-controllers" style="line-height: 1.42857;">sub-requests</a> (see below how to render embedded content objects), in which case you probably don't want the global layout to be used.</p><p>If you use different templates for embedded content views, this should not be a problem. If you'd rather use the same template, you can use an extra <code>noLayout</code> view parameter for the sub-request, and conditionally extend an empty pagelayout:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="d14aea29-0d80-4f2f-91cd-b2dcb232337a" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{% extends noLayout ? viewbaseLayout : "AcmeDemoBundle::pagelayout.html.twig" %}

{% block content %}
...
{% endblock %}</pre></td></tr></table><h3><span style="color: rgb(0,98,147);">Rendering Content item's Fields</span></h3><p>As stated above, a view template receives the requested Content item, holding all Fields.</p><p>In order to display the Fields' value the way you want, you can either manipulate the Field Value object itself, or use a custom template.</p><h4>Getting raw Field value</h4><p>Having access to the Content item in the template, you can use <a href="https://github.com/ezsystems/ezpublish-kernel/blob/master/eZ/Publish/Core/Repository/Values/Content/Content.php">its public methods</a> to access all the information you need. You can also use the <a class="confluence-link" href="../../display/TECHDOC/ez_field_value.html" data-linked-resource-id="30711460" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="ez_field_value" data-base-url="../../index.html">ez_field_value</a> helper to get the <a class="confluence-link" href="../../display/EZP/FieldTypes%2breference.html" data-linked-resource-id="10158198" data-linked-resource-version="50" data-linked-resource-type="page" data-linked-resource-default-alias="FieldTypes reference" data-base-url="../../index.html">Field value</a>. It will return the correct language if there are several, based on language priorities.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="e10147e4-1b4b-45ca-bfbc-ecc287cec561" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{# With the following, myFieldValue will be in the content's main language, regardless of the current language #}
{% set myFieldValue = content.getFieldValue( 'some_field_identifier' ) %}
 
{# Here myTranslatedFieldValue will be in the current language if a translation is available. If not, the content's main language will be used #}
{% set myTranslatedFieldValue = ez_field_value( content, 'some_field_identifier' ) %}</pre></td></tr></table><h4>Using the Field Type's template block</h4><p>All built-in Field Types come with <a href="https://github.com/ezsystems/ezpublish-kernel/blob/master/eZ/Bundle/EzPublishCoreBundle/Resources/views/content_fields.html.twig">their own Twig template</a>. You can render any Field using this default template using the <code>ez_render_field()</code> helper.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="398f6db4-b847-4579-9b32-7ca904f56ec2" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{{ ez_render_field( content, 'some_field_identifier' ) }}</pre></td></tr></table><p>Refer to <a class="confluence-link" href="../../display/TECHDOC/ez_render_field.html" data-linked-resource-id="30711458" data-linked-resource-version="2" data-linked-resource-type="page" data-linked-resource-default-alias="ez_render_field" data-base-url="../../index.html"><code>ez_render_field()</code> reference page</a> for further information.</p><table class="wysiwyg-macro" data-macro-name="tip" data-macro-id="4f48a0d7-6efe-40e2-9f4b-e6ca87d180db" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading7f8c.png?definition=e3RpcH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>As this makes use of reusable templates, <strong>using <code>ez_render_field()</code> is the recommended way and is to be considered the best practice</strong>.</p></td></tr></table><h3>Rendering Content name</h3><p>The <strong>name</strong> of a Content item is its generic &quot;title&quot;, generated by the repository based on the Content Type's naming pattern. It often takes the form of a normalized value of the first field, but might be a concatenation of several fields. There are 2 different ways to access to this special property:</p><ul><li>Through the name property of ContentInfo (not translated).</li><li>Through VersionInfo with the TranslationHelper (translated).</li></ul><h4>Translated name</h4><p><span>The <em>translated name</em> is held in a <code>VersionInfo</code> object, in the names property which consists of hash indexed by locale. You can easily retrieve it in the right language via the <code>TranslationHelper</code> service.</span></p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="b5387130-17f5-4078-aa9a-0f728f714aae" data-macro-parameters="language=html/xml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading26b2.png?definition=e2NvZGU6bGFuZ3VhZ2U9aHRtbC94bWx9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;h2>Translated content name: {{ ez_content_name( content ) }}&lt;/h2>
&lt;h3>Also works from ContentInfo : {{ ez_content_name( content.contentInfo ) }}&lt;/h3></pre></td></tr></table><p>The helper will by default follow the prioritized languages order. If there is no translation for your prioritized languages, the helper will always return the name in the main language.</p><p>You can also <strong>force a locale</strong> in a second argument:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="7a074f1e-030c-4225-810c-98ec8343c3c9" data-macro-parameters="language=html/xml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading26b2.png?definition=e2NvZGU6bGFuZ3VhZ2U9aHRtbC94bWx9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{# Force fre-FR locale. #}
&lt;h2>{{ ez_content_name( content, 'fre-FR' ) }}&lt;/h2></pre></td></tr></table><p>You can refer to <a class="confluence-link" href="../../display/TECHDOC/ez_content_name.html" data-linked-resource-id="30711459" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="ez_content_name" data-base-url="../../index.html">ez_content_name() reference page</a> for further information.</p><h4>Name property in ContentInfo</h4><p>This property is the actual content name, but <strong>in main language only</strong> (so it is not translated).</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="b5fa81b9-3a89-4e44-85b6-d6801403f0f6" data-macro-parameters="language=html/xml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading26b2.png?definition=e2NvZGU6bGFuZ3VhZ2U9aHRtbC94bWx9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;h2>Content name: {{ content.contentInfo.name }}&lt;/h2></pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="dab97f1c-21ee-4bde-b5c1-24e8d48aa5dc" data-macro-parameters="language=php" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading1802.png?definition=e2NvZGU6bGFuZ3VhZ2U9cGhwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$contentName = $content->contentInfo->name;</pre></td></tr></table><h4><span style="font-size: 16.0px;line-height: 1.5;">Exposing additional variables</span></h4><p>It is possible to expose additional variables in a content view template. See <a class="confluence-link" href="../../display/TECHDOC/Parameters%2binjection%2bin%2bcontent%2bviews.html" data-linked-resource-id="30711157" data-linked-resource-version="2" data-linked-resource-type="page" data-linked-resource-default-alias="Parameters injection in content views" data-base-url="../../index.html">parameters injection in content views</a> or <a class="confluence-link" href="../../display/TECHDOC/How%2bto%2buse%2ba%2bcustom%2bcontroller%2bto%2bdisplay%2ba%2bcontent%2bitem%2bor%2blocation.html" data-linked-resource-id="30711499" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="How to use a custom controller to display a content item or location" data-base-url="../../index.html">using your own custom controller to render a content item/location</a>.</p><h2>Making links to other locations</h2><p>Linking to other locations is fairly easy and is done with a <a href="http://symfony.com/doc/2.3/book/templating.html#linking-to-pages">native <code>path()</code> Twig helper</a> (or <code>url()</code> if you want to generate absolute URLs). You just have to pass it the Location object and <code>path()</code> will generate the URLAlias for you.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="48d07a5a-e551-4f27-9958-1c1030c4466b" data-macro-parameters="language=xml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingf20b.png?definition=e2NvZGU6bGFuZ3VhZ2U9eG1sfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{# Assuming "location" variable is a valid eZ\Publish\API\Repository\Values\Content\Location object #}
&lt;a href="{{ path( location ) }}">Some link to a location&lt;/a></pre></td></tr></table><p>If you don't have the Location object, but only its ID, you can generate the URLAlias the following way:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="900dd26d-1f04-46f5-8a05-1b2a41d47a9a" data-macro-parameters="language=xml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingf20b.png?definition=e2NvZGU6bGFuZ3VhZ2U9eG1sfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;a href="{{ path( "ez_urlalias", {"locationId": 123} ) }}">Some link to a location, with its Id only&lt;/a></pre></td></tr></table><p>You can also use the Content ID. In that case the generated link will point to the Content item's main Location.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="ac44c244-19ea-488a-bf9c-2c8d0fba0a63" data-macro-parameters="language=xml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingf20b.png?definition=e2NvZGU6bGFuZ3VhZ2U9eG1sfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;a href="{{ path( "ez_urlalias", {"contentId": 456} ) }}">Some link from a contentId&lt;/a></pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="d880a07c-e461-4826-bb56-7fa127113026" data-macro-parameters="title=Under the hood" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingae26.png?definition=e2luZm86dGl0bGU9VW5kZXIgdGhlIGhvb2R9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>In the backend, <code>path()</code> uses the Router to generate links.</p><p>This makes it also easy to generate links from PHP, via the <code>router</code> service.</p></td></tr></table><p>See also: <a class="confluence-link" href="../../display/TECHDOC/Cross-siteaccess%2blinks.html" data-linked-resource-id="30711171" data-linked-resource-version="5" data-linked-resource-type="page" data-linked-resource-default-alias="Cross-siteaccess links" data-base-url="../../index.html">Cross-siteaccess links</a></p><h2>Render embedded content objects</h2><p>Rendering an embedded content from a Twig template is pretty straight forward as you just need to <strong>do a subrequest with <code>ez_content</code> controller</strong>.</p><h3>Using <code>ez_content</code> controller</h3><p>This controller is exactly the same as <a class="confluence-link" href="#Contentview-TheViewController" data-anchor="TheViewController" data-linked-resource-default-alias="TheViewController" data-base-url="../../index.html">the ViewController presented above</a>. It has one main <code>viewAction</code>, that renders a Content item.</p><p>You can use this controller from templates with the following syntax:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="3e3c873b-46f8-4031-aa35-e04ce754d0d8" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{{ render( controller( "ez_content:viewAction", {"contentId": 123, "viewType": "line"} ) ) }}</pre></td></tr></table><p> </p><p>The example above renders the Content whose ID is <strong>123</strong>, with the view type <strong>line</strong>.</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="8a3fdab3-5444-4f47-b43c-80193aa88fb3" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Reference of <code>ez_content</code> controller follows the syntax of <em>controllers as a service</em>, <a href="http://symfony.com/doc/current/cookbook/controller/service.html">as explained in Symfony documentation</a>.</p></td></tr></table><h4>Available arguments</h4><p>As with any controller, you can pass arguments to <code>ez_content:viewLocation</code> or <code>ez_content:viewContent</code> to fit your needs.</p><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Name</th><th class="confluenceTh">Description</th><th class="confluenceTh">Type</th><th colspan="1" class="confluenceTh">Default value</th></tr><tr><td class="confluenceTd"><code>contentId</code></td><td class="confluenceTd"><p>ID of the Content item you want to render.<br /><strong>Only for <code>ez_content:viewContent</code></strong> </p></td><td class="confluenceTd">integer</td><td class="confluenceTd">N/A</td></tr><tr><td class="confluenceTd"><code>locationId</code></td><td class="confluenceTd">ID of the Location you want to render.<br /><strong>Only for <code>ez_content:viewLocation</code></strong> </td><td class="confluenceTd">integer</td><td colspan="1" class="confluenceTd">Content item's main location, if defined</td></tr><tr><td colspan="1" class="confluenceTd"><code>viewType</code></td><td colspan="1" class="confluenceTd"><p>The view type you want to render your Content item/Location in.<br />Will be used by the ViewManager to select a corresponding template, according to defined rules. </p><p>Example: full, line, my_custom_view, etc.</p></td><td colspan="1" class="confluenceTd">string</td><td colspan="1" class="confluenceTd">full</td></tr><tr><td colspan="1" class="confluenceTd"><code>layout</code></td><td colspan="1" class="confluenceTd"><p>Indicates if the sub-view needs to use the main layout (see <a class="confluence-link" href="#Contentview-Availablevariables" data-anchor="Availablevariables" data-linked-resource-default-alias="Availablevariables" data-base-url="../../index.html">available variables in a view template</a>)</p><p> </p></td><td colspan="1" class="confluenceTd">boolean</td><td colspan="1" class="confluenceTd">false</td></tr><tr><td colspan="1" class="confluenceTd"><code>params</code></td><td colspan="1" class="confluenceTd"><p>Hash of variables you want to inject to sub-template, key being the exposed variable name.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="488c6d91-a099-4cb6-bd57-bb20175ef779" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{{ render(
      controller( 
          "ez_content:viewAction", 
          {
              "contentId": 123,
              "viewType": "line",
              "params": { "some_variable": "some_value" }
          }
      )
) }}</pre></td></tr></table></td><td colspan="1" class="confluenceTd">hash</td><td colspan="1" class="confluenceTd">empty hash</td></tr></tbody></table><h2 class="gh-header-title"><span class="js-issue-title">Render block</span></h2><p>You can specify which controller will be called for a specific block view match, much like defining custom controllers for location view or content view match.</p><p>Also, since there are two possible actions with which one can view a block: <code>ez_page:viewBlock</code> and <code>ez_page:viewBlockById</code>, it is possible to specify a controller action with a signature matching either one of the original actions.</p><p>Example of configuration in <code>app/config/ezplatform.yml</code>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="3a73f719-1fec-4c7c-8ad9-a11b8f292b02" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>ezpublish:
    system:
        eng_frontend_group:
            block_view:
                ContentGrid:
                    template: NetgenSiteBundle:block:content_grid.html.twig
                    controller: NetgenSiteBundle:Block:viewContentGridBlock
                    match:
                        Type: ContentGrid
</pre></td></tr></table><h2>ESI</h2><p>Just as for regular Symfony controllers, you can take advantage of ESI and use different cache levels:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="33170b75-433a-400a-ae13-06b7534396f9" data-macro-parameters="title=Using ESI" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd41c.png?definition=e2NvZGU6dGl0bGU9VXNpbmcgRVNJfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{{ render_esi( controller( "ez_content:viewAction", {"contentId": 123, "viewType": "line"} ) ) }}</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="50c16682-4039-47e1-83d0-9206eef8c63b" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Only scalable variables can be sent via render_esi (not object)</p></td></tr></table><p> </p><h2>Asynchronous rendering</h2><p>Symfony also supports asynchronous content rendering with the help of <a href="http://mnot.github.com/hinclude/">hinclude.js</a> library.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="c76dcea1-b78e-425f-b560-e044fc2d6d53" data-macro-parameters="title=Asynchronous rendering" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading3ca4.png?definition=e2NvZGU6dGl0bGU9QXN5bmNocm9ub3VzIHJlbmRlcmluZ30&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{{ render_hinclude( controller( "ez_content:viewAction", {"contentId": 123, "viewType": "line"} ) ) }}</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="7930fc38-09f0-46a9-865c-516ec1dd285f" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Only scalable variables can be sent via render_hinclude (not object)</p></td></tr></table><h3>Display a default text</h3><p>If you want to display a default text while a controller is loaded asynchronously, you have to pass a second parameter to your render_hinclude twig function.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="572f5e1b-787c-444d-b191-d874bdadc4f7" data-macro-parameters="title=Display a default text during asynchronous loading of a controller" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingc970.png?definition=e2NvZGU6dGl0bGU9RGlzcGxheSBhIGRlZmF1bHQgdGV4dCBkdXJpbmcgYXN5bmNocm9ub3VzIGxvYWRpbmcgb2YgYSBjb250cm9sbGVyfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{{ render_hinclude( controller( 'EzCorporateDesignBundle:Header:userLinks' ), { 'default': "&lt;div style='color:red'>loading&lt;/div>" }) }}</pre></td></tr></table><p>See also: <a class="confluence-link" href="../../display/TECHDOC/How%2bto%2buse%2ba%2bcustom%2bcontroller%2bto%2bdisplay%2ba%2bcontent%2bitem%2bor%2blocation.html" data-linked-resource-id="30711499" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="How to use a custom controller to display a content item or location" data-base-url="../../index.html">How to use a custom controller to display a content item or location</a></p><p> </p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="e008d201-008b-4302-8295-e9c42ff69c22" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><a href="http://mnot.github.com/hinclude/">hinclude.js</a> needs to be properly included in your layout to work.</p><p>Please <a href="http://symfony.com/doc/current/book/templating.html#asynchronous-content-with-hinclude-js">refer to Symfony documentation</a> for all available options.</p></td></tr></table><p> </p><h5>Related topics:</h5><ul><li><a class="confluence-link" href="../../display/TECHDOC/View%2bprovider%2bconfiguration.html" data-linked-resource-id="30711180" data-linked-resource-version="8" data-linked-resource-type="page" data-linked-resource-default-alias="View provider configuration" data-base-url="../../index.html">View provider configuration</a></li><li><a class="confluence-link" href="../../display/TECHDOC/Default%2bview%2btemplates.html" data-linked-resource-id="31424859" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="Default view templates" data-base-url="../../index.html">Default view templates</a></li><li><a class="confluence-link" href="../../display/TECHDOC/Parameters%2binjection%2bin%2bcontent%2bviews.html" data-linked-resource-id="30711157" data-linked-resource-version="2" data-linked-resource-type="page" data-linked-resource-default-alias="Parameters injection in content views" data-base-url="../../index.html">Parameters injection in content views</a></li><li><a class="confluence-link" href="../../display/TECHDOC/How%2bto%2buse%2ba%2bcustom%2bcontroller%2bto%2bdisplay%2ba%2bcontent%2bitem%2bor%2blocation.html" data-linked-resource-id="30711499" data-linked-resource-version="3" data-linked-resource-type="page" data-linked-resource-default-alias="How to use a custom controller to display a content item or location" data-base-url="../../index.html">How to use a custom controller to display a content item or location</a></li></ul>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=30711198 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:59:20 GMT -->
</html>
