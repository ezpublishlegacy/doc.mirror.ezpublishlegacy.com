                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=32868245 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:26:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagebc38.html?pageId=32868245" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/6/_/styles/colors74cd.css?spaceKey=DEVELOPER" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/6/_/styles/custom74cd.css?spaceKey=DEVELOPER" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <div class="contentLayout2">
<div class="columnLayout two-right-sidebar" data-layout="two-right-sidebar">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="tip" data-macro-id="ad6eaf0f-8153-4f0c-8938-961991c9f22f" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading7f8c.png?definition=e3RpcH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>You can find all files used and modified in this step on <a href="https://github.com/ezsystems/ezstudio-beginner-tutorial/tree/step3">GitHub</a>.</p></td></tr></table><p>In this step you'll add a Content List Block and two Schedule Blocks and customize them.</p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="65ccbe44-1295-4899-9acd-2f5cdfff4062" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>In this step pay close attention to the order of tasks. If you overlook a configuration file and try to generate a Landing Page without it, the Landing Page may become corrupted in the database. You may then get a 500 error when trying to access it. If this happens, you should delete the page and create it again from scratch.</p></td></tr></table><h3>Add Content List Block</h3><p>At this point you can start adding blocks to the Landing Page. This is done in the Studio UI Edit mode <span class="inline-comment-marker" data-ref="0bee0f48-e7a8-43db-818c-3c115b70a257">by simply dragging</span> the required block from the menu on the right to the correct zone on the page.</p><p><img class="confluence-embedded-image image-center" alt="Content List block dragged onto a page" height="250" src="../../download/attachments/32868245/iadw_drag_blockd744.gif?version=2&amp;modificationDate=1482149536000&amp;api=v2" data-image-src="/download/attachments/32868245/iadw_drag_block.gif?version=2&amp;modificationDate=1482149536000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="32868238" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="iadw_drag_block.gif" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/gif" data-linked-resource-container-id="32868245" data-linked-resource-container-version="9" title="Developer > Step 3 - Using existing blocks > iadw_drag_block.gif" data-location="Developer > Step 3 - Using existing blocks > iadw_drag_block.gif" data-image-height="378" data-image-width="591"></p><p>Not all the blocks we have planned are available to you just yet, so let's start with the simplest one. Drag a Content List Block from the menu to the right column, <span class="inline-comment-marker" data-ref="f4a6c145-551a-4abb-978d-6df0ccc785fb">click the (still empty) block and enter its settings</span>. Here you give a name to the block and decide what it will display. Choose the Dog Breed Catalog folder as the Parent, select Dog Breed as the Content Type to be displayed, and choose a limit. In our case we'll display the first three Dog Breeds we have in our database.</p><p><img class="confluence-embedded-image image-center" alt="Window with Content List options" width="400" src="../../download/attachments/32868245/iadw_content_list_window5b96.png?version=1&amp;modificationDate=1478253429000&amp;api=v2" data-image-src="/download/attachments/32868245/iadw_content_list_window.png?version=1&amp;modificationDate=1478253429000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="32868237" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="iadw_content_list_window.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="32868245" data-linked-resource-container-version="9" title="Developer > Step 3 - Using existing blocks > iadw_content_list_window.png" data-location="Developer > Step 3 - Using existing blocks > iadw_content_list_window.png" data-image-height="548" data-image-width="586"></p><p>When you click Submit, you should see a preview of what the block will look like with the dog breed information displayed.</p><p><img class="confluence-embedded-image confluence-thumbnail image-center" alt="Content List Unstyled" width="300" src="../../download/thumbnails/32868245/iadw_content_list_unstyled5b96.png?version=1&amp;modificationDate=1478253429000&amp;api=v2" data-image-src="/download/attachments/32868245/iadw_content_list_unstyled.png?version=1&amp;modificationDate=1478253429000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="32868244" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="iadw_content_list_unstyled.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="32868245" data-linked-resource-container-version="9" title="Developer > Step 3 - Using existing blocks > iadw_content_list_unstyled.png (Content List Unstyled)" data-location="Developer > Step 3 - Using existing blocks > iadw_content_list_unstyled.png" data-element-title="Content List Unstyled" data-image-height="225" data-image-width="390">As you can see, the block is displayed using a very basic, unstyled template. <span class="inline-comment-marker" data-ref="5135d136-e601-4acd-ad23-622252bfaa0c">Built-in blocks have default templates</span> already included in the installation, and it's this one that is being used right now. But you can override it according to your needs, and add templates for new custom blocks that you create (which we'll do in the next step). Publish the page now and we'll start configuring the block.</p><p>First let's create an override template for the Content List block. Create a <code>blocks</code> folder under <code>app/Resources/views</code> and place the new template file in it:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="c93549b4-9f1e-4091-87dd-0ef96ce70a5b" data-macro-parameters="linenumbers=true|title=app/Resources/views/blocks/contentlist.html.twig" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading7c8f.png?definition=e2NvZGU6dGl0bGU9YXBwL1Jlc291cmNlcy92aWV3cy9ibG9ja3MvY29udGVudGxpc3QuaHRtbC50d2lnfGxpbmVudW1iZXJzPXRydWV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;div>
    &lt;h3 class="heading">{{ parentName }}&lt;/h3>
    {% if contentArray|length > 0 %}
        &lt;div class="content-list">
            {% for content in contentArray %}
                &lt;div class="content-list-item">
                    &lt;div class="content-list-item-image">
                        {{ ez_render_field(content.content, 'photo', {
                            'parameters': {
                                'alias': 'content_list'
                             }
                        }) }}
                    &lt;/div>
                    &lt;h4>&lt;a href="{{ path(content.location) }}">{{ ez_content_name(content.content) }}&lt;/a>&lt;/h4>
                    {% if not ez_is_field_empty(content.content, 'short_description') %}
                        &lt;div class="attribute-short-description">
                            {{ ez_render_field(content.content, 'short_description') }}
                        &lt;/div>
                    {% endif %}
                &lt;/div>
            {% endfor %}
        &lt;/div>
    {% endif %}
&lt;/div></pre></td></tr></table><p>Then we add a configuration that will tell the app to use this template instead of the default one. Go to the <code>layouts.yml</code> file that you created previously when preparing the Landing Page layout and <span class="inline-comment-marker" data-ref="4516960a-3309-4ff8-8843-b4c1abbeda21">add the following code</span>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="a25d5338-6553-4fce-acb0-49471ca683b0" data-macro-parameters="title=in app/config/layouts.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headinge394.png?definition=e2NvZGU6dGl0bGU9aW4gYXBwL2NvbmZpZy9sYXlvdXRzLnltbH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>blocks:
    contentlist:
        views:
            contentList:
                template: blocks/contentlist.html.twig
                name: Content List</pre></td></tr></table><p>This block should be placed at the end of the file, within the <code>ez_systems_landing_page_field_type</code> key. <span class="inline-comment-marker" data-ref="4de6e699-d70a-4de8-a050-47371872c17c">Watch your indentation!</span></p><p>One more thing is required to make the template work. The twig file specifies an <a class="confluence-link" href="../../display/DEVELOPER/Images.html" data-linked-resource-id="31430179" data-linked-resource-version="11" data-linked-resource-type="page" data-linked-resource-default-alias="Images" data-base-url="../../index.html">image alias</a> – a thumbnail of the <span class="inline-comment-marker" data-ref="706c256b-90ab-4ea7-9d2f-d5cb24bc5562">Dog Breed</span> image that will be displayed in the block. To configure this image alias, open the <code>app/config/image_variations.yml</code> file and add the following code under the <code>image_variations</code> key (once again, mind the <span class="inline-comment-marker" data-ref="a1405bee-0750-4070-95ae-92ab21a37f74">indentation</span>):</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="36292b90-f04e-4639-b291-63437c616007" data-macro-parameters="linenumbers=true|title=in app/config/image_variations.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingc2fe.png?definition=e2NvZGU6dGl0bGU9aW4gYXBwL2NvbmZpZy9pbWFnZV92YXJpYXRpb25zLnltbHxsaW5lbnVtYmVycz10cnVlfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>content_list:
    reference: null
        filters:
            - {name: geometry/scaleheightdownonly, params: [81]}
            - {name: geometry/crop, params: [80, 80, 0, 0]}</pre></td></tr></table><p>Finally, we should add some styling to the block. Add the following CSS <span class="inline-comment-marker" data-ref="34558231-2f63-4926-9c60-995acf1ccb1b">to the end</span> of the <code>web/assets/css/style.css</code> file:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="58a1cb0d-3aa2-441d-a92b-d23353aa16ad" data-macro-parameters="title=in web/assets/css/style.css" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading8a14.png?definition=e2NvZGU6dGl0bGU9aW4gd2ViL2Fzc2V0cy9jc3Mvc3R5bGUuY3NzfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>/* Landing Page */
@media only screen and (min-width: 992px) {
    aside > div {
        padding-left: 45px;
    }
}

/* Content list block */
.content-list-item {
    clear: left;
    min-height: 90px;
    padding-bottom: 5px;
    border-bottom: 1px solid black;
}

.content-list h5 {
    font-size: 1.3em;
}

.content-list-item-image {
    float: left;
    margin-right: 10px;
}</pre></td></tr></table><p>If you <span class="inline-comment-marker" data-ref="c88b7a02-3409-484c-ad33-485af700ce09">refresh the front page now</span>, you should see the new look of the Content List block.</p><p><img class="confluence-embedded-image confluence-thumbnail image-center" alt="Content List Styled" width="300" src="../../download/thumbnails/32868245/iadw_content_list_styled9254.png?version=2&amp;modificationDate=1479379153000&amp;api=v2" data-image-src="/download/attachments/32868245/iadw_content_list_styled.png?version=2&amp;modificationDate=1479379153000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="32868243" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="iadw_content_list_styled.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="32868245" data-linked-resource-container-version="9" title="Developer > Step 3 - Using existing blocks > iadw_content_list_styled.png (Content List Styled)" data-location="Developer > Step 3 - Using existing blocks > iadw_content_list_styled.png" data-element-title="Content List Styled" data-image-height="359" data-image-width="361"></p><h3>Create a Schedule Block for Featured Articles</h3><p>The next block to go with is the Schedule Block that will air articles at predetermined times. We will actually use two different schedule blocks, so that you can learn how to customize their layouts and how to make use of the overflow functionality.</p><p>The process of creating a new layout may already look familiar to you. First, let's add a configuration that will point to the layout. Go to the <code>layouts.yml</code> again and add the following code under <code>blocks</code>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="84392bff-7334-4bef-a5db-ecb2666124e8" data-macro-parameters="title=in app/config/layouts.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headinge394.png?definition=e2NvZGU6dGl0bGU9aW4gYXBwL2NvbmZpZy9sYXlvdXRzLnltbH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>schedule:
    views:
        schedule_featured:
            template: blocks/schedule_featured.html.twig
            name: Featured Schedule Block</pre></td></tr></table><p>As you can see, the configuration at this point defines one view for the schedule block that we called <code>schedule_featured</code> and points to a <code>schedule_featured.html.twig</code> file that will house its template. Place this new template file in <code>app/Resources/views/blocks</code>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="96d18034-9f08-41c6-941f-613d0b1b85f1" data-macro-parameters="linenumbers=true|title=app/Resources/views/blocks/schedule_featured.html.twig" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingeab2.png?definition=e2NvZGU6dGl0bGU9YXBwL1Jlc291cmNlcy92aWV3cy9ibG9ja3Mvc2NoZWR1bGVfZmVhdHVyZWQuaHRtbC50d2lnfGxpbmVudW1iZXJzPXRydWV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{% spaceless %}
    &lt;div class="schedule-layout schedule-layout--grid">
        &lt;div class="featured-articles-block">
            &lt;h2 class="heading">{{ 'Featured Articles'|trans }}&lt;/h2>
            &lt;div data-studio-slots-container>
                {% for idx in 0..2 %}
                    &lt;div class="col-md-4 featured-article-container" data-studio-slot>
                        {% if items[idx] is defined %}
                            {{ render(controller('ez_content:viewLocation', {
                                'locationId': items[idx],
                                'viewType': 'featured'
                            })) }}
                        {% endif %}
                    &lt;/div>
                {% endfor %}
            &lt;/div>
        &lt;/div>
    &lt;/div>
{% endspaceless %}</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="7007068b-b875-450c-a8fe-9cfa062b90e0" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>See the <code>data-studio-slots-container</code> (line 5) and <code>data-studio-slot</code> (line 7) attributes? Without them you won't be able to place Content in the slots of the Schedule Block, so don't forget about them if you decide to modify the template.</p></td></tr></table><p>When you look at the template, you can see three blocks, each of which will render the Content items using the <code>featured</code> view. As you may remember, so far we only have templates for <code>full</code> view for Articles. This means we need to create a <code>featured</code> view template for it as well, otherwise we will get an error when trying to add Content to the block.</p><p>For the app to know which template file to use in such a case, we need to modify the <code>views.yml</code> file again. Add the following code to this file, at the same level as the <code>full</code> key:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="cfe00afc-59a6-4559-81f8-8a42ece2c5d7" data-macro-parameters="title=in app/config/views.yml:" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingef81.png?definition=e2NvZGU6dGl0bGU9aW4gYXBwL2NvbmZpZy92aWV3cy55bWw6fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>featured:
    article:
        template: "featured/article.html.twig"
        match:
            Identifier\ContentType: "article"</pre></td></tr></table><p>Now make a <code>featured</code> subfolder in the folder that houses your templates and create the following <code>article.html.twig</code> file in it:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="4752e3b0-59d6-4ab5-a938-f9a710c3ba0b" data-macro-parameters="linenumbers=true|title=app/Resources/views/featured/article.html.twig" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd85b.png?definition=e2NvZGU6dGl0bGU9YXBwL1Jlc291cmNlcy92aWV3cy9mZWF0dXJlZC9hcnRpY2xlLmh0bWwudHdpZ3xsaW5lbnVtYmVycz10cnVlfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{% set imageAlias = ez_image_alias(content.getField('image'), content.versionInfo, 'featured_article') %}
&lt;div class="featured-article" style="background-image: url('{{ imageAlias.uri }}');">
    &lt;h4>&lt;a class="featured-article-link" href="{{ path('ez_urlalias', {'contentId': content.id}) }}">{{ ez_content_name(content) }}&lt;/a>&lt;/h4>
&lt;/div></pre></td></tr></table><p>Like in the case of the Content List block, the template specifies an image alias. Let's add it in <code>app/config/image_variations.yml</code> under the <code>image_variations</code> key:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="6822dc05-7c6b-42a0-bd39-33067904c386" data-macro-parameters="title=in app/config/image_variations.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading6eda.png?definition=e2NvZGU6dGl0bGU9aW4gYXBwL2NvbmZpZy9pbWFnZV92YXJpYXRpb25zLnltbH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>featured_article:
    reference: null
    filters:
        - {name: geometry/scaleheightdownonly, params: [200]}</pre></td></tr></table><p>The Block would already be operational now, but let's first update the stylesheet. Add the following CSS to the end of the <code>web/assets/css/style.css</code> file:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="bf8c32bf-7dd4-40ef-b127-13cae6ee7337" data-macro-parameters="language=css|title=in web/assets/css/style.css" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingf446.png?definition=e2NvZGU6bGFuZ3VhZ2U9Y3NzfHRpdGxlPWluIHdlYi9hc3NldHMvY3NzL3N0eWxlLmNzc30&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>/* Featured articles schedule block */
.featured-article-container {
    background-size: cover;
    padding: 0;
    margin-bottom: 20px;
}

.featured-article {
    height: 200px;
    padding: 0;
    background-repeat: no-repeat;
}

.featured-article-link:link,
.featured-article-link:visited {
    position: absolute;
    bottom: 0;
    margin-bottom: 0;
    background-color: rgba(255,255,255,.8);
    color: #000;
    font-size: 1.1em;
    padding: 7px;
}

.featured-article-link:hover,
.featured-article-link:focus {
    color: #654d31;
    text-decoration: none;
    border-bottom: none;
}</pre></td></tr></table><p>At this point you can add this Schedule block to your Landing Page and fill it with content to see how it works.</p><p>Go to the Edit mode of the Front Page and <span class="inline-comment-marker" data-ref="87a7036e-4a3c-4c87-a737-b43fef572ecb">drag a Schedule Block from the pane on the right to the main zone in the layout</span>. Select the block and click the Block Settings icon. Choose the Featured Schedule Block template and confirm. We will only be able to set up overflow once we have both blocks ready.</p><p>Now click the Add content (plus) icon, navigate to and choose one of the Articles in the All Articles folder. You will see it appear in one of the slots in the preview. Now hover over this Article and click Airtime. Here you can choose the time at which this Content item will be published on the Landing Page. Do the same for two more Articles, so that all three slots are filled with content. Try to choose different airtimes for all three of them – you will then be able to see well how the Schedule block functions. Once you are done, take a look at the Timeline at the top of the screen. You can move the slider to different times and preview what the Schedule Block will look like at different hours, with content being hidden if you jumped to a point before its airtime.</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="3989642e-9834-4108-aac2-774789b5ae2e" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>At this point we have configured our Schedule Block to work well with Articles only. If you try to add Content of any other type, you will see an error. This is because there is no <code>featured</code> view for content other than Articles defined at the moment. If you'd like some more practice or want to make your website more foolproof, you can create such templates for all other Content Types in the database.</p></td></tr></table><p><img class="confluence-embedded-image image-center" alt="Front Page after adding Featured Block" width="600" src="../../download/attachments/32868245/iadw_page_with_featured_articles9bd5.png?version=3&amp;modificationDate=1482149536000&amp;api=v2" data-image-src="/download/attachments/32868245/iadw_page_with_featured_articles.png?version=3&amp;modificationDate=1482149536000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="32868241" data-linked-resource-version="3" data-linked-resource-type="attachment" data-linked-resource-default-alias="iadw_page_with_featured_articles.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="32868245" data-linked-resource-container-version="9" title="Developer > Step 3 - Using existing blocks > iadw_page_with_featured_articles.png (Front Page after adding Featured Block)" data-location="Developer > Step 3 - Using existing blocks > iadw_page_with_featured_articles.png" data-element-title="Front Page after adding Featured Block" data-image-height="844" data-image-width="1230"></p><h3>Create a Schedule Block for Other Articles</h3><p>Now we'll proceed with preparing the second Schedule Block for our Landing Page. The procedure will be very similar as in the first case. First, let's add the new block to configuration by adding this code to <code>layouts.yml</code>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="0cdc9554-6d0b-4edd-b7b3-5f6d92004e60" data-macro-parameters="title=in app/config/layouts.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headinge394.png?definition=e2NvZGU6dGl0bGU9aW4gYXBwL2NvbmZpZy9sYXlvdXRzLnltbH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>schedule_list:
    template: blocks/schedule_list.html.twig
    name: List Schedule Block</pre></td></tr></table><p>Next, we provide a template for the block:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="74410e7f-2121-4416-acbb-67fa4c572f29" data-macro-parameters="linenumbers=true|title=app/Resources/views/blocks/schedule_list.html.twig" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading42e0.png?definition=e2NvZGU6dGl0bGU9YXBwL1Jlc291cmNlcy92aWV3cy9ibG9ja3Mvc2NoZWR1bGVfbGlzdC5odG1sLnR3aWd8bGluZW51bWJlcnM9dHJ1ZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{% spaceless %}
    &lt;div class="other-articles-block">
        &lt;h4 class="heading">{{ 'Other Articles'|trans }}&lt;/h4>
        &lt;div data-studio-slots-container>
            {% for idx in 0..2 %}
                &lt;div data-studio-slot>
                    {% if items[idx] is defined %}
                        {{ render(controller('ez_content:viewLocation', {
                            'locationId': items[idx],
                            'viewType': 'list'
                        })) }}
                    {% endif %}
                &lt;/div>
            {% endfor %}
        &lt;/div>
    &lt;/div>
{% endspaceless %}</pre></td></tr></table><p>We also need a template for the <code>list</code> view for Articles:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="c9ed265c-9547-4079-970d-823f9ecad4ee" data-macro-parameters="linenumbers=true|title=app/Resources/views/list/article.html.twig" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading8cf7.png?definition=e2NvZGU6dGl0bGU9YXBwL1Jlc291cmNlcy92aWV3cy9saXN0L2FydGljbGUuaHRtbC50d2lnfGxpbmVudW1iZXJzPXRydWV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;div class="other-article">
    &lt;div class="other-article-image">
        {{ ez_render_field(content, 'image', {
            'parameters': {
                'alias': 'other_article'
             }
        }) }}
    &lt;/div>
    &lt;h5>
        &lt;a class="other-article-link" href="{{ path('ez_urlalias', {'contentId': content.id}) }}">{{ ez_content_name(content) }}&lt;/a>
    &lt;/h5>
&lt;/div></pre></td></tr></table><p>and an entry in <code>views.yml</code>:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="5473baf3-9159-4ffb-a140-d67e61c7b810" data-macro-parameters="title=in app/config/views.yml:" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingef81.png?definition=e2NvZGU6dGl0bGU9aW4gYXBwL2NvbmZpZy92aWV3cy55bWw6fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>list:
    article:
        template: "list/article.html.twig"
        match:
            Identifier\ContentType: "article"</pre></td></tr></table><p>Like before, we must add one more image alias to the <code>image_variations.yml</code> file:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="776044f4-abed-408f-b9a6-5cbc47402d8d" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>other_article:
    reference: null
    filters:
        - {name: geometry/scaleheightdownonly, params: [120]}
        - {name: geometry/crop, params: [120, 100, 0, 0]}</pre></td></tr></table><p>As the last thing, let's provide the new block with some styling. Add the following to the end of the <code>web/assets/css/style.css</code> file:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="76a1b476-b6d0-4e33-b10b-a5c3751d4959" data-macro-parameters="language=css|title=in web/assets/css/style.css" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingf446.png?definition=e2NvZGU6bGFuZ3VhZ2U9Y3NzfHRpdGxlPWluIHdlYi9hc3NldHMvY3NzL3N0eWxlLmNzc30&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>/* Other articles schedule block */
.other-articles-block {
    padding-top: 20px;
}

.other-article {
    clear: left;
    padding-top: 5px;
}

.other-article-image {
    float: left;
    margin-right: 18px;
}

.other-article h5 {
    padding-top: 25px;
    font-size: 1.2em;
}

.other-article-link:link,
.other-article-link:visited {
    font-size: 1.2em;
}
</pre></td></tr></table><p>With this done, you should be able to add a new Schedule Block to the Front Page and select the List Schedule Block layout. Give the block an easily recognizable name, such as &quot;Other Articles&quot;. Add two Articles to it to see how their look will differ from the featured ones.</p><p><img class="confluence-embedded-image image-center" alt="The Page after adding a List Schedule Block" width="600" src="../../download/attachments/32868245/iadw_after_list_schedule_block9bd5.png?version=3&amp;modificationDate=1482149536000&amp;api=v2" data-image-src="/download/attachments/32868245/iadw_after_list_schedule_block.png?version=3&amp;modificationDate=1482149536000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="32868240" data-linked-resource-version="3" data-linked-resource-type="attachment" data-linked-resource-default-alias="iadw_after_list_schedule_block.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="32868245" data-linked-resource-container-version="9" title="Developer > Step 3 - Using existing blocks > iadw_after_list_schedule_block.png (The Page after adding a List Schedule Block)" data-location="Developer > Step 3 - Using existing blocks > iadw_after_list_schedule_block.png" data-element-title="The Page after adding a List Schedule Block" data-image-height="626" data-image-width="1158"></p><h3>Set up overflow</h3><p>Now let's make use of the overflow functionality. In the settings of the Featured Articles block turn on overflow and select the Other Articles block as its overflow target. This controls how content will behave once it has to leave the first block. This is behavior you are surely familiar with from many websites: we have placed featured articles in the first Schedule block and planned the times on which they will be aired. When a new article appears in this block, the last article currently in it will be 'pushed off' and will land in the block designated as the overflow block – that means in the list of articles below. In this way the most current articles are showcased at the top, while older articles are still easily accessible from the front page.</p><p>You can try this out now. Add one more Article to the Featured Articles block. You will see a message warning you that some content will be pushed out. When you confirm, the pushed out Article will move to the top of the Other Articles block.</p><p><img class="confluence-embedded-image image-center" alt="Overflow push-out warning" width="600" src="../../download/attachments/32868245/iadw_overflow_warning5b96.png?version=1&amp;modificationDate=1478253429000&amp;api=v2" data-image-src="/download/attachments/32868245/iadw_overflow_warning.png?version=1&amp;modificationDate=1478253429000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="32868239" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="iadw_overflow_warning.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="32868245" data-linked-resource-container-version="9" title="Developer > Step 3 - Using existing blocks > iadw_overflow_warning.png (Overflow push-out warning)" data-location="Developer > Step 3 - Using existing blocks > iadw_overflow_warning.png" data-element-title="Overflow push-out warning" data-image-height="187" data-image-width="979"></p><p> </p><hr /><p> </p><table class="wysiwyg-macro" data-macro-name="section" data-macro-id="82b25c23-c5eb-4b0b-97c7-ef45f8d8a9d6" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading83a9.png?definition=e3NlY3Rpb259&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><table class="wysiwyg-macro" data-macro-name="column" data-macro-id="a2b527a6-91d8-4a50-95c9-bf578849011e" data-macro-parameters="width=50%" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading99b3.png?definition=e2NvbHVtbjp3aWR0aD01MCV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p> <span class="char" title="Leftwards Black Arrow">⬅</span> Previous: <a class="confluence-link" href="../../display/DEVELOPER/Step%2b2%2b-%2bPreparing%2bthe%2bLanding%2bPage.html" data-linked-resource-id="32868235" data-linked-resource-version="10" data-linked-resource-type="page" data-linked-resource-default-alias="Step 2 - Preparing the Landing Page" data-base-url="../../index.html">Step 2 - Preparing the Landing Page</a></p></td></tr></table><table class="wysiwyg-macro" data-macro-name="column" data-macro-id="3149998f-305f-4f15-a3ee-24cb37ea9edd" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading16cd.png?definition=e2NvbHVtbn0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p class="confluence-link" style="text-align: right;">Next: <a class="confluence-link" href="../../display/DEVELOPER/Step%2b4%2b-%2bCreating%2ba%2bcustom%2bblock.html" data-linked-resource-id="32868249" data-linked-resource-version="9" data-linked-resource-type="page" data-linked-resource-default-alias="Step 4 - Creating a custom block" data-base-url="../../index.html">Step 4 - Creating a custom block</a> <span class="confluence-link" title="Black Rightwards Arrow">➡</span></p></td></tr></table></td></tr></table></div>
</div>
<div class="cell aside" data-type="aside">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="panel" data-macro-id="ae2074b6-da5a-45cb-a6b0-06cdf17b1f12" data-macro-parameters="bgColor=#ffffff|borderColor=#f58220|borderWidth=2|title=Tutorial path|titleBGColor=#ffffff" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingee25.png?definition=e3BhbmVsOmJvcmRlckNvbG9yPSNmNTgyMjB8YmdDb2xvcj0jZmZmZmZmfGJvcmRlcldpZHRoPTJ8dGl0bGVCR0NvbG9yPSNmZmZmZmZ8dGl0bGU9VHV0b3JpYWwgcGF0aH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macrofe5e.png?definition=e3BhZ2V0cmVlOnJvb3Q9ZVogRW50ZXJwcmlzZSBCZWdpbm5lciBUdXRvcmlhbCAtIEl0J3MgYSBEb2cncyBXb3JsZH0&amp;locale=en_GB&amp;version=2" data-macro-name="pagetree" data-macro-id="905b7036-0cbf-4db8-90f0-6aa27eeae546" data-macro-parameters="root=eZ Enterprise Beginner Tutorial - It's a Dog's World" data-macro-schema-version="1"></p></td></tr></table></div>
</div>
</div>
</div>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=32868245 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:26:08 GMT -->
</html>
