                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=30712101 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:58:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpage68e8.html?pageId=30712101" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/colors82a8.css?spaceKey=TECHDOC" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/custom82a8.css?spaceKey=TECHDOC" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <p>The backend interface is produced by <a class="confluence-link" href="../../display/TECHDOC/PlatformUI%2bBundle.html" data-linked-resource-id="30712091" data-linked-resource-version="5" data-linked-resource-type="page" data-linked-resource-default-alias="PlatformUI Bundle" data-base-url="https://doc.ez.no">the PlatformUI Bundle</a> which provides a JavaScript Single Page Application based on <a href="http://yuilibrary.com/yui/docs/app/">the YUI App Framework</a>. This application is accessible in your browser at <strong>http://[uri_of_platform]/ez</strong>.</p><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro4170.png?definition=e3RvY30&amp;locale=en_GB&amp;version=2" data-macro-name="toc" data-macro-id="45525093-f550-4ed4-a0c1-fe7cf1348849" data-macro-schema-version="1"></p><h2>Technical architecture</h2><p>The PlatformUI application code is divided into different types of components:</p><ul><li><strong>Application:</strong> this is the top level component, the PlatformUI application is an instance of it. It is responsible for authenticating the user and for handling the routing.</li><li><strong>Models:</strong> models are the main objects handled by the application, they represent our main domain objects (Content, Location, Content Type, etc.)</li><li><strong>View services:</strong> view services act between the Application and the Views. They are configured on the routes and the main responsibility of a view service is to provide the model (or other data) to the views and to perform the operations requested by the user (removing a Content item, copying, etc.)</li><li><strong>Views:</strong> views generate the user interface and handle the user interaction (clicking, form submitting, etc.). A view can have several sub-views which can have further sub-views themselves.</li><li><strong>Plugins:</strong> plugins can enhance the application, the view services or the views for instance to provide additional features or to tweak the behavior of the plugged component.</li></ul><p>The following chart depicts the interaction between those components:</p><p><img class="confluence-embedded-image confluence-content-image-border" alt="Overview of PlatformUI component structure" height="400" src="../../download/attachments/30712101/architecture_platformuie51a.png?version=1&amp;modificationDate=1450105102000&amp;api=v2" data-image-src="/download/attachments/30712101/architecture_platformui.png?version=1&amp;modificationDate=1450105102000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="30712100" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="architecture_platformui.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30712101" data-linked-resource-container-version="11" title="TECHDOC > Backend interface > architecture_platformui.png" data-location="TECHDOC > Backend interface > architecture_platformui.png" data-image-height="1057" data-image-width="2025"></p><h3>Views: main view, sub-view, side view</h3><p>The views represent a large part of the application and each of them can be used in three different contexts:</p><ol><li>As the main view</li><li>As a sub-view of another (sub-)view</li><li>As a side view</li></ol><h4>Main view</h4><p>A view used as a main view is configured at the route level to be displayed when the user navigates to that route.</p><p>For instance, when reaching <code>/ez</code>, the user is redirected to the <code>loginForm</code> route (<code>/ez#/login</code>) and this route is configured in the following way in the application component:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="d019d666-6d72-40a2-8a48-b0daa07cd5e9" data-macro-parameters="language=js" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingf871.png?definition=e2NvZGU6bGFuZ3VhZ2U9anN9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{
     name: "loginForm",
     path: "/login",
     service: Y.eZ.LoginFormViewService,
     sideViews: {'navigationHub': false, 'discoveryBar': false},
     view: 'loginFormView',
     callbacks: ['open', 'handleSideViews', 'handleMainView']
}</pre></td></tr></table><p>Among others things, this means the view <code>loginFormView</code> will be used as the main view when this route is matched. <code>loginFormView</code> is actually <a href="http://yuilibrary.com/yui/docs/app/#declaring-views">the identifier of the view metadata registered in the <code>view</code> property of the Application</a>.</p><h4>Sub-view</h4><p>To avoid having huge main views doing too many things in the application, the views are divided into smaller parts called sub-views.</p><p><img class="confluence-embedded-image confluence-content-image-border" height="675" width="1074" src="../../download/attachments/30712101/sub-views010a.png?version=1&amp;modificationDate=1450192561000&amp;api=v2" data-image-src="/download/attachments/30712101/sub-views.png?version=1&amp;modificationDate=1450192561000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="30712345" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="sub-views.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30712101" data-linked-resource-container-version="11" title="TECHDOC > Backend interface > sub-views.png" data-location="TECHDOC > Backend interface > sub-views.png" data-image-height="675" data-image-width="1074"></p><p>For instance, the view used to display a Location is divided into several views at several levels, it contains:</p><ul><li>An action bar view for the right toolbar, which contains:<ul><li>a view for the Minimize button</li><li>a view for the Create button which contains:<ul><li>a view to list and select a Content Type</li></ul></li><li>a view for the Edit button</li><li>...</li></ul></li><li>A Location View tab view which contains:<br /><ul><li>the Raw Content View to display the fields which contains:<ul><li>A view for each fields</li><li>...</li></ul></li></ul></li><li>A Location Details tab view</li><li>...</li><li>A sub-item list view</li></ul><h4>Side view</h4><p>A view can also be used as a side view. As its name suggests a side view can represent anything that is not part of the main view.</p><p>For instance, when displaying a Location, the top menu (the Navigation hub) or the left toolbar (the Discovery Bar) are side views.</p><p><img class="confluence-embedded-image confluence-content-image-border" height="645" width="1134" src="../../download/attachments/30712101/locationview928b.png?version=3&amp;modificationDate=1450189715000&amp;api=v2" data-image-src="/download/attachments/30712101/locationview.png?version=3&amp;modificationDate=1450189715000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="30712310" data-linked-resource-version="3" data-linked-resource-type="attachment" data-linked-resource-default-alias="locationview.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30712101" data-linked-resource-container-version="11" title="TECHDOC > Backend interface > locationview.png" data-location="TECHDOC > Backend interface > locationview.png" data-image-height="645" data-image-width="1134"></p><p>The side views are also used for various widgets providing a service used several times in the application, such as the Universal Discovery Widget.</p><h3>View services</h3><p>The view services act between the Application and the Views for both the main views and the side views. They are responsible for providing the required data needed by a main view or a side view to be rendered. A view service will also receive the events triggered by the view to react or provide the additional data. For that, the view services receive an instance of the JavaScript REST Client.</p><h2>How are pages generated?</h2><p>Depending on the part of the PlatformUI Application you are using, the page may be generated in two different ways. From an end-user perspective, this is almost transparent but as a developer it is important to understand how the page is generated to be able to extend it.</p><h3>Browser side rendering</h3><p>The pages in the content part (as opposed to admin related pages) are fully rendered in the browser. For instance, when displaying a Location in PlatformUI, the corresponding view service loads the Location model and the <em>related</em> models (Content, Content Type, etc.) with the eZ Platform REST API (through the JavaScript REST Client) and gives them the LocationView to be displayed directly by this view and/or by its sub-views. If you open the browser developer tools in the network panel, you can see the REST requests needed to build the page and they only contain a JSON structure.</p><p><img class="confluence-embedded-image confluence-content-image-border" height="592" width="946" src="../../download/attachments/30712101/network_panel21469.png?version=1&amp;modificationDate=1450703363000&amp;api=v2" data-image-src="/download/attachments/30712101/network_panel2.png?version=1&amp;modificationDate=1450703363000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="31424616" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="network_panel2.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30712101" data-linked-resource-container-version="11" title="TECHDOC > Backend interface > network_panel2.png" data-location="TECHDOC > Backend interface > network_panel2.png" data-image-height="592" data-image-width="946"></p><h3>Server side rendering</h3><p>The pages in the admin are build in a more traditional way as they are partly rendered server side. For those pages, the view service fetches one (or several) HTML fragment(s) from the server. This HTML fragment follows a very simple structure and can be generated by any means on the server and of course, in PlatformUI this is done in a quite standard Symfony controller. By opening the browser developer tools in the network panel you can see the requests needed to build the section list page.</p><p><img class="confluence-embedded-image confluence-content-image-border" height="592" width="946" src="../../download/attachments/30712101/network_panelc238.png?version=2&amp;modificationDate=1450108786000&amp;api=v2" data-image-src="/download/attachments/30712101/network_panel.png?version=2&amp;modificationDate=1450108786000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="30712103" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="network_panel.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30712101" data-linked-resource-container-version="11" title="TECHDOC > Backend interface > network_panel.png" data-location="TECHDOC > Backend interface > network_panel.png" data-image-height="592" data-image-width="946"></p><h2>UI Components</h2><h3>Navigation hub</h3><p>The Navigation Hub is a side view displaying the top menu.</p><p><img class="confluence-embedded-image confluence-content-image-border" height="103" width="1137" src="../../download/attachments/30712101/nav_hub2c32.png?version=1&amp;modificationDate=1450192858000&amp;api=v2" data-image-src="/download/attachments/30712101/nav_hub.png?version=1&amp;modificationDate=1450192858000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="30712349" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="nav_hub.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30712101" data-linked-resource-container-version="11" title="TECHDOC > Backend interface > nav_hub.png" data-location="TECHDOC > Backend interface > nav_hub.png" data-image-height="103" data-image-width="1137"></p><p>It displays 4 <strong>Navigation zones</strong>:</p><ul><li><em>Content</em></li><li><em>Page</em></li><li><em>Performance</em></li><li><em>Admin Panel</em></li></ul><p>A zone can contain an arbitrary number of <strong>Navigation zone items</strong>. By default, the <em>Content</em> zone has 2 navigation items: <em>Content structure</em> and <em>Media library</em>.</p><h3>Bar views: Discovery Bar View, Action Bar View, Edit Action Bar View</h3><p>Bar views provide a set of potential actions for the user.</p><p><img class="confluence-embedded-image" src="../../download/attachments/30712101/locationview26ed3.png?version=1&amp;modificationDate=1450193593000&amp;api=v2" data-image-src="/download/attachments/30712101/locationview2.png?version=1&amp;modificationDate=1450193593000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="30712352" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="locationview2.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30712101" data-linked-resource-container-version="11" title="TECHDOC > Backend interface > locationview2.png" data-location="TECHDOC > Backend interface > locationview2.png" data-image-height="780" data-image-width="1137"></p><p>When navigating in the Content zone, the <strong>Discovery Bar View</strong> allows you to discover content while the <strong>Action Bar View</strong> on the right allows you to act on the Content item being viewed (edit, move, copy, etc.).</p><p>When editing a Content item, the <strong>Edit Action Bar View</strong> on the right allows you to act on the Content item being edited.</p><h3>Universal Discovery Widget</h3><p><img class="confluence-embedded-image" src="../../download/attachments/30712101/udw88f0.png?version=1&amp;modificationDate=1450196456000&amp;api=v2" data-image-src="/download/attachments/30712101/udw.png?version=1&amp;modificationDate=1450196456000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="30712354" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="udw.png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="30712101" data-linked-resource-container-version="11" title="TECHDOC > Backend interface > udw.png" data-location="TECHDOC > Backend interface > udw.png" data-image-height="572" data-image-width="1139"></p><p>The Universal Discovery Widget is a side view triggered when the user needs to pick a Content item (or a Location). It can provide several <strong>Discovery Methods</strong>. By default, <em>Browse</em> and <em>Search</em> are available.</p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=30712101 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:58:37 GMT -->
</html>
